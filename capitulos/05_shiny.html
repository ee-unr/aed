<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="es" xml:lang="es"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.42">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Comunicación de Resultados: Shiny – Análisis Exploratorio de Datos</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../capitulos/05_tableros.html" rel="next">
<link href="../capitulos/05.html" rel="prev">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-2f5df379a58b258e96c21c0638c20c03.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-dark-b53751a350365c71b6c909e95f209ed1.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap-7dc4809af68284bc67e7de96a4bd5e3c.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../site_libs/bootstrap/bootstrap-dark-83123365b82d3e0a114b8a4caf34d831.min.css" rel="prefetch" append-hash="true" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script src="../site_libs/quarto-contrib/glightbox/glightbox.min.js"></script>
<link href="../site_libs/quarto-contrib/glightbox/glightbox.min.css" rel="stylesheet">
<link href="../site_libs/quarto-contrib/glightbox/lightbox.css" rel="stylesheet">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "Sin resultados",
    "search-matching-documents-text": "documentos encontrados",
    "search-copy-link-title": "Copiar el enlace en la búsqueda",
    "search-hide-matches-text": "Ocultar resultados adicionales",
    "search-more-match-text": "resultado adicional en este documento",
    "search-more-matches-text": "resultados adicionales en este documento",
    "search-clear-button-title": "Borrar",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancelar",
    "search-submit-button-title": "Enviar",
    "search-label": "Buscar"
  }
}</script>
<script src="../site_libs/kePrint-0.0.1/kePrint.js"></script>
<link href="../site_libs/lightable-0.0.1/lightable.css" rel="stylesheet">
<link href="../site_libs/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet">
<script src="../site_libs/htmlwidgets-1.6.4/htmlwidgets.js"></script>
<script src="../site_libs/plotly-binding-4.10.4/plotly.js"></script>
<script src="../site_libs/typedarray-0.1/typedarray.min.js"></script>
<script src="../site_libs/jquery-3.5.1/jquery.min.js"></script>
<link href="../site_libs/crosstalk-1.2.1/css/crosstalk.min.css" rel="stylesheet">
<script src="../site_libs/crosstalk-1.2.1/js/crosstalk.min.js"></script>
<link href="../site_libs/plotly-htmlwidgets-css-2.11.1/plotly-htmlwidgets.css" rel="stylesheet">
<script src="../site_libs/plotly-main-2.11.1/plotly-latest.min.js"></script>
<script src="../site_libs/echarts4r-4.8.0/echarts-en.min.js"></script>
<script src="../site_libs/echarts4r-4.8.0/ecStat.min.js"></script>
<script src="../site_libs/echarts4r-4.8.0/dataTool.min.js"></script>
<script src="../site_libs/echarts4r-binding-0.4.5/echarts4r.js"></script>


<link rel="stylesheet" href="../webexercises/webex.css">
</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Alternar barra lateral" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../capitulos/05.html">Unidad 5. Shiny</a></li><li class="breadcrumb-item"><a href="../capitulos/05_shiny.html"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Comunicación de Resultados: Shiny</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Alternar barra lateral" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Buscar" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="../">Análisis Exploratorio de Datos</a> 
        <div class="sidebar-tools-main">
    <a href="https://github.com/ee-unr/aed" title="Ejecutar el código" class="quarto-navigation-tool px-1" aria-label="Ejecutar el código"><i class="bi bi-github"></i></a>
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Alternar modo oscuro"><i class="bi"></i></a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Buscar"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Bienvenida</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../capitulos/00_info.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Información general sobre la asignatura</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../capitulos/01.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Unidad 1. Introducción</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Alternar sección">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../capitulos/01_teoria_de_la_visualizacion.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Teoría de la Visualización</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../capitulos/01_buenas_practicas_visualizacion.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Buenas Prácticas para la Visualización de Datos</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../capitulos/01_introduccion_a_ggplot2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Introducción a <code>ggplot2</code></span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../capitulos/02.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Unidad 2. R Markdown</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true" aria-label="Alternar sección">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../capitulos/02_Rmarkdown.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Comunicación de Resultados: R Markdown</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../capitulos/02_reportes_parametrizados.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Comunicación de Resultados: Reportes Parametrizados</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../capitulos/03.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Unidad 3. Cuali</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true" aria-label="Alternar sección">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../capitulos/03_georreferencia.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Georreferencia</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../capitulos/03_visualizacion_variables_cualitativas.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Visualización de Variables Cualitativas</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../capitulos/04.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Unidad 4. Cuanti</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="true" aria-label="Alternar sección">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../capitulos/04_visualizacion_variables_cuantitativas.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Unidad 4 - Visualización de Variables Cuantitativas</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../capitulos/05.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Unidad 5. Shiny</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" role="navigation" aria-expanded="true" aria-label="Alternar sección">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../capitulos/05_shiny.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Comunicación de Resultados: Shiny</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../capitulos/05_tableros.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Tableros</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../capitulos/05_reactividad.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Reactividad</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../capitulos/05_publicar.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Publicar</span></span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Tabla de contenidos</h2>
   
  <ul>
  <li><a href="#introducción-a-shiny" id="toc-introducción-a-shiny" class="nav-link active" data-scroll-target="#introducción-a-shiny">Introducción a Shiny</a>
  <ul class="collapse">
  <li><a href="#usos-comunes-de-shiny" id="toc-usos-comunes-de-shiny" class="nav-link" data-scroll-target="#usos-comunes-de-shiny">Usos comunes de Shiny</a></li>
  <li><a href="#estructura-de-una-shiny-app" id="toc-estructura-de-una-shiny-app" class="nav-link" data-scroll-target="#estructura-de-una-shiny-app">Estructura de una Shiny App</a></li>
  </ul></li>
  <li><a href="#datos-canciones-de-queen" id="toc-datos-canciones-de-queen" class="nav-link" data-scroll-target="#datos-canciones-de-queen">Datos: canciones de Queen</a>
  <ul class="collapse">
  <li><a href="#acp" id="toc-acp" class="nav-link" data-scroll-target="#acp">ACP</a></li>
  </ul></li>
  <li><a href="#paso-i-preliminares" id="toc-paso-i-preliminares" class="nav-link" data-scroll-target="#paso-i-preliminares">Paso I: Preliminares</a></li>
  <li><a href="#paso-ii-interfaz" id="toc-paso-ii-interfaz" class="nav-link" data-scroll-target="#paso-ii-interfaz">Paso II: Interfaz</a></li>
  <li><a href="#paso-iii-outputs" id="toc-paso-iii-outputs" class="nav-link" data-scroll-target="#paso-iii-outputs">Paso III: Outputs</a></li>
  <li><a href="#paso-iv-servidor" id="toc-paso-iv-servidor" class="nav-link" data-scroll-target="#paso-iv-servidor">Paso IV: Servidor</a></li>
  <li><a href="#paso-v-widgets" id="toc-paso-v-widgets" class="nav-link" data-scroll-target="#paso-v-widgets">Paso V: Widgets</a></li>
  <li><a href="#paso-vi-reactividad" id="toc-paso-vi-reactividad" class="nav-link" data-scroll-target="#paso-vi-reactividad">Paso VI: Reactividad</a></li>
  <li><a href="#paso-vii-ejecución" id="toc-paso-vii-ejecución" class="nav-link" data-scroll-target="#paso-vii-ejecución">Paso VII: Ejecución</a></li>
  <li><a href="#trabajo-en-equipo" id="toc-trabajo-en-equipo" class="nav-link" data-scroll-target="#trabajo-en-equipo">Trabajo en Equipo</a></li>
  </ul>
<div class="toc-actions"><ul><li><a href="https://github.com/ee-unr/aed/edit/main/capitulos/05_shiny.qmd" class="toc-action"><i class="bi bi-github"></i>Editar esta página</a></li><li><a href="https://github.com/ee-unr/aed/issues/new" class="toc-action"><i class="bi empty"></i>Informar de un problema</a></li><li><a href="https://github.com/ee-unr/aed/blob/main/capitulos/05_shiny.qmd" class="toc-action"><i class="bi empty"></i>Ver el código</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../capitulos/05.html">Unidad 5. Shiny</a></li><li class="breadcrumb-item"><a href="../capitulos/05_shiny.html"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Comunicación de Resultados: Shiny</span></a></li></ol></nav>
<div class="quarto-title">
<h1 class="title"><span class="chapter-title">Comunicación de Resultados: Shiny</span></h1>
<p class="subtitle lead">Análisis Exploratorio de Datos | Licenciatura en Estadística | FCEyE | UNR</p>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<!-- Texto justificado -->
<style>
body {
text-align: justify}
</style>
<!-- Agregamos esto para que no haya mucho espacio extra, en blanco, al final de la pagina (es un problema con el toc flotante) -->
<div class="tocify-extend-page" data-unique="tocify-extend-page" style="height: 0;">

</div>
<section id="introducción-a-shiny" class="level2">
<h2 class="anchored" data-anchor-id="introducción-a-shiny">Introducción a Shiny</h2>
<div class="alert alert-success">
<p><strong>¿Qué es Shiny?</strong></p>
<p><span style="color: red;"><b>Shiny</b></span> (W. Chang et al, 2021) es un paquete de R que permite construir aplicaciones web directamente desde RStudio.</p>
</div>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="../imagenes/unidad05/shiny.png" class="lightbox" data-gallery="quarto-lightbox-gallery-1"><img src="../imagenes/unidad05/shiny.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:25.0%"></a></p>
</figure>
</div>
</div>
</div>
<ul>
<li><p>Una característica importante de las aplicaciones web creadas mediante Shiny es que son <strong>dinámicas e interactivas</strong>. Esto implica que los usuarios pueden decidir qué datos ver, cómo verlos, y <em>jugar</em> con ellos.</p></li>
<li><p>Shiny puede instalarse como cualquier otro paquete de R:</p></li>
</ul>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">"shiny"</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="usos-comunes-de-shiny" class="level3">
<h3 class="anchored" data-anchor-id="usos-comunes-de-shiny">Usos comunes de Shiny</h3>
<p>Actualmente Shiny es utilizado con una gran variedad de propósitos, en diversos ámbitos de aplicación. Algunos ejemplos son:</p>
<ul>
<li><p>Empresas que desarrollan <strong>tableros de información</strong> (<em>dashboards</em>) para analizar en tiempo real cientos de indicadores, métricas y gráficas relativas a la situación actual de la compañía, por ejemplo: <a href="https://edgarruiz.shinyapps.io/db-dashboard/">tablero para analizar tráfico aéreo según mes y aerolínea</a>. En el mercado actual existen alternativas a Shiny, como por ejemplo Power BI o Tableau; si bien la preferencia entre uno u otro software dependerá del contexto, una búsqueda rápida en Google (<em>‘shiny vs power bi’</em> o bien <em>‘shiny vs tableau’</em>) nos demuestra que la discusión sigue abierta.</p></li>
<li><p>Organismos públicos que buscan <strong>digitalizar grandes volúmenes de información</strong>, evitando de esa manera recurrir a la impresión de miles de hojas de papel. Para poder comunicar resultados de manera eficiente, es necesario que el medio a través del cual circula la información sea flexible y de fácil acceso; por ejemplo, compartir los resultados de un Censo de Población y Hogares de manera física requiere editar varios libros con cientos de tablas y cuadros desagregados según múltiples variables (provincia, género, edad, condición de empleo, etc.). Mediante una Shiny app podemos almacenar toda esta información en un solo lugar, ahorrando así costos de impresión, envío, etc. Ejemplo: <a href="https://estadistica-unr.shinyapps.io/series/">evolución de la cantidad de estudiantes, ingresantes y egresados/as en carreras de grado de la UNR</a>. Otros ejemplos: <a href="https://appsilon.com/r-shiny-in-government-examples/" class="uri">https://appsilon.com/r-shiny-in-government-examples/</a>.</p></li>
<li><p>Docentes que desarrollan apps interactivas con el objetivo de <strong>facilitar la enseñanza</strong> de conceptos mediante visualizaciones apropiadas. Ejemplo: <a href="https://mpru.shinyapps.io/samplingDistributions/">visualización de distribuciones muestrales para la media, variancia y proporción</a>.</p></li>
<li><p>Organizaciones que desean <strong>comunicar resultados</strong> de estudios o investigaciones de manera dinámica y actualizada en tiempo real. Algunos ejemplos son: seguimiento del avance de la pandemia de COVID-19 mediante referenciación geográfica, análisis de métricas relacionadas a deportistas, aplicaciones que permiten importar datasets sobre los cuales se ajustan modelos predefinidos, y un largo etcétera. Ejemplos: <a href="https://shiny.posit.co/r/gallery/life-sciences/covid19-tracker/">app para monitoreo de casos de COVID-19</a> y <a href="https://gadenbuie.shinyapps.io/tweet-conf-dash/">app para visualizar en vivo los tweets más relevantes con cierto hashtag</a>.</p></li>
<li><p>Personas que arman aplicaciones sólo por diversión: <a href="https://shiny.rstudio.com/gallery/word-cloud.html">nube de palabras de obras de Shakespeare</a>, <a href="https://dreamrs.shinyapps.io/memory-hex/">juego de la memoria con stickers de paquetes de R</a>.</p></li>
</ul>
<p>Para una muestra más completa de las posibilidades que ofrece Shiny, recomendamos visitar la <a href="https://shiny.rstudio.com/gallery/">galería de apps seleccionadas por RStudio</a> y las <a href="https://www.rstudio.com/blog/winners-of-the-3rd-annual-shiny-contest/">apps ganadoras de la 3° edición del concurso Shiny Contest</a>.</p>
<p>Además, en la <a href="https://shiny.rstudio.com/">página web oficial de Shiny</a> existen numerosos <a href="https://shiny.rstudio.com/gallery/">ejemplos</a>, <a href="https://raw.githubusercontent.com/rstudio/cheatsheets/main/shiny.pdf">machetes</a> y <a href="https://shiny.rstudio.com/tutorial/">tutoriales</a> altamente recomendables para aquellas personas que estén dando sus primeros pasos con esta herramienta.</p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Bibliografía
</div>
</div>
<div class="callout-body-container callout-body">
<p>Aquellas personas interesadas en profundizar sus conocimientos sobre Shiny pueden consultar el muy recomendable libro <span style="color: red;"><b>Mastering Shiny</b></span> (2021) escrito por Hadley Wickham, desarrollador del <strong>tidyverse</strong> y referente de Posit (empresa anteriormente conocida como RStudio). El libro se encuentra disponible para ser leído de manera gratuita <a href="https://mastering-shiny.org/index.html">en este link</a>, y además, el código utilizado para generarlo puede consultarse <a href="https://github.com/hadley/mastering-shiny">en este repositorio público de GitHub</a>.</p>
</div>
</div>
</section>
<section id="estructura-de-una-shiny-app" class="level3">
<h3 class="anchored" data-anchor-id="estructura-de-una-shiny-app">Estructura de una Shiny App</h3>
<ul>
<li><p>A lo largo de este curso usaremos el término <strong>Shiny App</strong> para referirnos al conjunto de sentencias que generan la aplicación. Una Shiny App debe guardarse en un script de R, al cual llamaremos <em>app.R</em>.</p></li>
<li><p>Este archivo de sentencias estará conformado por 3 secciones bien diferenciadas:</p>
<ol type="1">
<li><strong>Interfaz del usuario</strong> (<em>user interface</em>)</li>
<li><strong>Función servidor</strong> (<em>server function</em>)</li>
<li><strong>Publicación de la app</strong> (<em>app deployment</em>)</li>
</ol></li>
</ul>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Aclaraciones
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li><p>En versiones antiguas de Shiny era necesario crear la interfaz y el servidor en archivos separados (<code>ui.R</code> y <code>server.R</code> respectivamente), aunque hoy en día esto es optativo.</p></li>
<li><p>Llamar a nuestro archivo de sentencias <code>app.R</code> no surge por un capricho, sino que es el nombre requerido por algunos servidores para poder ejecutar la aplicación de manera correcta cuando se encuentra disponible online. Si estamos trabajando con Shiny apps de manera local (en nuestra PC, sin publicación en web) podemos nombrar al script como más nos guste.</p></li>
<li><p>Usaremos la notación <code>NombrePaquete::NombreFunción()</code> para especificar explícitamente la función que estamos utilizando. Esta es una práctica recomendada para escribir código en R que mejora la claridad, evita conflictos y facilita el mantenimiento del código a largo plazo.</p></li>
</ul>
</div>
</div>
<section id="interfaz" class="level4">
<h4 class="anchored" data-anchor-id="interfaz">Interfaz</h4>
<ul>
<li>La <strong>interfaz del usuario</strong> (<em>user interface</em> o <em>ui</em>, por sus siglas en inglés) se encarga de controlar el aspecto de la página web. Muchos de los conceptos necesarios para desarrollar una interfaz están vinculados a lenguajes de programación como HTML, CSS o JavaScript. Afortunadamente, las funciones del paquete <code>bslib</code> facilitan en gran medida nuestro trabajo y no debemos preocuparnos (demasiado) por aprender a utilizar estos lenguajes.</li>
</ul>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Paquete {bslib}
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li><p><a href="https://rstudio.github.io/bslib/"><code>bslib</code></a> proporciona un moderno conjunto de herramientas de interfaz de usuario para Shiny basado en <a href="https://getbootstrap.com/">Bootstrap</a>. A diferencia de <code>shiny</code> (que utiliza Bootstrap 3) <code>bslib</code> utiliza la versión más moderna de Bootstrap (actualmente Bootstrap 5)</p></li>
<li><p>El paquete <code>bslib</code> es una <em>dependencia</em> de <code>shiny</code>, es decir, se instala al momento de instalar <code>shiny</code>.</p></li>
</ul>
</div>
</div>
</section>
<section id="servidor" class="level4">
<h4 class="anchored" data-anchor-id="servidor">Servidor</h4>
<ul>
<li><p>En la sección <strong>server</strong> se escribe el código de R que le indica a la app qué debe hacer y cómo debe funcionar. Aquí se incluyen generalmente la manipulación de datos, el ajuste de modelos, el armado de gráficos, etc.</p></li>
<li><p>En algunas ocasiones será recomendable realizar estas tareas <em>por fuera</em> del servidor para reducir tiempos de ejecución (más adelante hablaremos de este tema en mayor profundidad).</p></li>
<li><p>La versión más simple del <strong>server</strong> es una función con dos argumentos:</p>
<ul>
<li><strong>input:</strong> almacena elementos de entrada tales como opciones elegidas por los/as usuarios/as a través de la interfaz.</li>
<li><strong>output:</strong> almacena elementos de salida para mostrar en la app: valores numéricos, textos, tablas, gráficos, mapas o cualquier tipo de resultado que deseemos visualizar.</li>
</ul></li>
</ul>
</section>
<section id="ejecución" class="level4">
<h4 class="anchored" data-anchor-id="ejecución">Ejecución</h4>
<ul>
<li><p>La parte final de la aplicación es un llamado a la función <code>shiny::shinyApp()</code>, cuyos dos argumentos principales son <em>ui</em> y <em>server</em>, es decir, los dos elementos definidos anteriormente.</p></li>
<li><p>Ejecutar esta función da como resultado el lanzamiento de la aplicación, la cual podremos utilizar dentro de RStudio o usando nuestro navegador preferido (Google Chrome, Mozilla Firefox, Microsoft Edge, etc.).</p></li>
<li><p>Para ver la app fuera de RStudio debemos elegir la opción <em>Run External</em> al momento de la ejecución, o bien copiar y pegar en un navegador la dirección URL que se muestra en la consola mientras la app está activa.</p></li>
<li><p>Es importante destacar que, al seguir estos pasos, la aplicación sólo funcionará mientras la sesión de RStudio desde la cual se lanzó <strong>esté vigente</strong>. Más adelante veremos cómo subir nuestra aplicación a la web para que cualquier persona con conexión a Internet pueda acceder a ella.</p></li>
</ul>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Importante
</div>
</div>
<div class="callout-body-container callout-body">
<p><strong>A continuación plantearemos algunos objetivos específicos y desarrollaremos un camino paso a paso para construir nuestra primera Shiny App.</strong></p>
</div>
</div>
</section>
</section>
</section>
<section id="datos-canciones-de-queen" class="level2">
<h2 class="anchored" data-anchor-id="datos-canciones-de-queen">Datos: canciones de Queen</h2>
<ul>
<li><p>La popular aplicación <a href="https://open.spotify.com/">Spotify</a> registra numerosas variables para cada una de las canciones disponibles en su servicio de streaming, las cuales tratan de cuantificar ciertas características musicales.</p></li>
<li><p>Por ejemplo, a cada canción se le miden conceptos algo abstractos como “energía”, “positividad”, “instrumentalidad”, etc., además de otros mejor definidos, como duración, volumen o nivel de popularidad.</p></li>
</ul>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="../imagenes/unidad05/Spotify_Logo_CMYK_Green.png" class="lightbox" data-gallery="quarto-lightbox-gallery-2"><img src="../imagenes/unidad05/Spotify_Logo_CMYK_Green.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:50.0%"></a></p>
</figure>
</div>
</div>
</div>
<ul>
<li><p>Estos datos pueden descargarse usando R mediante el paquete <a href="https://cran.r-project.org/web/packages/Rspotify/index.html">Rspotify</a>, el cual se conecta a la API de Spotify para acceder a la información de cada artista, álbum y canción presente en la plataforma.</p></li>
<li><p>Para este curso hemos seleccionado canciones pertenecientes a la emblemática banda de rock británica <strong>Queen</strong>, formada en Londres en 1970.</p></li>
</ul>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="../imagenes/unidad05/queen.png" class="lightbox" data-gallery="quarto-lightbox-gallery-3"><img src="../imagenes/unidad05/queen.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:50.0%"></a></p>
</figure>
</div>
</div>
</div>
<ul>
<li>La base se encuentra almacenada en el archivo de texto plano <code>queen.txt</code>, el cual cuenta con 152 registros (canciones) y 14 variables:</li>
</ul>
<table class="caption-top table">
<colgroup>
<col style="width: 45%">
<col style="width: 54%">
</colgroup>
<thead>
<tr class="header">
<th><strong>Variable</strong></th>
<th><strong>Descripción</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>id</strong></td>
<td>Código de identificación de la canción.</td>
</tr>
<tr class="even">
<td><strong>name</strong></td>
<td>Nombre de la canción.</td>
</tr>
<tr class="odd">
<td><strong>album</strong></td>
<td>Álbum donde aparece la canción.</td>
</tr>
<tr class="even">
<td><strong>popularity</strong></td>
<td>Nivel de popularidad en Spotify.</td>
</tr>
<tr class="odd">
<td><strong>danceability</strong></td>
<td>Mide qué tan “bailable” es la canción de acuerdo a características musicales como tempo, estabilidad rítmica, fuerza del pulso, etc.</td>
</tr>
<tr class="even">
<td><strong>energy</strong></td>
<td>Mide intensidad y actividad, por ejemplo, canciones de <em>heavy metal</em> poseen valores altos de energía.</td>
</tr>
<tr class="odd">
<td><strong>loudness</strong></td>
<td>Volumen promedio en decibeles.</td>
</tr>
<tr class="even">
<td><strong>speechiness</strong></td>
<td>Mide el nivel de oralidad: una canción muy “hablada” posee valores altos de esta variable.</td>
</tr>
<tr class="odd">
<td><strong>acousticness</strong></td>
<td>Mide el nivel de acústica de la canción.</td>
</tr>
<tr class="even">
<td><strong>instrumentalness</strong></td>
<td>Mide qué tan instrumental es la canción.</td>
</tr>
<tr class="odd">
<td><strong>liveness</strong></td>
<td>Detecta si la canción fue grabada en vivo (recitales), en cuyo caso recibe un valor alto de esta variable.</td>
</tr>
<tr class="even">
<td><strong>valence</strong></td>
<td>Mide el nivel de positividad: canciones con valores altos suenan alegres y eufóricas, mientras que canciones con valores bajos suenan tristes y apagadas.</td>
</tr>
<tr class="odd">
<td><strong>tempo</strong></td>
<td>Tempo promedio (pulsos/minuto).</td>
</tr>
<tr class="even">
<td><strong>duration_ms</strong></td>
<td>Duración de la canción en milisegundos.</td>
</tr>
</tbody>
</table>
<ul>
<li>Podemos cargar los datos en R y darles una mirada rápida:</li>
</ul>
<div class="cell" data-layout-align="center">
<details class="code-fold">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>datos <span class="ot">&lt;-</span> readr<span class="sc">::</span><span class="fu">read_delim</span>(<span class="st">"../data/unidad05/queen.txt"</span>, <span class="at">delim =</span> <span class="st">"</span><span class="sc">\t</span><span class="st">"</span>)</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>dplyr<span class="sc">::</span><span class="fu">glimpse</span>(datos)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 152
Columns: 14
$ id               &lt;chr&gt; "6aNP9GlBi3VHPXl7w3Qjr9", "5RYLa5P4qweEAKq5U1gdcK", "…
$ name             &lt;chr&gt; "'39", "A Kind Of Magic", "A Winter's Tale", "Action …
$ album            &lt;chr&gt; "A Night At The Opera", "A Kind Of Magic", "Made In H…
$ popularity       &lt;dbl&gt; 45, 72, 40, 33, 38, 33, 82, 39, 62, 37, 41, 82, 58, 3…
$ danceability     &lt;dbl&gt; 0.524, 0.670, 0.286, 0.727, 0.491, 0.307, 0.933, 0.78…
$ energy           &lt;dbl&gt; 0.5710, 0.7760, 0.5650, 0.4780, 0.0765, 0.7960, 0.528…
$ loudness         &lt;dbl&gt; -9.686, -5.874, -6.368, -6.121, -14.570, -8.066, -6.4…
$ speechiness      &lt;dbl&gt; 0.0273, 0.0356, 0.0320, 0.0403, 0.0416, 0.0950, 0.161…
$ acousticness     &lt;dbl&gt; 0.02710, 0.01840, 0.17900, 0.05640, 0.78700, 0.23300,…
$ instrumentalness &lt;dbl&gt; 0.00e+00, 2.94e-03, 0.00e+00, 2.62e-04, 3.06e-04, 2.0…
$ liveness         &lt;dbl&gt; 0.1110, 0.1280, 0.3210, 0.0801, 0.1140, 0.3130, 0.163…
$ valence          &lt;dbl&gt; 0.3730, 0.7030, 0.1320, 0.9090, 0.3050, 0.2310, 0.754…
$ tempo            &lt;dbl&gt; 101.626, 130.128, 106.219, 166.364, 113.728, 181.620,…
$ duration_ms      &lt;dbl&gt; 210800, 264253, 230160, 214813, 189587, 261653, 21465…</code></pre>
</div>
</div>
<section id="acp" class="level3">
<h3 class="anchored" data-anchor-id="acp">ACP</h3>
<ul>
<li><p>Si bien la base de datos presentada se puede explorar de diversas maneras, nos enfocaremos en una meta puntual: aplicar la técnica de <strong>Componentes Principales</strong> para reducir la dimensionalidad de los datos y al mismo tiempo buscar canciones con patrones de comportamiento similares.</p></li>
<li><p>El Análisis de Componentes Principales (ACP) puede llevarse a cabo en <strong>R</strong> de diversas maneras; en este curso aplicaremos la función <code>PCA()</code> del paquete <code>FactoMineR</code>:</p></li>
</ul>
<div class="cell" data-layout-align="center">
<details class="code-fold">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>cp <span class="ot">&lt;-</span> FactoMineR<span class="sc">::</span><span class="fu">PCA</span>(</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>  <span class="co"># matriz de datos: elegimos variables numéricas</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">X =</span> dplyr<span class="sc">::</span><span class="fu">select</span>(datos, dplyr<span class="sc">::</span><span class="fu">where</span>(is.numeric)),</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">ncp =</span> <span class="dv">11</span>, <span class="co"># cantidad de componentes a retener</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">graph =</span> <span class="cn">FALSE</span> <span class="co"># no mostrar los gráficos</span></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<ul>
<li><p>En particular, vamos a focalizarnos en tres aspectos del ACP:</p>
<ol type="1">
<li>Las <strong>cargas</strong> (<em>loadings</em>) asociadas a cada variable en cada una de las componentes halladas.</li>
<li>El <strong>porcentaje de variancia explicada</strong> por cada componente.</li>
<li>El <strong>gráfico de los individuos</strong> proyectados sobre algún par de componentes.</li>
</ol></li>
<li><p>A continuación mostramos estos resultados para el análisis llevado a cabo sobre la base completa:</p></li>
</ul>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<table class="table caption-top table-sm table-striped small" data-quarto-postprocess="true">
<caption>Cargas para las 11 Componentes</caption>
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">Variable</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">CP1</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">CP2</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">CP3</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">CP4</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">CP5</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">CP6</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">CP7</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">CP8</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">CP9</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">CP10</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">CP11</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">popularity</td>
<td style="text-align: right; background-color: rgba(255, 255, 191, 255) !important;">-0.0014</td>
<td style="text-align: right; background-color: rgba(166, 217, 106, 255) !important;">0.3128</td>
<td style="text-align: right; background-color: rgba(244, 109, 67, 255) !important;">-0.6539</td>
<td style="text-align: right; background-color: rgba(166, 217, 106, 255) !important;">0.3325</td>
<td style="text-align: right; background-color: rgba(166, 217, 106, 255) !important;">0.4226</td>
<td style="text-align: right; background-color: rgba(255, 255, 191, 255) !important;">0.0709</td>
<td style="text-align: right; background-color: rgba(166, 217, 106, 255) !important;">0.3410</td>
<td style="text-align: right; background-color: rgba(254, 224, 139, 255) !important;">-0.1953</td>
<td style="text-align: right; background-color: rgba(254, 224, 139, 255) !important;">-0.1586</td>
<td style="text-align: right; background-color: rgba(255, 255, 191, 255) !important;">0.0146</td>
<td style="text-align: right; background-color: rgba(255, 255, 191, 255) !important;">0.0253</td>
</tr>
<tr class="even">
<td style="text-align: left;">danceability</td>
<td style="text-align: right; background-color: rgba(166, 217, 106, 255) !important;">0.3310</td>
<td style="text-align: right; background-color: rgba(26, 152, 80, 255) !important;">0.8096</td>
<td style="text-align: right; background-color: rgba(255, 255, 191, 255) !important;">-0.0955</td>
<td style="text-align: right; background-color: rgba(255, 255, 191, 255) !important;">0.0361</td>
<td style="text-align: right; background-color: rgba(255, 255, 191, 255) !important;">0.0042</td>
<td style="text-align: right; background-color: rgba(255, 255, 191, 255) !important;">0.0845</td>
<td style="text-align: right; background-color: rgba(255, 255, 191, 255) !important;">-0.0597</td>
<td style="text-align: right; background-color: rgba(166, 217, 106, 255) !important;">0.3049</td>
<td style="text-align: right; background-color: rgba(217, 239, 139, 255) !important;">0.2010</td>
<td style="text-align: right; background-color: rgba(254, 224, 139, 255) !important;">-0.2735</td>
<td style="text-align: right; background-color: rgba(255, 255, 191, 255) !important;">0.0747</td>
</tr>
<tr class="odd">
<td style="text-align: left;">energy</td>
<td style="text-align: right; background-color: rgba(26, 152, 80, 255) !important;">0.8767</td>
<td style="text-align: right; background-color: rgba(254, 224, 139, 255) !important;">-0.2090</td>
<td style="text-align: right; background-color: rgba(217, 239, 139, 255) !important;">0.1042</td>
<td style="text-align: right; background-color: rgba(217, 239, 139, 255) !important;">0.1470</td>
<td style="text-align: right; background-color: rgba(255, 255, 191, 255) !important;">-0.0669</td>
<td style="text-align: right; background-color: rgba(254, 224, 139, 255) !important;">-0.1900</td>
<td style="text-align: right; background-color: rgba(255, 255, 191, 255) !important;">0.0159</td>
<td style="text-align: right; background-color: rgba(254, 224, 139, 255) !important;">-0.1216</td>
<td style="text-align: right; background-color: rgba(255, 255, 191, 255) !important;">0.0002</td>
<td style="text-align: right; background-color: rgba(255, 255, 191, 255) !important;">0.0587</td>
<td style="text-align: right; background-color: rgba(166, 217, 106, 255) !important;">0.3100</td>
</tr>
<tr class="even">
<td style="text-align: left;">loudness</td>
<td style="text-align: right; background-color: rgba(26, 152, 80, 255) !important;">0.7752</td>
<td style="text-align: right; background-color: rgba(255, 255, 191, 255) !important;">-0.0448</td>
<td style="text-align: right; background-color: rgba(254, 224, 139, 255) !important;">-0.2446</td>
<td style="text-align: right; background-color: rgba(255, 255, 191, 255) !important;">0.0906</td>
<td style="text-align: right; background-color: rgba(255, 255, 191, 255) !important;">-0.0940</td>
<td style="text-align: right; background-color: rgba(254, 224, 139, 255) !important;">-0.2809</td>
<td style="text-align: right; background-color: rgba(255, 255, 191, 255) !important;">-0.0321</td>
<td style="text-align: right; background-color: rgba(253, 174, 97, 255) !important;">-0.3331</td>
<td style="text-align: right; background-color: rgba(166, 217, 106, 255) !important;">0.3076</td>
<td style="text-align: right; background-color: rgba(255, 255, 191, 255) !important;">-0.0393</td>
<td style="text-align: right; background-color: rgba(254, 224, 139, 255) !important;">-0.1819</td>
</tr>
<tr class="odd">
<td style="text-align: left;">speechiness</td>
<td style="text-align: right; background-color: rgba(166, 217, 106, 255) !important;">0.4748</td>
<td style="text-align: right; background-color: rgba(254, 224, 139, 255) !important;">-0.2219</td>
<td style="text-align: right; background-color: rgba(217, 239, 139, 255) !important;">0.2357</td>
<td style="text-align: right; background-color: rgba(217, 239, 139, 255) !important;">0.2339</td>
<td style="text-align: right; background-color: rgba(102, 189, 99, 255) !important;">0.5911</td>
<td style="text-align: right; background-color: rgba(217, 239, 139, 255) !important;">0.2990</td>
<td style="text-align: right; background-color: rgba(253, 174, 97, 255) !important;">-0.4177</td>
<td style="text-align: right; background-color: rgba(255, 255, 191, 255) !important;">0.0013</td>
<td style="text-align: right; background-color: rgba(255, 255, 191, 255) !important;">0.0022</td>
<td style="text-align: right; background-color: rgba(255, 255, 191, 255) !important;">-0.0056</td>
<td style="text-align: right; background-color: rgba(255, 255, 191, 255) !important;">-0.0415</td>
</tr>
<tr class="even">
<td style="text-align: left;">acousticness</td>
<td style="text-align: right; background-color: rgba(215, 48, 39, 255) !important;">-0.8110</td>
<td style="text-align: right; background-color: rgba(255, 255, 191, 255) !important;">0.0381</td>
<td style="text-align: right; background-color: rgba(255, 255, 191, 255) !important;">0.0688</td>
<td style="text-align: right; background-color: rgba(255, 255, 191, 255) !important;">-0.0209</td>
<td style="text-align: right; background-color: rgba(217, 239, 139, 255) !important;">0.1369</td>
<td style="text-align: right; background-color: rgba(217, 239, 139, 255) !important;">0.2161</td>
<td style="text-align: right; background-color: rgba(255, 255, 191, 255) !important;">0.0341</td>
<td style="text-align: right; background-color: rgba(254, 224, 139, 255) !important;">-0.2376</td>
<td style="text-align: right; background-color: rgba(166, 217, 106, 255) !important;">0.4340</td>
<td style="text-align: right; background-color: rgba(217, 239, 139, 255) !important;">0.1011</td>
<td style="text-align: right; background-color: rgba(217, 239, 139, 255) !important;">0.1180</td>
</tr>
<tr class="odd">
<td style="text-align: left;">instrumentalness</td>
<td style="text-align: right; background-color: rgba(253, 174, 97, 255) !important;">-0.3579</td>
<td style="text-align: right; background-color: rgba(255, 255, 191, 255) !important;">-0.0806</td>
<td style="text-align: right; background-color: rgba(166, 217, 106, 255) !important;">0.3576</td>
<td style="text-align: right; background-color: rgba(102, 189, 99, 255) !important;">0.5266</td>
<td style="text-align: right; background-color: rgba(217, 239, 139, 255) !important;">0.2639</td>
<td style="text-align: right; background-color: rgba(244, 109, 67, 255) !important;">-0.5298</td>
<td style="text-align: right; background-color: rgba(217, 239, 139, 255) !important;">0.1715</td>
<td style="text-align: right; background-color: rgba(217, 239, 139, 255) !important;">0.2635</td>
<td style="text-align: right; background-color: rgba(217, 239, 139, 255) !important;">0.1003</td>
<td style="text-align: right; background-color: rgba(255, 255, 191, 255) !important;">0.0105</td>
<td style="text-align: right; background-color: rgba(255, 255, 191, 255) !important;">-0.0296</td>
</tr>
<tr class="even">
<td style="text-align: left;">liveness</td>
<td style="text-align: right; background-color: rgba(166, 217, 106, 255) !important;">0.3346</td>
<td style="text-align: right; background-color: rgba(253, 174, 97, 255) !important;">-0.3571</td>
<td style="text-align: right; background-color: rgba(217, 239, 139, 255) !important;">0.1658</td>
<td style="text-align: right; background-color: rgba(102, 189, 99, 255) !important;">0.5137</td>
<td style="text-align: right; background-color: rgba(254, 224, 139, 255) !important;">-0.2855</td>
<td style="text-align: right; background-color: rgba(166, 217, 106, 255) !important;">0.4909</td>
<td style="text-align: right; background-color: rgba(166, 217, 106, 255) !important;">0.3492</td>
<td style="text-align: right; background-color: rgba(217, 239, 139, 255) !important;">0.1219</td>
<td style="text-align: right; background-color: rgba(255, 255, 191, 255) !important;">0.0798</td>
<td style="text-align: right; background-color: rgba(255, 255, 191, 255) !important;">-0.0304</td>
<td style="text-align: right; background-color: rgba(255, 255, 191, 255) !important;">-0.0502</td>
</tr>
<tr class="odd">
<td style="text-align: left;">valence</td>
<td style="text-align: right; background-color: rgba(166, 217, 106, 255) !important;">0.4882</td>
<td style="text-align: right; background-color: rgba(26, 152, 80, 255) !important;">0.7064</td>
<td style="text-align: right; background-color: rgba(166, 217, 106, 255) !important;">0.3065</td>
<td style="text-align: right; background-color: rgba(255, 255, 191, 255) !important;">-0.0845</td>
<td style="text-align: right; background-color: rgba(255, 255, 191, 255) !important;">0.0096</td>
<td style="text-align: right; background-color: rgba(255, 255, 191, 255) !important;">0.0674</td>
<td style="text-align: right; background-color: rgba(217, 239, 139, 255) !important;">0.1011</td>
<td style="text-align: right; background-color: rgba(255, 255, 191, 255) !important;">0.0731</td>
<td style="text-align: right; background-color: rgba(255, 255, 191, 255) !important;">0.0100</td>
<td style="text-align: right; background-color: rgba(166, 217, 106, 255) !important;">0.3708</td>
<td style="text-align: right; background-color: rgba(255, 255, 191, 255) !important;">-0.0619</td>
</tr>
<tr class="even">
<td style="text-align: left;">tempo</td>
<td style="text-align: right; background-color: rgba(166, 217, 106, 255) !important;">0.3286</td>
<td style="text-align: right; background-color: rgba(254, 224, 139, 255) !important;">-0.1402</td>
<td style="text-align: right; background-color: rgba(166, 217, 106, 255) !important;">0.4271</td>
<td style="text-align: right; background-color: rgba(244, 109, 67, 255) !important;">-0.6048</td>
<td style="text-align: right; background-color: rgba(166, 217, 106, 255) !important;">0.3357</td>
<td style="text-align: right; background-color: rgba(255, 255, 191, 255) !important;">0.0123</td>
<td style="text-align: right; background-color: rgba(166, 217, 106, 255) !important;">0.4257</td>
<td style="text-align: right; background-color: rgba(255, 255, 191, 255) !important;">-0.0764</td>
<td style="text-align: right; background-color: rgba(255, 255, 191, 255) !important;">0.0174</td>
<td style="text-align: right; background-color: rgba(254, 224, 139, 255) !important;">-0.1534</td>
<td style="text-align: right; background-color: rgba(255, 255, 191, 255) !important;">-0.0187</td>
</tr>
<tr class="odd">
<td style="text-align: left;">duration_ms</td>
<td style="text-align: right; background-color: rgba(217, 239, 139, 255) !important;">0.2533</td>
<td style="text-align: right; background-color: rgba(253, 174, 97, 255) !important;">-0.4793</td>
<td style="text-align: right; background-color: rgba(244, 109, 67, 255) !important;">-0.5712</td>
<td style="text-align: right; background-color: rgba(253, 174, 97, 255) !important;">-0.3235</td>
<td style="text-align: right; background-color: rgba(217, 239, 139, 255) !important;">0.1425</td>
<td style="text-align: right; background-color: rgba(255, 255, 191, 255) !important;">-0.0041</td>
<td style="text-align: right; background-color: rgba(255, 255, 191, 255) !important;">0.0493</td>
<td style="text-align: right; background-color: rgba(166, 217, 106, 255) !important;">0.4474</td>
<td style="text-align: right; background-color: rgba(217, 239, 139, 255) !important;">0.1739</td>
<td style="text-align: right; background-color: rgba(217, 239, 139, 255) !important;">0.1485</td>
<td style="text-align: right; background-color: rgba(255, 255, 191, 255) !important;">0.0097</td>
</tr>
</tbody>
</table>


</div>
</div>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<table class="table caption-top table-sm table-striped small" data-quarto-postprocess="true">
<caption>Variancia explicada por cada Componente</caption>
<thead>
<tr class="header">
<th style="text-align: right;" data-quarto-table-cell-role="th">CP</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Autovalor</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">% Variancia</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">% Acumulado</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">1</td>
<td style="text-align: right;">3.0130</td>
<td style="text-align: right;">27.3905</td>
<td style="text-align: right;">27.3905</td>
</tr>
<tr class="even">
<td style="text-align: right;">2</td>
<td style="text-align: right;">1.7321</td>
<td style="text-align: right;">15.7463</td>
<td style="text-align: right;">43.1368</td>
</tr>
<tr class="odd">
<td style="text-align: right;">3</td>
<td style="text-align: right;">1.3256</td>
<td style="text-align: right;">12.0510</td>
<td style="text-align: right;">55.1878</td>
</tr>
<tr class="even">
<td style="text-align: right;">4</td>
<td style="text-align: right;">1.2156</td>
<td style="text-align: right;">11.0505</td>
<td style="text-align: right;">66.2383</td>
</tr>
<tr class="odd">
<td style="text-align: right;">5</td>
<td style="text-align: right;">0.8443</td>
<td style="text-align: right;">7.6750</td>
<td style="text-align: right;">73.9133</td>
</tr>
<tr class="even">
<td style="text-align: right;">6</td>
<td style="text-align: right;">0.7897</td>
<td style="text-align: right;">7.1792</td>
<td style="text-align: right;">81.0925</td>
</tr>
<tr class="odd">
<td style="text-align: right;">7</td>
<td style="text-align: right;">0.6421</td>
<td style="text-align: right;">5.8372</td>
<td style="text-align: right;">86.9298</td>
</tr>
<tr class="even">
<td style="text-align: right;">8</td>
<td style="text-align: right;">0.6089</td>
<td style="text-align: right;">5.5355</td>
<td style="text-align: right;">92.4652</td>
</tr>
<tr class="odd">
<td style="text-align: right;">9</td>
<td style="text-align: right;">0.3957</td>
<td style="text-align: right;">3.5972</td>
<td style="text-align: right;">96.0625</td>
</tr>
<tr class="even">
<td style="text-align: right;">10</td>
<td style="text-align: right;">0.2744</td>
<td style="text-align: right;">2.4945</td>
<td style="text-align: right;">98.5570</td>
</tr>
<tr class="odd">
<td style="text-align: right;">11</td>
<td style="text-align: right;">0.1587</td>
<td style="text-align: right;">1.4430</td>
<td style="text-align: right;">100.0000</td>
</tr>
</tbody>
</table>


</div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="05_shiny_files/figure-html/unnamed-chunk-8-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-4"><img src="05_shiny_files/figure-html/unnamed-chunk-8-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:90.0%"></a></p>
</figure>
</div>
</div>
</div>
<style>
g.pointtext {display: none;}
</style>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item" id="htmlwidget-1934e8876d50eab5a3b1" style="width:90%;height:1650px;"></div>
<script type="application/json" data-for="htmlwidget-1934e8876d50eab5a3b1">{"x":{"data":[{"x":[-6.0174033674688303,3.4445117343626617],"y":[0,0],"text":"yintercept: 0","type":"scatter","mode":"lines","line":{"width":0.37795275590551186,"color":"rgba(0,0,0,1)","dash":"solid"},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[0,0],"y":[-3.4822916984770531,3.7724580982848579],"text":"xintercept: 0","type":"scatter","mode":"lines","line":{"width":0.37795275590551186,"color":"rgba(0,0,0,1)","dash":"solid"},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[-0.50455727324046096,-1.3320334721058893,0.40522278434047715,0.3364549659972576,-2.4465621710813159,-1.7631076217807884,1.1757418206275363,0.3791829634544146,1.6870485551088046,-3.4917392617385521],"y":[-0.022031873402220011,1.0517435828524575,-0.38503889056324198,-0.8341481542006306,-1.6874911879136854,-0.55789692889017106,-1.9951777954669903,-1.8210103533659185,-0.17402524785053886,-2.0072471712779958],"text":["Dim.1: -0.50455727<br />Dim.2: -0.022031873<br />album: A Day At The Races<br />name: Drowse","Dim.1: -1.33203347<br />Dim.2:  1.051743583<br />album: A Day At The Races<br />name: Good Old-Fashioned Lover<br />Boy","Dim.1:  0.40522278<br />Dim.2: -0.385038891<br />album: A Day At The Races<br />name: Long Away","Dim.1:  0.33645497<br />Dim.2: -0.834148154<br />album: A Day At The Races<br />name: Somebody To Love","Dim.1: -2.44656217<br />Dim.2: -1.687491188<br />album: A Day At The Races<br />name: Teo Torriatte (Let Us<br />Cling Together)","Dim.1: -1.76310762<br />Dim.2: -0.557896929<br />album: A Day At The Races<br />name: The Millionaire Waltz","Dim.1:  1.17574182<br />Dim.2: -1.995177795<br />album: A Day At The Races<br />name: Tie Your Mother Down","Dim.1:  0.37918296<br />Dim.2: -1.821010353<br />album: A Day At The Races<br />name: White Man","Dim.1:  1.68704856<br />Dim.2: -0.174025248<br />album: A Day At The Races<br />name: You And I","Dim.1: -3.49173926<br />Dim.2: -2.007247171<br />album: A Day At The Races<br />name: You Take My Breath Away"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(248,118,109,1)","opacity":0,"size":5.6692913385826778,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(248,118,109,1)"}},"hoveron":"points","name":"A Day At The Races","legendgroup":"A Day At The Races","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[1.5671670264830229,1.2684211517065271,-0.19410862485323688,1.5604572414570275,2.1025782445159518,-1.0103513712719712,0.92230073781285726,1.1085296898338817,-2.6524499318309305],"y":[1.7982883719685783,-0.84374027622607561,0.098537386980358202,-2.9024508004768967,-1.3409385039686221,-0.35773964217296694,1.4368196264859741,-0.71958913440746242,-1.8904807881534611],"text":["Dim.1:  1.56716703<br />Dim.2:  1.798288372<br />album: A Kind Of Magic<br />name: A Kind Of Magic","Dim.1:  1.26842115<br />Dim.2: -0.843740276<br />album: A Kind Of Magic<br />name: Don't Lose Your Head","Dim.1: -0.19410862<br />Dim.2:  0.098537387<br />album: A Kind Of Magic<br />name: Friends Will Be Friends","Dim.1:  1.56045724<br />Dim.2: -2.902450800<br />album: A Kind Of Magic<br />name: Gimme The Prize","Dim.1:  2.10257824<br />Dim.2: -1.340938504<br />album: A Kind Of Magic<br />name: One Vision","Dim.1: -1.01035137<br />Dim.2: -0.357739642<br />album: A Kind Of Magic<br />name: One Year Of Love","Dim.1:  0.92230074<br />Dim.2:  1.436819626<br />album: A Kind Of Magic<br />name: Pain Is So Close To<br />Pleasure","Dim.1:  1.10852969<br />Dim.2: -0.719589134<br />album: A Kind Of Magic<br />name: Princes Of The Universe","Dim.1: -2.65244993<br />Dim.2: -1.890480788<br />album: A Kind Of Magic<br />name: Who Wants To Live Forever"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(227,137,0,1)","opacity":0,"size":5.6692913385826778,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(227,137,0,1)"}},"hoveron":"points","name":"A Kind Of Magic","legendgroup":"A Kind Of Magic","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[-0.43721477095547362,-1.1750363846846512,0.10086921097904623,-5.3451884179324827,-1.4627042765950615,0.71964633176590442,-0.51833655427435421,-3.2790483707703957,1.2650686917346716,1.3800374233347839,-0.45106324223372185,0.42921814492240395],"y":[0.59561291145466588,-0.32743474320028138,0.0068572994350106315,-0.73317519640629703,0.40420180622278468,-0.66117957336759492,2.4534487511308747,-0.098539766383653457,0.98888617074765939,-1.1225498466644341,-2.2961965093431078,1.4523336103985234],"text":["Dim.1: -0.43721477<br />Dim.2:  0.595612911<br />album: A Night At The Opera<br />name: '39","Dim.1: -1.17503638<br />Dim.2: -0.327434743<br />album: A Night At The Opera<br />name: Bohemian Rhapsody","Dim.1:  0.10086921<br />Dim.2:  0.006857299<br />album: A Night At The Opera<br />name: Death On Two Legs<br />(Dedicated To...)","Dim.1: -5.34518842<br />Dim.2: -0.733175196<br />album: A Night At The Opera<br />name: God Save The Queen","Dim.1: -1.46270428<br />Dim.2:  0.404201806<br />album: A Night At The Opera<br />name: Good Company","Dim.1:  0.71964633<br />Dim.2: -0.661179573<br />album: A Night At The Opera<br />name: I'm In Love With My Car","Dim.1: -0.51833655<br />Dim.2:  2.453448751<br />album: A Night At The Opera<br />name: Lazing On A Sunday<br />Afternoon","Dim.1: -3.27904837<br />Dim.2: -0.098539766<br />album: A Night At The Opera<br />name: Love Of My Life","Dim.1:  1.26506869<br />Dim.2:  0.988886171<br />album: A Night At The Opera<br />name: Seaside Rendezvous","Dim.1:  1.38003742<br />Dim.2: -1.122549847<br />album: A Night At The Opera<br />name: Sweet Lady","Dim.1: -0.45106324<br />Dim.2: -2.296196509<br />album: A Night At The Opera<br />name: The Prophet's Song","Dim.1:  0.42921814<br />Dim.2:  1.452333610<br />album: A Night At The Opera<br />name: You're My Best Friend"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(196,154,0,1)","opacity":0,"size":5.6692913385826778,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(196,154,0,1)"}},"hoveron":"points","name":"A Night At The Opera","legendgroup":"A Night At The Opera","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[1.1977594771183426,1.9646528558815062,0.27543733320708963,0.9873561325693051,-0.15860022517306271,0.28543959058462764,-0.76802733652928556,-1.7284592255034301,0.7587646127051999,1.5817338302445498,-0.032280293084636147],"y":[2.1914598921699242,1.0896810198174811,1.0956560281943586,0.96454992608290213,2.9969304822941214,1.5285666527478587,-0.70987395411822873,0.81031612011405307,0.33126740168333096,1.1012706950697007,1.6651853185419954],"text":["Dim.1:  1.19775948<br />Dim.2:  2.191459892<br />album: Hot Space<br />name: Action This Day","Dim.1:  1.96465286<br />Dim.2:  1.089681020<br />album: Hot Space<br />name: Back Chat","Dim.1:  0.27543733<br />Dim.2:  1.095656028<br />album: Hot Space<br />name: Body Language","Dim.1:  0.98735613<br />Dim.2:  0.964549926<br />album: Hot Space<br />name: Calling All Girls","Dim.1: -0.15860023<br />Dim.2:  2.996930482<br />album: Hot Space<br />name: Cool Cat","Dim.1:  0.28543959<br />Dim.2:  1.528566653<br />album: Hot Space<br />name: Dancer","Dim.1: -0.76802734<br />Dim.2: -0.709873954<br />album: Hot Space<br />name: Las Palabras De Amor (The<br />Words Of Love)","Dim.1: -1.72845923<br />Dim.2:  0.810316120<br />album: Hot Space<br />name: Life Is Real (Song For<br />Lennon)","Dim.1:  0.75876461<br />Dim.2:  0.331267402<br />album: Hot Space<br />name: Put Out The Fire","Dim.1:  1.58173383<br />Dim.2:  1.101270695<br />album: Hot Space<br />name: Staying Power","Dim.1: -0.03228029<br />Dim.2:  1.665185319<br />album: Hot Space<br />name: Under Pressure"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(153,168,0,1)","opacity":0,"size":5.6692913385826778,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(153,168,0,1)"}},"hoveron":"points","name":"Hot Space","legendgroup":"Hot Space","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[0.68704477142085663,-3.8421316849799787,-0.65911765198789563,-2.0144305767219919,1.5282062419415932,1.0051121586819458,0.12892020974030291,0.36587886823531374,1.1370021582007761,1.7075310719972263,-0.70945792140282149,-0.91088506210068421],"y":[-1.9710690210992823,-1.7342732383356816,1.6500050138080404,-1.1608924132112342,-0.066712753692533225,-0.4691203833633642,0.2137795068360113,-1.6851464868930244,-0.491162085092675,-2.3255030266453693,-0.12906605962324325,1.8665471576862165],"text":["Dim.1:  0.68704477<br />Dim.2: -1.971069021<br />album: Innuendo<br />name: All God's People","Dim.1: -3.84213168<br />Dim.2: -1.734273238<br />album: Innuendo<br />name: Bijou","Dim.1: -0.65911765<br />Dim.2:  1.650005014<br />album: Innuendo<br />name: Delilah","Dim.1: -2.01443058<br />Dim.2: -1.160892413<br />album: Innuendo<br />name: Don't Try So Hard","Dim.1:  1.52820624<br />Dim.2: -0.066712754<br />album: Innuendo<br />name: Headlong","Dim.1:  1.00511216<br />Dim.2: -0.469120383<br />album: Innuendo<br />name: I Can't Live With You","Dim.1:  0.12892021<br />Dim.2:  0.213779507<br />album: Innuendo<br />name: I'm Going Slightly Mad","Dim.1:  0.36587887<br />Dim.2: -1.685146487<br />album: Innuendo<br />name: Innuendo","Dim.1:  1.13700216<br />Dim.2: -0.491162085<br />album: Innuendo<br />name: Ride The Wild Wind","Dim.1:  1.70753107<br />Dim.2: -2.325503027<br />album: Innuendo<br />name: The Hitman","Dim.1: -0.70945792<br />Dim.2: -0.129066060<br />album: Innuendo<br />name: The Show Must Go On","Dim.1: -0.91088506<br />Dim.2:  1.866547158<br />album: Innuendo<br />name: These Are The Days Of Our<br />Lives"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(83,180,0,1)","opacity":0,"size":5.6692913385826778,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(83,180,0,1)"}},"hoveron":"points","name":"Innuendo","legendgroup":"Innuendo","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[0.50688732492350663,2.7177230633574534,3.0144246842794118,-1.5546592697730821,0.35514259576877893,2.1430034563361322,1.8060186493469892,-0.96002614340455827,-1.1490929118088211,-0.87192200806371767,2.863351795283227,1.1905811717894441,-0.28347789401230267],"y":[1.3405824111564328,-1.5682131547601788,0.049477249714883563,0.69186594750980479,-0.31886068008012536,1.8283247799340121,-0.22542112715063267,0.88465250125261796,0.44295198983737788,0.16364423443044065,-0.63619813089272803,-0.53754922808414896,0.8435184199765865],"text":["Dim.1:  0.50688732<br />Dim.2:  1.340582411<br />album: Jazz<br />name: Bicycle Race","Dim.1:  2.71772306<br />Dim.2: -1.568213155<br />album: Jazz<br />name: Dead On Time","Dim.1:  3.01442468<br />Dim.2:  0.049477250<br />album: Jazz<br />name: Don't Stop Me Now","Dim.1: -1.55465927<br />Dim.2:  0.691865948<br />album: Jazz<br />name: Dreamer's Ball","Dim.1:  0.35514260<br />Dim.2: -0.318860680<br />album: Jazz<br />name: Fat Bottomed Girls","Dim.1:  2.14300346<br />Dim.2:  1.828324780<br />album: Jazz<br />name: Fun It","Dim.1:  1.80601865<br />Dim.2: -0.225421127<br />album: Jazz<br />name: If You Can't Beat Them","Dim.1: -0.96002614<br />Dim.2:  0.884652501<br />album: Jazz<br />name: In Only Seven Days","Dim.1: -1.14909291<br />Dim.2:  0.442951990<br />album: Jazz<br />name: Jealousy","Dim.1: -0.87192201<br />Dim.2:  0.163644234<br />album: Jazz<br />name: Leaving Home Ain't Easy","Dim.1:  2.86335180<br />Dim.2: -0.636198131<br />album: Jazz<br />name: Let Me Entertain You","Dim.1:  1.19058117<br />Dim.2: -0.537549228<br />album: Jazz<br />name: More Of That Jazz","Dim.1: -0.28347789<br />Dim.2:  0.843518420<br />album: Jazz<br />name: Mustapha"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,188,86,1)","opacity":0,"size":5.6692913385826778,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(0,188,86,1)"}},"hoveron":"points","name":"Jazz","legendgroup":"Jazz","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[-0.43340704841261096,-0.93269127453143708,1.5134252832051553,-4.4994050880136145,-0.31639761818724449,0.022013784270137959,0.48847920790562549,-0.5768003458886497,0.20919310182100345,-1.8697015315022714,1.5734170432537855],"y":[-1.4241201755943318,0.13804477493531125,-0.37236176990961034,-0.7900841396398145,-1.7204440213261276,-0.1559213092934601,-0.78759689551975143,-0.40438537609629566,-0.7581088745560145,-0.037555550860107187,-0.13801161585652796],"text":["Dim.1: -0.43340705<br />Dim.2: -1.424120176<br />album: Made In Heaven<br />name: A Winter's Tale","Dim.1: -0.93269127<br />Dim.2:  0.138044775<br />album: Made In Heaven<br />name: Heaven For Everyone","Dim.1:  1.51342528<br />Dim.2: -0.372361770<br />album: Made In Heaven<br />name: I Was Born To Love You","Dim.1: -4.49940509<br />Dim.2: -0.790084140<br />album: Made In Heaven<br />name: It's A Beautiful Day","Dim.1: -0.31639762<br />Dim.2: -1.720444021<br />album: Made In Heaven<br />name: It's A Beautiful Day<br />(Reprise)","Dim.1:  0.02201378<br />Dim.2: -0.155921309<br />album: Made In Heaven<br />name: Let Me Live","Dim.1:  0.48847921<br />Dim.2: -0.787596896<br />album: Made In Heaven<br />name: Made In Heaven","Dim.1: -0.57680035<br />Dim.2: -0.404385376<br />album: Made In Heaven<br />name: Mother Love","Dim.1:  0.20919310<br />Dim.2: -0.758108875<br />album: Made In Heaven<br />name: My Life Has Been Saved","Dim.1: -1.86970153<br />Dim.2: -0.037555551<br />album: Made In Heaven<br />name: Too Much Love Will Kill<br />You","Dim.1:  1.57341704<br />Dim.2: -0.138011616<br />album: Made In Heaven<br />name: You Don't Fool Me"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,192,148,1)","opacity":0,"size":5.6692913385826778,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(0,192,148,1)"}},"hoveron":"points","name":"Made In Heaven","legendgroup":"Made In Heaven","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[-3.7308730451365135,1.3340524522618185,1.4135640279836372,1.1422468323685724,-3.402557094007729,2.0942060539013485,0.40956429783783971,0.34389868978505211,-1.680449918839946,-0.79376791993062257,-0.44422406380987683],"y":[0.70250649530021503,-0.48631659711359659,-1.1178982870243881,-1.4127587538399515,-0.014015586567060088,-2.1180301750711648,0.84828947226297491,0.049101296655181703,0.10685565107443923,2.1918382292228551,3.0200646096295687],"text":["Dim.1: -3.73087305<br />Dim.2:  0.702506495<br />album: News Of The World<br />name: All Dead, All Dead","Dim.1:  1.33405245<br />Dim.2: -0.486316597<br />album: News Of The World<br />name: Fight From The Inside","Dim.1:  1.41356403<br />Dim.2: -1.117898287<br />album: News Of The World<br />name: Get Down, Make Love","Dim.1:  1.14224683<br />Dim.2: -1.412758754<br />album: News Of The World<br />name: It's Late","Dim.1: -3.40255709<br />Dim.2: -0.014015587<br />album: News Of The World<br />name: My Melancholy Blues","Dim.1:  2.09420605<br />Dim.2: -2.118030175<br />album: News Of The World<br />name: Sheer Heart Attack","Dim.1:  0.40956430<br />Dim.2:  0.848289472<br />album: News Of The World<br />name: Sleeping On The Sidewalk","Dim.1:  0.34389869<br />Dim.2:  0.049101297<br />album: News Of The World<br />name: Spread Your Wings","Dim.1: -1.68044992<br />Dim.2:  0.106855651<br />album: News Of The World<br />name: We Are The Champions","Dim.1: -0.79376792<br />Dim.2:  2.191838229<br />album: News Of The World<br />name: We Will Rock You","Dim.1: -0.44422406<br />Dim.2:  3.020064610<br />album: News Of The World<br />name: Who Needs You"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,191,196,1)","opacity":0,"size":5.6692913385826778,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(0,191,196,1)"}},"hoveron":"points","name":"News Of The World","legendgroup":"News Of The World","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[-3.2189879412304303,0.89484433894455984,1.143283024275876,0.24959440150056295,0.77898541476803695,1.5862474884898561,-1.5727288441678282,-5.405923453582707,0.73918655974193859,-0.99370875792699309],"y":[-0.34989343841934523,-1.4959455606930216,-0.47226636374168379,0.28572976087113355,-2.4769078743919439,-0.33923765739815309,-0.80503537537006531,-1.032462308733016,-0.12619617011076134,-0.23697156564065319],"text":["Dim.1: -3.21898794<br />Dim.2: -0.349893438<br />album: Queen<br />name: Doing Alright","Dim.1:  0.89484434<br />Dim.2: -1.495945561<br />album: Queen<br />name: Great King Rat","Dim.1:  1.14328302<br />Dim.2: -0.472266364<br />album: Queen<br />name: Jesus","Dim.1:  0.24959440<br />Dim.2:  0.285729761<br />album: Queen<br />name: Keep Yourself Alive","Dim.1:  0.77898541<br />Dim.2: -2.476907874<br />album: Queen<br />name: Liar","Dim.1:  1.58624749<br />Dim.2: -0.339237657<br />album: Queen<br />name: Modern Times Rock 'N Roll","Dim.1: -1.57272884<br />Dim.2: -0.805035375<br />album: Queen<br />name: My Fairy King","Dim.1: -5.40592345<br />Dim.2: -1.032462309<br />album: Queen<br />name: Seven Seas Of Rhye","Dim.1:  0.73918656<br />Dim.2: -0.126196170<br />album: Queen<br />name: Son And Daughter","Dim.1: -0.99370876<br />Dim.2: -0.236971566<br />album: Queen<br />name: The Night Comes Down"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,182,235,1)","opacity":0,"size":5.6692913385826778,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(0,182,235,1)"}},"hoveron":"points","name":"Queen","legendgroup":"Queen","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[-0.54343970137629449,1.311956015239844,-3.1735766348857304,-0.03705004519539716,-5.5873163173855804,1.0980458479275272,-1.1341284981340034,0.93452426604600325,1.5810805582016858,0.69710751276117477,-3.0016220786579932],"y":[-2.503055899720465,-0.63598778399643785,0.1867735589527556,-2.0887188270685302,1.5063583412250121,-0.77784764287808816,0.28731414033356101,0.50667745471522008,-0.32420205843859062,-2.9147811548039977,-1.3428578608027917],"text":["Dim.1: -0.54343970<br />Dim.2: -2.503055900<br />album: Queen II<br />name: Father To Son","Dim.1:  1.31195602<br />Dim.2: -0.635987784<br />album: Queen II<br />name: Funny How Love Is","Dim.1: -3.17357663<br />Dim.2:  0.186773559<br />album: Queen II<br />name: Nevermore","Dim.1: -0.03705005<br />Dim.2: -2.088718827<br />album: Queen II<br />name: Ogre Battle","Dim.1: -5.58731632<br />Dim.2:  1.506358341<br />album: Queen II<br />name: Procession","Dim.1:  1.09804585<br />Dim.2: -0.777847643<br />album: Queen II<br />name: Seven Seas Of Rhye","Dim.1: -1.13412850<br />Dim.2:  0.287314140<br />album: Queen II<br />name: Some Day One Day","Dim.1:  0.93452427<br />Dim.2:  0.506677455<br />album: Queen II<br />name: The Fairy Feller's<br />Master-Stroke","Dim.1:  1.58108056<br />Dim.2: -0.324202058<br />album: Queen II<br />name: The Loser In The End","Dim.1:  0.69710751<br />Dim.2: -2.914781155<br />album: Queen II<br />name: The March Of The Black<br />Queen","Dim.1: -3.00162208<br />Dim.2: -1.342857861<br />album: Queen II<br />name: White Queen (As It Began)"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(6,164,255,1)","opacity":0,"size":5.6692913385826778,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(6,164,255,1)"}},"hoveron":"points","name":"Queen II","legendgroup":"Queen II","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[2.2887386685547177,0.71052751285573268,-4.31808531597295,1.4058342841549394,-1.1585867385696662,-0.42972734924004352,0.12049258884734543,-2.7331123782762847,1.6250182834823799,0.94193060938958428,-0.60544803073944742,1.0704990695357912,0.33331563655217045],"y":[-3.1525303440787842,2.3120942641738034,1.2207365295237778,-0.50661164726488506,-0.93684510621289785,-0.20402872008859013,1.2236187872884421,0.68628283832398718,1.7643127522210289,0.13395892274204546,-0.015623345550307402,0.14701494340583401,0.13608373201759094],"text":["Dim.1:  2.28873867<br />Dim.2: -3.152530344<br />album: Sheer Heart Attack<br />name: Brighton Rock","Dim.1:  0.71052751<br />Dim.2:  2.312094264<br />album: Sheer Heart Attack<br />name: Bring Back That Leroy<br />Brown","Dim.1: -4.31808532<br />Dim.2:  1.220736530<br />album: Sheer Heart Attack<br />name: Dear Friends","Dim.1:  1.40583428<br />Dim.2: -0.506611647<br />album: Sheer Heart Attack<br />name: Flick Of The Wrist","Dim.1: -1.15858674<br />Dim.2: -0.936845106<br />album: Sheer Heart Attack<br />name: In The Lap Of The Gods","Dim.1: -0.42972735<br />Dim.2: -0.204028720<br />album: Sheer Heart Attack<br />name: In The Lap Of The Gods...<br />Revisited","Dim.1:  0.12049259<br />Dim.2:  1.223618787<br />album: Sheer Heart Attack<br />name: Killer Queen","Dim.1: -2.73311238<br />Dim.2:  0.686282838<br />album: Sheer Heart Attack<br />name: Lily Of The Valley","Dim.1:  1.62501828<br />Dim.2:  1.764312752<br />album: Sheer Heart Attack<br />name: Misfire","Dim.1:  0.94193061<br />Dim.2:  0.133958923<br />album: Sheer Heart Attack<br />name: Now I'm Here","Dim.1: -0.60544803<br />Dim.2: -0.015623346<br />album: Sheer Heart Attack<br />name: She Makes Me<br />(Stormtrooper In<br />Stilettos)","Dim.1:  1.07049907<br />Dim.2:  0.147014943<br />album: Sheer Heart Attack<br />name: Stone Cold Crazy","Dim.1:  0.33331564<br />Dim.2:  0.136083732<br />album: Sheer Heart Attack<br />name: Tenement Funster"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(165,138,255,1)","opacity":0,"size":5.6692913385826778,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(165,138,255,1)"}},"hoveron":"points","name":"Sheer Heart Attack","legendgroup":"Sheer Heart Attack","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[0.92642335230148454,1.9565529823035128,-0.18706593330274454,0.75846087848782884,1.8916806919108484,1.6209807435157841,-0.14004202027668228,1.3102799509086296,-1.9922378545127599,-1.0226621751443594],"y":[2.9801449195891418,1.8402287970562596,2.1382369249308897,2.0220684537043003,0.63024680922365095,1.5088681243480204,-0.75426672682079698,0.13703669601750187,0.26698501948877457,0.73503633154577763],"text":["Dim.1:  0.92642335<br />Dim.2:  2.980144920<br />album: The Game<br />name: Another One Bites The<br />Dust","Dim.1:  1.95655298<br />Dim.2:  1.840228797<br />album: The Game<br />name: Coming Soon","Dim.1: -0.18706593<br />Dim.2:  2.138236925<br />album: The Game<br />name: Crazy Little Thing Called<br />Love","Dim.1:  0.75846088<br />Dim.2:  2.022068454<br />album: The Game<br />name: Don't Try Suicide","Dim.1:  1.89168069<br />Dim.2:  0.630246809<br />album: The Game<br />name: Dragon Attack","Dim.1:  1.62098074<br />Dim.2:  1.508868124<br />album: The Game<br />name: Need Your Loving Tonight","Dim.1: -0.14004202<br />Dim.2: -0.754266727<br />album: The Game<br />name: Play The Game","Dim.1:  1.31027995<br />Dim.2:  0.137036696<br />album: The Game<br />name: Rock It (Prime Jive)","Dim.1: -1.99223785<br />Dim.2:  0.266985019<br />album: The Game<br />name: Sail Away Sweet Sister","Dim.1: -1.02266218<br />Dim.2:  0.735036332<br />album: The Game<br />name: Save Me"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(223,112,248,1)","opacity":0,"size":5.6692913385826778,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(223,112,248,1)"}},"hoveron":"points","name":"The Game","legendgroup":"The Game","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[1.3273410541938522,1.1568465822662375,1.5540791581493307,-0.3647740887186125,2.5882283698690554,1.5148860575933392,1.3723243754779118,1.1150408090535369,0.90264576881622705,0.92283172401835767],"y":[-0.11589716289183941,-0.56321802153570932,-0.048731391814306753,2.3589311069329288,0.91513213418505068,2.1155528523742446,0.35663735501230281,1.0077984492102725,-0.3329145812330967,-2.8014572419798651],"text":["Dim.1:  1.32734105<br />Dim.2: -0.115897163<br />album: The Miracle<br />name: Breakthru","Dim.1:  1.15684658<br />Dim.2: -0.563218022<br />album: The Miracle<br />name: I Want It All","Dim.1:  1.55407916<br />Dim.2: -0.048731392<br />album: The Miracle<br />name: Khashoggi's Ship","Dim.1: -0.36477409<br />Dim.2:  2.358931107<br />album: The Miracle<br />name: My Baby Does Me","Dim.1:  2.58822837<br />Dim.2:  0.915132134<br />album: The Miracle<br />name: Party","Dim.1:  1.51488606<br />Dim.2:  2.115552852<br />album: The Miracle<br />name: Rain Must Fall","Dim.1:  1.37232438<br />Dim.2:  0.356637355<br />album: The Miracle<br />name: Scandal","Dim.1:  1.11504081<br />Dim.2:  1.007798449<br />album: The Miracle<br />name: The Invisible Man","Dim.1:  0.90264577<br />Dim.2: -0.332914581<br />album: The Miracle<br />name: The Miracle","Dim.1:  0.92283172<br />Dim.2: -2.801457242<br />album: The Miracle<br />name: Was It All Worth It"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(251,97,215,1)","opacity":0,"size":5.6692913385826778,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(251,97,215,1)"}},"hoveron":"points","name":"The Miracle","legendgroup":"The Miracle","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[0.93726248048547978,-0.057755315970157255,-3.8085152597737899,-0.72082086801630652,1.5220888774734194,1.8248142981196322,1.4813576454814759,0.5214350766710053,0.71690972856406066],"y":[-0.31248065743005099,3.4426967438865894,0.44235380497197907,0.046927473715724449,-0.15419734063322732,-0.703330477428463,0.93785126989516843,1.7626648424432334,-0.066763367758263734],"text":["Dim.1:  0.93726248<br />Dim.2: -0.312480657<br />album: The Works<br />name: Hammer To Fall","Dim.1: -0.05775532<br />Dim.2:  3.442696744<br />album: The Works<br />name: I Want To Break Free","Dim.1: -3.80851526<br />Dim.2:  0.442353805<br />album: The Works<br />name: Is This The World We<br />Created...?","Dim.1: -0.72082087<br />Dim.2:  0.046927474<br />album: The Works<br />name: It's A Hard Life","Dim.1:  1.52208888<br />Dim.2: -0.154197341<br />album: The Works<br />name: Keep Passing The Open<br />Windows","Dim.1:  1.82481430<br />Dim.2: -0.703330477<br />album: The Works<br />name: Machines (Or Back To<br />Humans)","Dim.1:  1.48135765<br />Dim.2:  0.937851270<br />album: The Works<br />name: Man On The Prowl","Dim.1:  0.52143508<br />Dim.2:  1.762664842<br />album: The Works<br />name: Radio Ga Ga","Dim.1:  0.71690973<br />Dim.2: -0.066763368<br />album: The Works<br />name: Tear It Up"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(255,102,168,1)","opacity":0,"size":5.6692913385826778,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(255,102,168,1)"}},"hoveron":"points","name":"The Works","legendgroup":"The Works","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[-0.50455727324046096,-1.3320334721058893,0.40522278434047715,0.3364549659972576,-2.4465621710813159,-1.7631076217807884,1.1757418206275363,0.3791829634544146,1.6870485551088046,-3.4917392617385521],"y":[-0.022031873402220011,1.0517435828524575,-0.38503889056324198,-0.8341481542006306,-1.6874911879136854,-0.55789692889017106,-1.9951777954669903,-1.8210103533659185,-0.17402524785053886,-2.0072471712779958],"text":["Drowse","Good Old-Fashioned Lover<br />Boy","Long Away","Somebody To Love","Teo Torriatte (Let Us<br />Cling Together)","The Millionaire Waltz","Tie Your Mother Down","White Man","You And I","You Take My Breath Away"],"hovertext":["Dim.1: -0.50455727<br />Dim.2: -0.022031873<br />album: A Day At The Races<br />name: Drowse","Dim.1: -1.33203347<br />Dim.2:  1.051743583<br />album: A Day At The Races<br />name: Good Old-Fashioned Lover<br />Boy","Dim.1:  0.40522278<br />Dim.2: -0.385038891<br />album: A Day At The Races<br />name: Long Away","Dim.1:  0.33645497<br />Dim.2: -0.834148154<br />album: A Day At The Races<br />name: Somebody To Love","Dim.1: -2.44656217<br />Dim.2: -1.687491188<br />album: A Day At The Races<br />name: Teo Torriatte (Let Us<br />Cling Together)","Dim.1: -1.76310762<br />Dim.2: -0.557896929<br />album: A Day At The Races<br />name: The Millionaire Waltz","Dim.1:  1.17574182<br />Dim.2: -1.995177795<br />album: A Day At The Races<br />name: Tie Your Mother Down","Dim.1:  0.37918296<br />Dim.2: -1.821010353<br />album: A Day At The Races<br />name: White Man","Dim.1:  1.68704856<br />Dim.2: -0.174025248<br />album: A Day At The Races<br />name: You And I","Dim.1: -3.49173926<br />Dim.2: -2.007247171<br />album: A Day At The Races<br />name: You Take My Breath Away"],"textfont":{"size":7.559055118110237,"color":"rgba(248,118,109,1)"},"type":"scatter","mode":"text","hoveron":"points","name":"A Day At The Races","legendgroup":"A Day At The Races","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[1.5671670264830229,1.2684211517065271,-0.19410862485323688,1.5604572414570275,2.1025782445159518,-1.0103513712719712,0.92230073781285726,1.1085296898338817,-2.6524499318309305],"y":[1.7982883719685783,-0.84374027622607561,0.098537386980358202,-2.9024508004768967,-1.3409385039686221,-0.35773964217296694,1.4368196264859741,-0.71958913440746242,-1.8904807881534611],"text":["A Kind Of Magic","Don't Lose Your Head","Friends Will Be Friends","Gimme The Prize","One Vision","One Year Of Love","Pain Is So Close To<br />Pleasure","Princes Of The Universe","Who Wants To Live Forever"],"hovertext":["Dim.1:  1.56716703<br />Dim.2:  1.798288372<br />album: A Kind Of Magic<br />name: A Kind Of Magic","Dim.1:  1.26842115<br />Dim.2: -0.843740276<br />album: A Kind Of Magic<br />name: Don't Lose Your Head","Dim.1: -0.19410862<br />Dim.2:  0.098537387<br />album: A Kind Of Magic<br />name: Friends Will Be Friends","Dim.1:  1.56045724<br />Dim.2: -2.902450800<br />album: A Kind Of Magic<br />name: Gimme The Prize","Dim.1:  2.10257824<br />Dim.2: -1.340938504<br />album: A Kind Of Magic<br />name: One Vision","Dim.1: -1.01035137<br />Dim.2: -0.357739642<br />album: A Kind Of Magic<br />name: One Year Of Love","Dim.1:  0.92230074<br />Dim.2:  1.436819626<br />album: A Kind Of Magic<br />name: Pain Is So Close To<br />Pleasure","Dim.1:  1.10852969<br />Dim.2: -0.719589134<br />album: A Kind Of Magic<br />name: Princes Of The Universe","Dim.1: -2.65244993<br />Dim.2: -1.890480788<br />album: A Kind Of Magic<br />name: Who Wants To Live Forever"],"textfont":{"size":7.559055118110237,"color":"rgba(227,137,0,1)"},"type":"scatter","mode":"text","hoveron":"points","name":"A Kind Of Magic","legendgroup":"A Kind Of Magic","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[-0.43721477095547362,-1.1750363846846512,0.10086921097904623,-5.3451884179324827,-1.4627042765950615,0.71964633176590442,-0.51833655427435421,-3.2790483707703957,1.2650686917346716,1.3800374233347839,-0.45106324223372185,0.42921814492240395],"y":[0.59561291145466588,-0.32743474320028138,0.0068572994350106315,-0.73317519640629703,0.40420180622278468,-0.66117957336759492,2.4534487511308747,-0.098539766383653457,0.98888617074765939,-1.1225498466644341,-2.2961965093431078,1.4523336103985234],"text":["'39","Bohemian Rhapsody","Death On Two Legs<br />(Dedicated To...)","God Save The Queen","Good Company","I'm In Love With My Car","Lazing On A Sunday<br />Afternoon","Love Of My Life","Seaside Rendezvous","Sweet Lady","The Prophet's Song","You're My Best Friend"],"hovertext":["Dim.1: -0.43721477<br />Dim.2:  0.595612911<br />album: A Night At The Opera<br />name: '39","Dim.1: -1.17503638<br />Dim.2: -0.327434743<br />album: A Night At The Opera<br />name: Bohemian Rhapsody","Dim.1:  0.10086921<br />Dim.2:  0.006857299<br />album: A Night At The Opera<br />name: Death On Two Legs<br />(Dedicated To...)","Dim.1: -5.34518842<br />Dim.2: -0.733175196<br />album: A Night At The Opera<br />name: God Save The Queen","Dim.1: -1.46270428<br />Dim.2:  0.404201806<br />album: A Night At The Opera<br />name: Good Company","Dim.1:  0.71964633<br />Dim.2: -0.661179573<br />album: A Night At The Opera<br />name: I'm In Love With My Car","Dim.1: -0.51833655<br />Dim.2:  2.453448751<br />album: A Night At The Opera<br />name: Lazing On A Sunday<br />Afternoon","Dim.1: -3.27904837<br />Dim.2: -0.098539766<br />album: A Night At The Opera<br />name: Love Of My Life","Dim.1:  1.26506869<br />Dim.2:  0.988886171<br />album: A Night At The Opera<br />name: Seaside Rendezvous","Dim.1:  1.38003742<br />Dim.2: -1.122549847<br />album: A Night At The Opera<br />name: Sweet Lady","Dim.1: -0.45106324<br />Dim.2: -2.296196509<br />album: A Night At The Opera<br />name: The Prophet's Song","Dim.1:  0.42921814<br />Dim.2:  1.452333610<br />album: A Night At The Opera<br />name: You're My Best Friend"],"textfont":{"size":7.559055118110237,"color":"rgba(196,154,0,1)"},"type":"scatter","mode":"text","hoveron":"points","name":"A Night At The Opera","legendgroup":"A Night At The Opera","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[1.1977594771183426,1.9646528558815062,0.27543733320708963,0.9873561325693051,-0.15860022517306271,0.28543959058462764,-0.76802733652928556,-1.7284592255034301,0.7587646127051999,1.5817338302445498,-0.032280293084636147],"y":[2.1914598921699242,1.0896810198174811,1.0956560281943586,0.96454992608290213,2.9969304822941214,1.5285666527478587,-0.70987395411822873,0.81031612011405307,0.33126740168333096,1.1012706950697007,1.6651853185419954],"text":["Action This Day","Back Chat","Body Language","Calling All Girls","Cool Cat","Dancer","Las Palabras De Amor (The<br />Words Of Love)","Life Is Real (Song For<br />Lennon)","Put Out The Fire","Staying Power","Under Pressure"],"hovertext":["Dim.1:  1.19775948<br />Dim.2:  2.191459892<br />album: Hot Space<br />name: Action This Day","Dim.1:  1.96465286<br />Dim.2:  1.089681020<br />album: Hot Space<br />name: Back Chat","Dim.1:  0.27543733<br />Dim.2:  1.095656028<br />album: Hot Space<br />name: Body Language","Dim.1:  0.98735613<br />Dim.2:  0.964549926<br />album: Hot Space<br />name: Calling All Girls","Dim.1: -0.15860023<br />Dim.2:  2.996930482<br />album: Hot Space<br />name: Cool Cat","Dim.1:  0.28543959<br />Dim.2:  1.528566653<br />album: Hot Space<br />name: Dancer","Dim.1: -0.76802734<br />Dim.2: -0.709873954<br />album: Hot Space<br />name: Las Palabras De Amor (The<br />Words Of Love)","Dim.1: -1.72845923<br />Dim.2:  0.810316120<br />album: Hot Space<br />name: Life Is Real (Song For<br />Lennon)","Dim.1:  0.75876461<br />Dim.2:  0.331267402<br />album: Hot Space<br />name: Put Out The Fire","Dim.1:  1.58173383<br />Dim.2:  1.101270695<br />album: Hot Space<br />name: Staying Power","Dim.1: -0.03228029<br />Dim.2:  1.665185319<br />album: Hot Space<br />name: Under Pressure"],"textfont":{"size":7.559055118110237,"color":"rgba(153,168,0,1)"},"type":"scatter","mode":"text","hoveron":"points","name":"Hot Space","legendgroup":"Hot Space","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[0.68704477142085663,-3.8421316849799787,-0.65911765198789563,-2.0144305767219919,1.5282062419415932,1.0051121586819458,0.12892020974030291,0.36587886823531374,1.1370021582007761,1.7075310719972263,-0.70945792140282149,-0.91088506210068421],"y":[-1.9710690210992823,-1.7342732383356816,1.6500050138080404,-1.1608924132112342,-0.066712753692533225,-0.4691203833633642,0.2137795068360113,-1.6851464868930244,-0.491162085092675,-2.3255030266453693,-0.12906605962324325,1.8665471576862165],"text":["All God's People","Bijou","Delilah","Don't Try So Hard","Headlong","I Can't Live With You","I'm Going Slightly Mad","Innuendo","Ride The Wild Wind","The Hitman","The Show Must Go On","These Are The Days Of Our<br />Lives"],"hovertext":["Dim.1:  0.68704477<br />Dim.2: -1.971069021<br />album: Innuendo<br />name: All God's People","Dim.1: -3.84213168<br />Dim.2: -1.734273238<br />album: Innuendo<br />name: Bijou","Dim.1: -0.65911765<br />Dim.2:  1.650005014<br />album: Innuendo<br />name: Delilah","Dim.1: -2.01443058<br />Dim.2: -1.160892413<br />album: Innuendo<br />name: Don't Try So Hard","Dim.1:  1.52820624<br />Dim.2: -0.066712754<br />album: Innuendo<br />name: Headlong","Dim.1:  1.00511216<br />Dim.2: -0.469120383<br />album: Innuendo<br />name: I Can't Live With You","Dim.1:  0.12892021<br />Dim.2:  0.213779507<br />album: Innuendo<br />name: I'm Going Slightly Mad","Dim.1:  0.36587887<br />Dim.2: -1.685146487<br />album: Innuendo<br />name: Innuendo","Dim.1:  1.13700216<br />Dim.2: -0.491162085<br />album: Innuendo<br />name: Ride The Wild Wind","Dim.1:  1.70753107<br />Dim.2: -2.325503027<br />album: Innuendo<br />name: The Hitman","Dim.1: -0.70945792<br />Dim.2: -0.129066060<br />album: Innuendo<br />name: The Show Must Go On","Dim.1: -0.91088506<br />Dim.2:  1.866547158<br />album: Innuendo<br />name: These Are The Days Of Our<br />Lives"],"textfont":{"size":7.559055118110237,"color":"rgba(83,180,0,1)"},"type":"scatter","mode":"text","hoveron":"points","name":"Innuendo","legendgroup":"Innuendo","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[0.50688732492350663,2.7177230633574534,3.0144246842794118,-1.5546592697730821,0.35514259576877893,2.1430034563361322,1.8060186493469892,-0.96002614340455827,-1.1490929118088211,-0.87192200806371767,2.863351795283227,1.1905811717894441,-0.28347789401230267],"y":[1.3405824111564328,-1.5682131547601788,0.049477249714883563,0.69186594750980479,-0.31886068008012536,1.8283247799340121,-0.22542112715063267,0.88465250125261796,0.44295198983737788,0.16364423443044065,-0.63619813089272803,-0.53754922808414896,0.8435184199765865],"text":["Bicycle Race","Dead On Time","Don't Stop Me Now","Dreamer's Ball","Fat Bottomed Girls","Fun It","If You Can't Beat Them","In Only Seven Days","Jealousy","Leaving Home Ain't Easy","Let Me Entertain You","More Of That Jazz","Mustapha"],"hovertext":["Dim.1:  0.50688732<br />Dim.2:  1.340582411<br />album: Jazz<br />name: Bicycle Race","Dim.1:  2.71772306<br />Dim.2: -1.568213155<br />album: Jazz<br />name: Dead On Time","Dim.1:  3.01442468<br />Dim.2:  0.049477250<br />album: Jazz<br />name: Don't Stop Me Now","Dim.1: -1.55465927<br />Dim.2:  0.691865948<br />album: Jazz<br />name: Dreamer's Ball","Dim.1:  0.35514260<br />Dim.2: -0.318860680<br />album: Jazz<br />name: Fat Bottomed Girls","Dim.1:  2.14300346<br />Dim.2:  1.828324780<br />album: Jazz<br />name: Fun It","Dim.1:  1.80601865<br />Dim.2: -0.225421127<br />album: Jazz<br />name: If You Can't Beat Them","Dim.1: -0.96002614<br />Dim.2:  0.884652501<br />album: Jazz<br />name: In Only Seven Days","Dim.1: -1.14909291<br />Dim.2:  0.442951990<br />album: Jazz<br />name: Jealousy","Dim.1: -0.87192201<br />Dim.2:  0.163644234<br />album: Jazz<br />name: Leaving Home Ain't Easy","Dim.1:  2.86335180<br />Dim.2: -0.636198131<br />album: Jazz<br />name: Let Me Entertain You","Dim.1:  1.19058117<br />Dim.2: -0.537549228<br />album: Jazz<br />name: More Of That Jazz","Dim.1: -0.28347789<br />Dim.2:  0.843518420<br />album: Jazz<br />name: Mustapha"],"textfont":{"size":7.559055118110237,"color":"rgba(0,188,86,1)"},"type":"scatter","mode":"text","hoveron":"points","name":"Jazz","legendgroup":"Jazz","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[-0.43340704841261096,-0.93269127453143708,1.5134252832051553,-4.4994050880136145,-0.31639761818724449,0.022013784270137959,0.48847920790562549,-0.5768003458886497,0.20919310182100345,-1.8697015315022714,1.5734170432537855],"y":[-1.4241201755943318,0.13804477493531125,-0.37236176990961034,-0.7900841396398145,-1.7204440213261276,-0.1559213092934601,-0.78759689551975143,-0.40438537609629566,-0.7581088745560145,-0.037555550860107187,-0.13801161585652796],"text":["A Winter's Tale","Heaven For Everyone","I Was Born To Love You","It's A Beautiful Day","It's A Beautiful Day<br />(Reprise)","Let Me Live","Made In Heaven","Mother Love","My Life Has Been Saved","Too Much Love Will Kill<br />You","You Don't Fool Me"],"hovertext":["Dim.1: -0.43340705<br />Dim.2: -1.424120176<br />album: Made In Heaven<br />name: A Winter's Tale","Dim.1: -0.93269127<br />Dim.2:  0.138044775<br />album: Made In Heaven<br />name: Heaven For Everyone","Dim.1:  1.51342528<br />Dim.2: -0.372361770<br />album: Made In Heaven<br />name: I Was Born To Love You","Dim.1: -4.49940509<br />Dim.2: -0.790084140<br />album: Made In Heaven<br />name: It's A Beautiful Day","Dim.1: -0.31639762<br />Dim.2: -1.720444021<br />album: Made In Heaven<br />name: It's A Beautiful Day<br />(Reprise)","Dim.1:  0.02201378<br />Dim.2: -0.155921309<br />album: Made In Heaven<br />name: Let Me Live","Dim.1:  0.48847921<br />Dim.2: -0.787596896<br />album: Made In Heaven<br />name: Made In Heaven","Dim.1: -0.57680035<br />Dim.2: -0.404385376<br />album: Made In Heaven<br />name: Mother Love","Dim.1:  0.20919310<br />Dim.2: -0.758108875<br />album: Made In Heaven<br />name: My Life Has Been Saved","Dim.1: -1.86970153<br />Dim.2: -0.037555551<br />album: Made In Heaven<br />name: Too Much Love Will Kill<br />You","Dim.1:  1.57341704<br />Dim.2: -0.138011616<br />album: Made In Heaven<br />name: You Don't Fool Me"],"textfont":{"size":7.559055118110237,"color":"rgba(0,192,148,1)"},"type":"scatter","mode":"text","hoveron":"points","name":"Made In Heaven","legendgroup":"Made In Heaven","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[-3.7308730451365135,1.3340524522618185,1.4135640279836372,1.1422468323685724,-3.402557094007729,2.0942060539013485,0.40956429783783971,0.34389868978505211,-1.680449918839946,-0.79376791993062257,-0.44422406380987683],"y":[0.70250649530021503,-0.48631659711359659,-1.1178982870243881,-1.4127587538399515,-0.014015586567060088,-2.1180301750711648,0.84828947226297491,0.049101296655181703,0.10685565107443923,2.1918382292228551,3.0200646096295687],"text":["All Dead, All Dead","Fight From The Inside","Get Down, Make Love","It's Late","My Melancholy Blues","Sheer Heart Attack","Sleeping On The Sidewalk","Spread Your Wings","We Are The Champions","We Will Rock You","Who Needs You"],"hovertext":["Dim.1: -3.73087305<br />Dim.2:  0.702506495<br />album: News Of The World<br />name: All Dead, All Dead","Dim.1:  1.33405245<br />Dim.2: -0.486316597<br />album: News Of The World<br />name: Fight From The Inside","Dim.1:  1.41356403<br />Dim.2: -1.117898287<br />album: News Of The World<br />name: Get Down, Make Love","Dim.1:  1.14224683<br />Dim.2: -1.412758754<br />album: News Of The World<br />name: It's Late","Dim.1: -3.40255709<br />Dim.2: -0.014015587<br />album: News Of The World<br />name: My Melancholy Blues","Dim.1:  2.09420605<br />Dim.2: -2.118030175<br />album: News Of The World<br />name: Sheer Heart Attack","Dim.1:  0.40956430<br />Dim.2:  0.848289472<br />album: News Of The World<br />name: Sleeping On The Sidewalk","Dim.1:  0.34389869<br />Dim.2:  0.049101297<br />album: News Of The World<br />name: Spread Your Wings","Dim.1: -1.68044992<br />Dim.2:  0.106855651<br />album: News Of The World<br />name: We Are The Champions","Dim.1: -0.79376792<br />Dim.2:  2.191838229<br />album: News Of The World<br />name: We Will Rock You","Dim.1: -0.44422406<br />Dim.2:  3.020064610<br />album: News Of The World<br />name: Who Needs You"],"textfont":{"size":7.559055118110237,"color":"rgba(0,191,196,1)"},"type":"scatter","mode":"text","hoveron":"points","name":"News Of The World","legendgroup":"News Of The World","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[-3.2189879412304303,0.89484433894455984,1.143283024275876,0.24959440150056295,0.77898541476803695,1.5862474884898561,-1.5727288441678282,-5.405923453582707,0.73918655974193859,-0.99370875792699309],"y":[-0.34989343841934523,-1.4959455606930216,-0.47226636374168379,0.28572976087113355,-2.4769078743919439,-0.33923765739815309,-0.80503537537006531,-1.032462308733016,-0.12619617011076134,-0.23697156564065319],"text":["Doing Alright","Great King Rat","Jesus","Keep Yourself Alive","Liar","Modern Times Rock 'N Roll","My Fairy King","Seven Seas Of Rhye","Son And Daughter","The Night Comes Down"],"hovertext":["Dim.1: -3.21898794<br />Dim.2: -0.349893438<br />album: Queen<br />name: Doing Alright","Dim.1:  0.89484434<br />Dim.2: -1.495945561<br />album: Queen<br />name: Great King Rat","Dim.1:  1.14328302<br />Dim.2: -0.472266364<br />album: Queen<br />name: Jesus","Dim.1:  0.24959440<br />Dim.2:  0.285729761<br />album: Queen<br />name: Keep Yourself Alive","Dim.1:  0.77898541<br />Dim.2: -2.476907874<br />album: Queen<br />name: Liar","Dim.1:  1.58624749<br />Dim.2: -0.339237657<br />album: Queen<br />name: Modern Times Rock 'N Roll","Dim.1: -1.57272884<br />Dim.2: -0.805035375<br />album: Queen<br />name: My Fairy King","Dim.1: -5.40592345<br />Dim.2: -1.032462309<br />album: Queen<br />name: Seven Seas Of Rhye","Dim.1:  0.73918656<br />Dim.2: -0.126196170<br />album: Queen<br />name: Son And Daughter","Dim.1: -0.99370876<br />Dim.2: -0.236971566<br />album: Queen<br />name: The Night Comes Down"],"textfont":{"size":7.559055118110237,"color":"rgba(0,182,235,1)"},"type":"scatter","mode":"text","hoveron":"points","name":"Queen","legendgroup":"Queen","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[-0.54343970137629449,1.311956015239844,-3.1735766348857304,-0.03705004519539716,-5.5873163173855804,1.0980458479275272,-1.1341284981340034,0.93452426604600325,1.5810805582016858,0.69710751276117477,-3.0016220786579932],"y":[-2.503055899720465,-0.63598778399643785,0.1867735589527556,-2.0887188270685302,1.5063583412250121,-0.77784764287808816,0.28731414033356101,0.50667745471522008,-0.32420205843859062,-2.9147811548039977,-1.3428578608027917],"text":["Father To Son","Funny How Love Is","Nevermore","Ogre Battle","Procession","Seven Seas Of Rhye","Some Day One Day","The Fairy Feller's<br />Master-Stroke","The Loser In The End","The March Of The Black<br />Queen","White Queen (As It Began)"],"hovertext":["Dim.1: -0.54343970<br />Dim.2: -2.503055900<br />album: Queen II<br />name: Father To Son","Dim.1:  1.31195602<br />Dim.2: -0.635987784<br />album: Queen II<br />name: Funny How Love Is","Dim.1: -3.17357663<br />Dim.2:  0.186773559<br />album: Queen II<br />name: Nevermore","Dim.1: -0.03705005<br />Dim.2: -2.088718827<br />album: Queen II<br />name: Ogre Battle","Dim.1: -5.58731632<br />Dim.2:  1.506358341<br />album: Queen II<br />name: Procession","Dim.1:  1.09804585<br />Dim.2: -0.777847643<br />album: Queen II<br />name: Seven Seas Of Rhye","Dim.1: -1.13412850<br />Dim.2:  0.287314140<br />album: Queen II<br />name: Some Day One Day","Dim.1:  0.93452427<br />Dim.2:  0.506677455<br />album: Queen II<br />name: The Fairy Feller's<br />Master-Stroke","Dim.1:  1.58108056<br />Dim.2: -0.324202058<br />album: Queen II<br />name: The Loser In The End","Dim.1:  0.69710751<br />Dim.2: -2.914781155<br />album: Queen II<br />name: The March Of The Black<br />Queen","Dim.1: -3.00162208<br />Dim.2: -1.342857861<br />album: Queen II<br />name: White Queen (As It Began)"],"textfont":{"size":7.559055118110237,"color":"rgba(6,164,255,1)"},"type":"scatter","mode":"text","hoveron":"points","name":"Queen II","legendgroup":"Queen II","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[2.2887386685547177,0.71052751285573268,-4.31808531597295,1.4058342841549394,-1.1585867385696662,-0.42972734924004352,0.12049258884734543,-2.7331123782762847,1.6250182834823799,0.94193060938958428,-0.60544803073944742,1.0704990695357912,0.33331563655217045],"y":[-3.1525303440787842,2.3120942641738034,1.2207365295237778,-0.50661164726488506,-0.93684510621289785,-0.20402872008859013,1.2236187872884421,0.68628283832398718,1.7643127522210289,0.13395892274204546,-0.015623345550307402,0.14701494340583401,0.13608373201759094],"text":["Brighton Rock","Bring Back That Leroy<br />Brown","Dear Friends","Flick Of The Wrist","In The Lap Of The Gods","In The Lap Of The Gods...<br />Revisited","Killer Queen","Lily Of The Valley","Misfire","Now I'm Here","She Makes Me<br />(Stormtrooper In<br />Stilettos)","Stone Cold Crazy","Tenement Funster"],"hovertext":["Dim.1:  2.28873867<br />Dim.2: -3.152530344<br />album: Sheer Heart Attack<br />name: Brighton Rock","Dim.1:  0.71052751<br />Dim.2:  2.312094264<br />album: Sheer Heart Attack<br />name: Bring Back That Leroy<br />Brown","Dim.1: -4.31808532<br />Dim.2:  1.220736530<br />album: Sheer Heart Attack<br />name: Dear Friends","Dim.1:  1.40583428<br />Dim.2: -0.506611647<br />album: Sheer Heart Attack<br />name: Flick Of The Wrist","Dim.1: -1.15858674<br />Dim.2: -0.936845106<br />album: Sheer Heart Attack<br />name: In The Lap Of The Gods","Dim.1: -0.42972735<br />Dim.2: -0.204028720<br />album: Sheer Heart Attack<br />name: In The Lap Of The Gods...<br />Revisited","Dim.1:  0.12049259<br />Dim.2:  1.223618787<br />album: Sheer Heart Attack<br />name: Killer Queen","Dim.1: -2.73311238<br />Dim.2:  0.686282838<br />album: Sheer Heart Attack<br />name: Lily Of The Valley","Dim.1:  1.62501828<br />Dim.2:  1.764312752<br />album: Sheer Heart Attack<br />name: Misfire","Dim.1:  0.94193061<br />Dim.2:  0.133958923<br />album: Sheer Heart Attack<br />name: Now I'm Here","Dim.1: -0.60544803<br />Dim.2: -0.015623346<br />album: Sheer Heart Attack<br />name: She Makes Me<br />(Stormtrooper In<br />Stilettos)","Dim.1:  1.07049907<br />Dim.2:  0.147014943<br />album: Sheer Heart Attack<br />name: Stone Cold Crazy","Dim.1:  0.33331564<br />Dim.2:  0.136083732<br />album: Sheer Heart Attack<br />name: Tenement Funster"],"textfont":{"size":7.559055118110237,"color":"rgba(165,138,255,1)"},"type":"scatter","mode":"text","hoveron":"points","name":"Sheer Heart Attack","legendgroup":"Sheer Heart Attack","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[0.92642335230148454,1.9565529823035128,-0.18706593330274454,0.75846087848782884,1.8916806919108484,1.6209807435157841,-0.14004202027668228,1.3102799509086296,-1.9922378545127599,-1.0226621751443594],"y":[2.9801449195891418,1.8402287970562596,2.1382369249308897,2.0220684537043003,0.63024680922365095,1.5088681243480204,-0.75426672682079698,0.13703669601750187,0.26698501948877457,0.73503633154577763],"text":["Another One Bites The<br />Dust","Coming Soon","Crazy Little Thing Called<br />Love","Don't Try Suicide","Dragon Attack","Need Your Loving Tonight","Play The Game","Rock It (Prime Jive)","Sail Away Sweet Sister","Save Me"],"hovertext":["Dim.1:  0.92642335<br />Dim.2:  2.980144920<br />album: The Game<br />name: Another One Bites The<br />Dust","Dim.1:  1.95655298<br />Dim.2:  1.840228797<br />album: The Game<br />name: Coming Soon","Dim.1: -0.18706593<br />Dim.2:  2.138236925<br />album: The Game<br />name: Crazy Little Thing Called<br />Love","Dim.1:  0.75846088<br />Dim.2:  2.022068454<br />album: The Game<br />name: Don't Try Suicide","Dim.1:  1.89168069<br />Dim.2:  0.630246809<br />album: The Game<br />name: Dragon Attack","Dim.1:  1.62098074<br />Dim.2:  1.508868124<br />album: The Game<br />name: Need Your Loving Tonight","Dim.1: -0.14004202<br />Dim.2: -0.754266727<br />album: The Game<br />name: Play The Game","Dim.1:  1.31027995<br />Dim.2:  0.137036696<br />album: The Game<br />name: Rock It (Prime Jive)","Dim.1: -1.99223785<br />Dim.2:  0.266985019<br />album: The Game<br />name: Sail Away Sweet Sister","Dim.1: -1.02266218<br />Dim.2:  0.735036332<br />album: The Game<br />name: Save Me"],"textfont":{"size":7.559055118110237,"color":"rgba(223,112,248,1)"},"type":"scatter","mode":"text","hoveron":"points","name":"The Game","legendgroup":"The Game","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[1.3273410541938522,1.1568465822662375,1.5540791581493307,-0.3647740887186125,2.5882283698690554,1.5148860575933392,1.3723243754779118,1.1150408090535369,0.90264576881622705,0.92283172401835767],"y":[-0.11589716289183941,-0.56321802153570932,-0.048731391814306753,2.3589311069329288,0.91513213418505068,2.1155528523742446,0.35663735501230281,1.0077984492102725,-0.3329145812330967,-2.8014572419798651],"text":["Breakthru","I Want It All","Khashoggi's Ship","My Baby Does Me","Party","Rain Must Fall","Scandal","The Invisible Man","The Miracle","Was It All Worth It"],"hovertext":["Dim.1:  1.32734105<br />Dim.2: -0.115897163<br />album: The Miracle<br />name: Breakthru","Dim.1:  1.15684658<br />Dim.2: -0.563218022<br />album: The Miracle<br />name: I Want It All","Dim.1:  1.55407916<br />Dim.2: -0.048731392<br />album: The Miracle<br />name: Khashoggi's Ship","Dim.1: -0.36477409<br />Dim.2:  2.358931107<br />album: The Miracle<br />name: My Baby Does Me","Dim.1:  2.58822837<br />Dim.2:  0.915132134<br />album: The Miracle<br />name: Party","Dim.1:  1.51488606<br />Dim.2:  2.115552852<br />album: The Miracle<br />name: Rain Must Fall","Dim.1:  1.37232438<br />Dim.2:  0.356637355<br />album: The Miracle<br />name: Scandal","Dim.1:  1.11504081<br />Dim.2:  1.007798449<br />album: The Miracle<br />name: The Invisible Man","Dim.1:  0.90264577<br />Dim.2: -0.332914581<br />album: The Miracle<br />name: The Miracle","Dim.1:  0.92283172<br />Dim.2: -2.801457242<br />album: The Miracle<br />name: Was It All Worth It"],"textfont":{"size":7.559055118110237,"color":"rgba(251,97,215,1)"},"type":"scatter","mode":"text","hoveron":"points","name":"The Miracle","legendgroup":"The Miracle","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[0.93726248048547978,-0.057755315970157255,-3.8085152597737899,-0.72082086801630652,1.5220888774734194,1.8248142981196322,1.4813576454814759,0.5214350766710053,0.71690972856406066],"y":[-0.31248065743005099,3.4426967438865894,0.44235380497197907,0.046927473715724449,-0.15419734063322732,-0.703330477428463,0.93785126989516843,1.7626648424432334,-0.066763367758263734],"text":["Hammer To Fall","I Want To Break Free","Is This The World We<br />Created...?","It's A Hard Life","Keep Passing The Open<br />Windows","Machines (Or Back To<br />Humans)","Man On The Prowl","Radio Ga Ga","Tear It Up"],"hovertext":["Dim.1:  0.93726248<br />Dim.2: -0.312480657<br />album: The Works<br />name: Hammer To Fall","Dim.1: -0.05775532<br />Dim.2:  3.442696744<br />album: The Works<br />name: I Want To Break Free","Dim.1: -3.80851526<br />Dim.2:  0.442353805<br />album: The Works<br />name: Is This The World We<br />Created...?","Dim.1: -0.72082087<br />Dim.2:  0.046927474<br />album: The Works<br />name: It's A Hard Life","Dim.1:  1.52208888<br />Dim.2: -0.154197341<br />album: The Works<br />name: Keep Passing The Open<br />Windows","Dim.1:  1.82481430<br />Dim.2: -0.703330477<br />album: The Works<br />name: Machines (Or Back To<br />Humans)","Dim.1:  1.48135765<br />Dim.2:  0.937851270<br />album: The Works<br />name: Man On The Prowl","Dim.1:  0.52143508<br />Dim.2:  1.762664842<br />album: The Works<br />name: Radio Ga Ga","Dim.1:  0.71690973<br />Dim.2: -0.066763368<br />album: The Works<br />name: Tear It Up"],"textfont":{"size":7.559055118110237,"color":"rgba(255,102,168,1)"},"type":"scatter","mode":"text","hoveron":"points","name":"The Works","legendgroup":"The Works","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":42.83271066832711,"r":7.3059360730593621,"b":39.252801992528028,"l":37.260273972602747},"plot_bgcolor":"rgba(255,255,255,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724},"title":{"text":"Gráfico de los individuos en las dos primeras CP (plotly)","font":{"color":"rgba(0,0,0,1)","family":"","size":17.534246575342465},"x":0,"xref":"paper"},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-6.0174033674688303,3.4445117343626617],"tickmode":"array","ticktext":["-6","-5","-4","-3","-2","-1","0","1","2","3"],"tickvals":[-6,-5,-4,-2.9999999999999996,-2,-1,0,1,2,3],"categoryorder":"array","categoryarray":["-6","-5","-4","-3","-2","-1","0","1","2","3"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.6529680365296811,"tickwidth":0.66417600664176002,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"y","title":{"text":"CP1","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-3.4822916984770531,3.7724580982848579],"tickmode":"array","ticktext":["-3","-2","-1","0","1","2","3"],"tickvals":[-3,-2,-1,0,1,2,3],"categoryorder":"array","categoryarray":["-3","-2","-1","0","1","2","3"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.6529680365296811,"tickwidth":0.66417600664176002,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"x","title":{"text":"CP2","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":"transparent","line":{"color":"rgba(51,51,51,1)","width":0.66417600664176002,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":true,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.8897637795275593,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.68949771689498},"title":{"text":"album","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"4a62481e388f":{"yintercept":{},"type":"scatter"},"4a6249375c81":{"xintercept":{}},"4a628354cd2":{"x":{},"y":{},"colour":{},"label":{}},"4a62404a9f68":{"x":{},"y":{},"colour":{},"label":{}}},"cur_data":"4a62481e388f","visdat":{"4a62481e388f":["function (y) ","x"],"4a6249375c81":["function (y) ","x"],"4a628354cd2":["function (y) ","x"],"4a62404a9f68":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="echarts4r html-widget html-fill-item" id="htmlwidget-894302506c7693ffbf4a" style="width:100%;height:500px;"></div>
<script type="application/json" data-for="htmlwidget-894302506c7693ffbf4a">{"x":{"theme":"","tl":false,"draw":true,"renderer":"canvas","events":[],"buttons":[],"opts":{"yAxis":[{"show":true,"name":"CP2","nameTextStyle":{"fontWeight":"bold","fontSize":15},"nameLocation":"middle","nameGap":25}],"xAxis":[{"type":"value","name":"CP1","nameTextStyle":{"fontWeight":"bold","fontSize":15},"nameLocation":"middle","min":-6,"max":6,"nameGap":25}],"legend":{"data":["A Day At The Races","A Kind Of Magic","A Night At The Opera","Hot Space","Innuendo","Jazz","Made In Heaven","News Of The World","Queen","Queen II","Sheer Heart Attack","The Game","The Miracle","The Works"],"show":true,"type":"plain","left":"right","top":"middle","orient":"vertical"},"series":[{"data":[{"value":[-3.491739261738552,-2.007247171277996],"name":"You Take My Breath Away","label":{"color":"#4E79A7"},"itemStyle":{"color":"#4E79A7"},"album":{"album":"A Day At The Races"}},{"value":[-2.446562171081316,-1.687491187913685],"name":"Teo Torriatte (Let Us\nCling Together)","label":{"color":"#4E79A7"},"itemStyle":{"color":"#4E79A7"},"album":{"album":"A Day At The Races"}},{"value":[-1.763107621780788,-0.5578969288901711],"name":"The Millionaire Waltz","label":{"color":"#4E79A7"},"itemStyle":{"color":"#4E79A7"},"album":{"album":"A Day At The Races"}},{"value":[-1.332033472105889,1.051743582852458],"name":"Good Old-Fashioned Lover\nBoy","label":{"color":"#4E79A7"},"itemStyle":{"color":"#4E79A7"},"album":{"album":"A Day At The Races"}},{"value":[-0.504557273240461,-0.02203187340222001],"name":"Drowse","label":{"color":"#4E79A7"},"itemStyle":{"color":"#4E79A7"},"album":{"album":"A Day At The Races"}},{"value":[0.3364549659972576,-0.8341481542006306],"name":"Somebody To Love","label":{"color":"#4E79A7"},"itemStyle":{"color":"#4E79A7"},"album":{"album":"A Day At The Races"}},{"value":[0.3791829634544146,-1.821010353365919],"name":"White Man","label":{"color":"#4E79A7"},"itemStyle":{"color":"#4E79A7"},"album":{"album":"A Day At The Races"}},{"value":[0.4052227843404771,-0.385038890563242],"name":"Long Away","label":{"color":"#4E79A7"},"itemStyle":{"color":"#4E79A7"},"album":{"album":"A Day At The Races"}},{"value":[1.175741820627536,-1.99517779546699],"name":"Tie Your Mother Down","label":{"color":"#4E79A7"},"itemStyle":{"color":"#4E79A7"},"album":{"album":"A Day At The Races"}},{"value":[1.687048555108805,-0.1740252478505389],"name":"You And I","label":{"color":"#4E79A7"},"itemStyle":{"color":"#4E79A7"},"album":{"album":"A Day At The Races"}}],"name":"A Day At The Races","type":"scatter","symbol":null,"label":{"show":true,"formatter":"function(params) {return(params.name)}","fontSize":11},"symbolSize":0,"emphasis":{"disabled":true},"coordinateSystem":"cartesian2d","label.1":{"show":true,"formatter":"function(params) {return(params.name)}","fontSize":11},"symbolSize.1":3,"emphasis.1":{"disabled":true},"yAxisIndex":0,"xAxisIndex":0},{"data":[{"value":[-2.65244993183093,-1.890480788153461],"name":"Who Wants To Live Forever","label":{"color":"#A0CBE8"},"itemStyle":{"color":"#A0CBE8"},"album":{"album":"A Kind Of Magic"}},{"value":[-1.010351371271971,-0.3577396421729669],"name":"One Year Of Love","label":{"color":"#A0CBE8"},"itemStyle":{"color":"#A0CBE8"},"album":{"album":"A Kind Of Magic"}},{"value":[-0.1941086248532369,0.0985373869803582],"name":"Friends Will Be Friends","label":{"color":"#A0CBE8"},"itemStyle":{"color":"#A0CBE8"},"album":{"album":"A Kind Of Magic"}},{"value":[0.9223007378128573,1.436819626485974],"name":"Pain Is So Close To\nPleasure","label":{"color":"#A0CBE8"},"itemStyle":{"color":"#A0CBE8"},"album":{"album":"A Kind Of Magic"}},{"value":[1.108529689833882,-0.7195891344074624],"name":"Princes Of The Universe","label":{"color":"#A0CBE8"},"itemStyle":{"color":"#A0CBE8"},"album":{"album":"A Kind Of Magic"}},{"value":[1.268421151706527,-0.8437402762260756],"name":"Don't Lose Your Head","label":{"color":"#A0CBE8"},"itemStyle":{"color":"#A0CBE8"},"album":{"album":"A Kind Of Magic"}},{"value":[1.560457241457027,-2.902450800476897],"name":"Gimme The Prize","label":{"color":"#A0CBE8"},"itemStyle":{"color":"#A0CBE8"},"album":{"album":"A Kind Of Magic"}},{"value":[1.567167026483023,1.798288371968578],"name":"A Kind Of Magic","label":{"color":"#A0CBE8"},"itemStyle":{"color":"#A0CBE8"},"album":{"album":"A Kind Of Magic"}},{"value":[2.102578244515952,-1.340938503968622],"name":"One Vision","label":{"color":"#A0CBE8"},"itemStyle":{"color":"#A0CBE8"},"album":{"album":"A Kind Of Magic"}}],"name":"A Kind Of Magic","type":"scatter","symbol":null,"label":{"show":true,"formatter":"function(params) {return(params.name)}","fontSize":11},"symbolSize":0,"emphasis":{"disabled":true},"coordinateSystem":"cartesian2d","label.1":{"show":true,"formatter":"function(params) {return(params.name)}","fontSize":11},"symbolSize.1":3,"emphasis.1":{"disabled":true},"yAxisIndex":0,"xAxisIndex":0},{"data":[{"value":[-5.345188417932483,-0.733175196406297],"name":"God Save The Queen","label":{"color":"#F28E2B"},"itemStyle":{"color":"#F28E2B"},"album":{"album":"A Night At The Opera"}},{"value":[-3.279048370770396,-0.09853976638365346],"name":"Love Of My Life","label":{"color":"#F28E2B"},"itemStyle":{"color":"#F28E2B"},"album":{"album":"A Night At The Opera"}},{"value":[-1.462704276595062,0.4042018062227847],"name":"Good Company","label":{"color":"#F28E2B"},"itemStyle":{"color":"#F28E2B"},"album":{"album":"A Night At The Opera"}},{"value":[-1.175036384684651,-0.3274347432002814],"name":"Bohemian Rhapsody","label":{"color":"#F28E2B"},"itemStyle":{"color":"#F28E2B"},"album":{"album":"A Night At The Opera"}},{"value":[-0.5183365542743542,2.453448751130875],"name":"Lazing On A Sunday\nAfternoon","label":{"color":"#F28E2B"},"itemStyle":{"color":"#F28E2B"},"album":{"album":"A Night At The Opera"}},{"value":[-0.4510632422337219,-2.296196509343108],"name":"The Prophet's Song","label":{"color":"#F28E2B"},"itemStyle":{"color":"#F28E2B"},"album":{"album":"A Night At The Opera"}},{"value":[-0.4372147709554736,0.5956129114546659],"name":"'39","label":{"color":"#F28E2B"},"itemStyle":{"color":"#F28E2B"},"album":{"album":"A Night At The Opera"}},{"value":[0.1008692109790462,0.006857299435010632],"name":"Death On Two Legs\n(Dedicated To...)","label":{"color":"#F28E2B"},"itemStyle":{"color":"#F28E2B"},"album":{"album":"A Night At The Opera"}},{"value":[0.429218144922404,1.452333610398523],"name":"You're My Best Friend","label":{"color":"#F28E2B"},"itemStyle":{"color":"#F28E2B"},"album":{"album":"A Night At The Opera"}},{"value":[0.7196463317659044,-0.6611795733675949],"name":"I'm In Love With My Car","label":{"color":"#F28E2B"},"itemStyle":{"color":"#F28E2B"},"album":{"album":"A Night At The Opera"}},{"value":[1.265068691734672,0.9888861707476594],"name":"Seaside Rendezvous","label":{"color":"#F28E2B"},"itemStyle":{"color":"#F28E2B"},"album":{"album":"A Night At The Opera"}},{"value":[1.380037423334784,-1.122549846664434],"name":"Sweet Lady","label":{"color":"#F28E2B"},"itemStyle":{"color":"#F28E2B"},"album":{"album":"A Night At The Opera"}}],"name":"A Night At The Opera","type":"scatter","symbol":null,"label":{"show":true,"formatter":"function(params) {return(params.name)}","fontSize":11},"symbolSize":0,"emphasis":{"disabled":true},"coordinateSystem":"cartesian2d","label.1":{"show":true,"formatter":"function(params) {return(params.name)}","fontSize":11},"symbolSize.1":3,"emphasis.1":{"disabled":true},"yAxisIndex":0,"xAxisIndex":0},{"data":[{"value":[-1.72845922550343,0.8103161201140531],"name":"Life Is Real (Song For\nLennon)","label":{"color":"#FFBE7D"},"itemStyle":{"color":"#FFBE7D"},"album":{"album":"Hot Space"}},{"value":[-0.7680273365292856,-0.7098739541182287],"name":"Las Palabras De Amor (The\nWords Of Love)","label":{"color":"#FFBE7D"},"itemStyle":{"color":"#FFBE7D"},"album":{"album":"Hot Space"}},{"value":[-0.1586002251730627,2.996930482294121],"name":"Cool Cat","label":{"color":"#FFBE7D"},"itemStyle":{"color":"#FFBE7D"},"album":{"album":"Hot Space"}},{"value":[-0.03228029308463615,1.665185318541995],"name":"Under Pressure","label":{"color":"#FFBE7D"},"itemStyle":{"color":"#FFBE7D"},"album":{"album":"Hot Space"}},{"value":[0.2754373332070896,1.095656028194359],"name":"Body Language","label":{"color":"#FFBE7D"},"itemStyle":{"color":"#FFBE7D"},"album":{"album":"Hot Space"}},{"value":[0.2854395905846276,1.528566652747859],"name":"Dancer","label":{"color":"#FFBE7D"},"itemStyle":{"color":"#FFBE7D"},"album":{"album":"Hot Space"}},{"value":[0.7587646127051999,0.331267401683331],"name":"Put Out The Fire","label":{"color":"#FFBE7D"},"itemStyle":{"color":"#FFBE7D"},"album":{"album":"Hot Space"}},{"value":[0.9873561325693051,0.9645499260829021],"name":"Calling All Girls","label":{"color":"#FFBE7D"},"itemStyle":{"color":"#FFBE7D"},"album":{"album":"Hot Space"}},{"value":[1.197759477118343,2.191459892169924],"name":"Action This Day","label":{"color":"#FFBE7D"},"itemStyle":{"color":"#FFBE7D"},"album":{"album":"Hot Space"}},{"value":[1.58173383024455,1.101270695069701],"name":"Staying Power","label":{"color":"#FFBE7D"},"itemStyle":{"color":"#FFBE7D"},"album":{"album":"Hot Space"}},{"value":[1.964652855881506,1.089681019817481],"name":"Back Chat","label":{"color":"#FFBE7D"},"itemStyle":{"color":"#FFBE7D"},"album":{"album":"Hot Space"}}],"name":"Hot Space","type":"scatter","symbol":null,"label":{"show":true,"formatter":"function(params) {return(params.name)}","fontSize":11},"symbolSize":0,"emphasis":{"disabled":true},"coordinateSystem":"cartesian2d","label.1":{"show":true,"formatter":"function(params) {return(params.name)}","fontSize":11},"symbolSize.1":3,"emphasis.1":{"disabled":true},"yAxisIndex":0,"xAxisIndex":0},{"data":[{"value":[-3.842131684979979,-1.734273238335682],"name":"Bijou","label":{"color":"#59A14F"},"itemStyle":{"color":"#59A14F"},"album":{"album":"Innuendo"}},{"value":[-2.014430576721992,-1.160892413211234],"name":"Don't Try So Hard","label":{"color":"#59A14F"},"itemStyle":{"color":"#59A14F"},"album":{"album":"Innuendo"}},{"value":[-0.9108850621006842,1.866547157686216],"name":"These Are The Days Of Our\nLives","label":{"color":"#59A14F"},"itemStyle":{"color":"#59A14F"},"album":{"album":"Innuendo"}},{"value":[-0.7094579214028215,-0.1290660596232432],"name":"The Show Must Go On","label":{"color":"#59A14F"},"itemStyle":{"color":"#59A14F"},"album":{"album":"Innuendo"}},{"value":[-0.6591176519878956,1.65000501380804],"name":"Delilah","label":{"color":"#59A14F"},"itemStyle":{"color":"#59A14F"},"album":{"album":"Innuendo"}},{"value":[0.1289202097403029,0.2137795068360113],"name":"I'm Going Slightly Mad","label":{"color":"#59A14F"},"itemStyle":{"color":"#59A14F"},"album":{"album":"Innuendo"}},{"value":[0.3658788682353137,-1.685146486893024],"name":"Innuendo","label":{"color":"#59A14F"},"itemStyle":{"color":"#59A14F"},"album":{"album":"Innuendo"}},{"value":[0.6870447714208566,-1.971069021099282],"name":"All God's People","label":{"color":"#59A14F"},"itemStyle":{"color":"#59A14F"},"album":{"album":"Innuendo"}},{"value":[1.005112158681946,-0.4691203833633642],"name":"I Can't Live With You","label":{"color":"#59A14F"},"itemStyle":{"color":"#59A14F"},"album":{"album":"Innuendo"}},{"value":[1.137002158200776,-0.491162085092675],"name":"Ride The Wild Wind","label":{"color":"#59A14F"},"itemStyle":{"color":"#59A14F"},"album":{"album":"Innuendo"}},{"value":[1.528206241941593,-0.06671275369253322],"name":"Headlong","label":{"color":"#59A14F"},"itemStyle":{"color":"#59A14F"},"album":{"album":"Innuendo"}},{"value":[1.707531071997226,-2.325503026645369],"name":"The Hitman","label":{"color":"#59A14F"},"itemStyle":{"color":"#59A14F"},"album":{"album":"Innuendo"}}],"name":"Innuendo","type":"scatter","symbol":null,"label":{"show":true,"formatter":"function(params) {return(params.name)}","fontSize":11},"symbolSize":0,"emphasis":{"disabled":true},"coordinateSystem":"cartesian2d","label.1":{"show":true,"formatter":"function(params) {return(params.name)}","fontSize":11},"symbolSize.1":3,"emphasis.1":{"disabled":true},"yAxisIndex":0,"xAxisIndex":0},{"data":[{"value":[-1.554659269773082,0.6918659475098048],"name":"Dreamer's Ball","label":{"color":"#8CD17D"},"itemStyle":{"color":"#8CD17D"},"album":{"album":"Jazz"}},{"value":[-1.149092911808821,0.4429519898373779],"name":"Jealousy","label":{"color":"#8CD17D"},"itemStyle":{"color":"#8CD17D"},"album":{"album":"Jazz"}},{"value":[-0.9600261434045583,0.884652501252618],"name":"In Only Seven Days","label":{"color":"#8CD17D"},"itemStyle":{"color":"#8CD17D"},"album":{"album":"Jazz"}},{"value":[-0.8719220080637177,0.1636442344304407],"name":"Leaving Home Ain't Easy","label":{"color":"#8CD17D"},"itemStyle":{"color":"#8CD17D"},"album":{"album":"Jazz"}},{"value":[-0.2834778940123027,0.8435184199765865],"name":"Mustapha","label":{"color":"#8CD17D"},"itemStyle":{"color":"#8CD17D"},"album":{"album":"Jazz"}},{"value":[0.3551425957687789,-0.3188606800801254],"name":"Fat Bottomed Girls","label":{"color":"#8CD17D"},"itemStyle":{"color":"#8CD17D"},"album":{"album":"Jazz"}},{"value":[0.5068873249235066,1.340582411156433],"name":"Bicycle Race","label":{"color":"#8CD17D"},"itemStyle":{"color":"#8CD17D"},"album":{"album":"Jazz"}},{"value":[1.190581171789444,-0.537549228084149],"name":"More Of That Jazz","label":{"color":"#8CD17D"},"itemStyle":{"color":"#8CD17D"},"album":{"album":"Jazz"}},{"value":[1.806018649346989,-0.2254211271506327],"name":"If You Can't Beat Them","label":{"color":"#8CD17D"},"itemStyle":{"color":"#8CD17D"},"album":{"album":"Jazz"}},{"value":[2.143003456336132,1.828324779934012],"name":"Fun It","label":{"color":"#8CD17D"},"itemStyle":{"color":"#8CD17D"},"album":{"album":"Jazz"}},{"value":[2.717723063357453,-1.568213154760179],"name":"Dead On Time","label":{"color":"#8CD17D"},"itemStyle":{"color":"#8CD17D"},"album":{"album":"Jazz"}},{"value":[2.863351795283227,-0.636198130892728],"name":"Let Me Entertain You","label":{"color":"#8CD17D"},"itemStyle":{"color":"#8CD17D"},"album":{"album":"Jazz"}},{"value":[3.014424684279412,0.04947724971488356],"name":"Don't Stop Me Now","label":{"color":"#8CD17D"},"itemStyle":{"color":"#8CD17D"},"album":{"album":"Jazz"}}],"name":"Jazz","type":"scatter","symbol":null,"label":{"show":true,"formatter":"function(params) {return(params.name)}","fontSize":11},"symbolSize":0,"emphasis":{"disabled":true},"coordinateSystem":"cartesian2d","label.1":{"show":true,"formatter":"function(params) {return(params.name)}","fontSize":11},"symbolSize.1":3,"emphasis.1":{"disabled":true},"yAxisIndex":0,"xAxisIndex":0},{"data":[{"value":[-4.499405088013614,-0.7900841396398145],"name":"It's A Beautiful Day","label":{"color":"#B6992D"},"itemStyle":{"color":"#B6992D"},"album":{"album":"Made In Heaven"}},{"value":[-1.869701531502271,-0.03755555086010719],"name":"Too Much Love Will Kill\nYou","label":{"color":"#B6992D"},"itemStyle":{"color":"#B6992D"},"album":{"album":"Made In Heaven"}},{"value":[-0.9326912745314371,0.1380447749353113],"name":"Heaven For Everyone","label":{"color":"#B6992D"},"itemStyle":{"color":"#B6992D"},"album":{"album":"Made In Heaven"}},{"value":[-0.5768003458886497,-0.4043853760962957],"name":"Mother Love","label":{"color":"#B6992D"},"itemStyle":{"color":"#B6992D"},"album":{"album":"Made In Heaven"}},{"value":[-0.433407048412611,-1.424120175594332],"name":"A Winter's Tale","label":{"color":"#B6992D"},"itemStyle":{"color":"#B6992D"},"album":{"album":"Made In Heaven"}},{"value":[-0.3163976181872445,-1.720444021326128],"name":"It's A Beautiful Day\n(Reprise)","label":{"color":"#B6992D"},"itemStyle":{"color":"#B6992D"},"album":{"album":"Made In Heaven"}},{"value":[0.02201378427013796,-0.1559213092934601],"name":"Let Me Live","label":{"color":"#B6992D"},"itemStyle":{"color":"#B6992D"},"album":{"album":"Made In Heaven"}},{"value":[0.2091931018210035,-0.7581088745560145],"name":"My Life Has Been Saved","label":{"color":"#B6992D"},"itemStyle":{"color":"#B6992D"},"album":{"album":"Made In Heaven"}},{"value":[0.4884792079056255,-0.7875968955197514],"name":"Made In Heaven","label":{"color":"#B6992D"},"itemStyle":{"color":"#B6992D"},"album":{"album":"Made In Heaven"}},{"value":[1.513425283205155,-0.3723617699096103],"name":"I Was Born To Love You","label":{"color":"#B6992D"},"itemStyle":{"color":"#B6992D"},"album":{"album":"Made In Heaven"}},{"value":[1.573417043253786,-0.138011615856528],"name":"You Don't Fool Me","label":{"color":"#B6992D"},"itemStyle":{"color":"#B6992D"},"album":{"album":"Made In Heaven"}}],"name":"Made In Heaven","type":"scatter","symbol":null,"label":{"show":true,"formatter":"function(params) {return(params.name)}","fontSize":11},"symbolSize":0,"emphasis":{"disabled":true},"coordinateSystem":"cartesian2d","label.1":{"show":true,"formatter":"function(params) {return(params.name)}","fontSize":11},"symbolSize.1":3,"emphasis.1":{"disabled":true},"yAxisIndex":0,"xAxisIndex":0},{"data":[{"value":[-3.730873045136514,0.702506495300215],"name":"All Dead, All Dead","label":{"color":"#F1CE63"},"itemStyle":{"color":"#F1CE63"},"album":{"album":"News Of The World"}},{"value":[-3.402557094007729,-0.01401558656706009],"name":"My Melancholy Blues","label":{"color":"#F1CE63"},"itemStyle":{"color":"#F1CE63"},"album":{"album":"News Of The World"}},{"value":[-1.680449918839946,0.1068556510744392],"name":"We Are The Champions","label":{"color":"#F1CE63"},"itemStyle":{"color":"#F1CE63"},"album":{"album":"News Of The World"}},{"value":[-0.7937679199306226,2.191838229222855],"name":"We Will Rock You","label":{"color":"#F1CE63"},"itemStyle":{"color":"#F1CE63"},"album":{"album":"News Of The World"}},{"value":[-0.4442240638098768,3.020064609629569],"name":"Who Needs You","label":{"color":"#F1CE63"},"itemStyle":{"color":"#F1CE63"},"album":{"album":"News Of The World"}},{"value":[0.3438986897850521,0.0491012966551817],"name":"Spread Your Wings","label":{"color":"#F1CE63"},"itemStyle":{"color":"#F1CE63"},"album":{"album":"News Of The World"}},{"value":[0.4095642978378397,0.8482894722629749],"name":"Sleeping On The Sidewalk","label":{"color":"#F1CE63"},"itemStyle":{"color":"#F1CE63"},"album":{"album":"News Of The World"}},{"value":[1.142246832368572,-1.412758753839952],"name":"It's Late","label":{"color":"#F1CE63"},"itemStyle":{"color":"#F1CE63"},"album":{"album":"News Of The World"}},{"value":[1.334052452261818,-0.4863165971135966],"name":"Fight From The Inside","label":{"color":"#F1CE63"},"itemStyle":{"color":"#F1CE63"},"album":{"album":"News Of The World"}},{"value":[1.413564027983637,-1.117898287024388],"name":"Get Down, Make Love","label":{"color":"#F1CE63"},"itemStyle":{"color":"#F1CE63"},"album":{"album":"News Of The World"}},{"value":[2.094206053901349,-2.118030175071165],"name":"Sheer Heart Attack","label":{"color":"#F1CE63"},"itemStyle":{"color":"#F1CE63"},"album":{"album":"News Of The World"}}],"name":"News Of The World","type":"scatter","symbol":null,"label":{"show":true,"formatter":"function(params) {return(params.name)}","fontSize":11},"symbolSize":0,"emphasis":{"disabled":true},"coordinateSystem":"cartesian2d","label.1":{"show":true,"formatter":"function(params) {return(params.name)}","fontSize":11},"symbolSize.1":3,"emphasis.1":{"disabled":true},"yAxisIndex":0,"xAxisIndex":0},{"data":[{"value":[-5.405923453582707,-1.032462308733016],"name":"Seven Seas Of Rhye","label":{"color":"#499894"},"itemStyle":{"color":"#499894"},"album":{"album":"Queen"}},{"value":[-3.21898794123043,-0.3498934384193452],"name":"Doing Alright","label":{"color":"#499894"},"itemStyle":{"color":"#499894"},"album":{"album":"Queen"}},{"value":[-1.572728844167828,-0.8050353753700653],"name":"My Fairy King","label":{"color":"#499894"},"itemStyle":{"color":"#499894"},"album":{"album":"Queen"}},{"value":[-0.9937087579269931,-0.2369715656406532],"name":"The Night Comes Down","label":{"color":"#499894"},"itemStyle":{"color":"#499894"},"album":{"album":"Queen"}},{"value":[0.2495944015005629,0.2857297608711336],"name":"Keep Yourself Alive","label":{"color":"#499894"},"itemStyle":{"color":"#499894"},"album":{"album":"Queen"}},{"value":[0.7391865597419386,-0.1261961701107613],"name":"Son And Daughter","label":{"color":"#499894"},"itemStyle":{"color":"#499894"},"album":{"album":"Queen"}},{"value":[0.778985414768037,-2.476907874391944],"name":"Liar","label":{"color":"#499894"},"itemStyle":{"color":"#499894"},"album":{"album":"Queen"}},{"value":[0.8948443389445598,-1.495945560693022],"name":"Great King Rat","label":{"color":"#499894"},"itemStyle":{"color":"#499894"},"album":{"album":"Queen"}},{"value":[1.143283024275876,-0.4722663637416838],"name":"Jesus","label":{"color":"#499894"},"itemStyle":{"color":"#499894"},"album":{"album":"Queen"}},{"value":[1.586247488489856,-0.3392376573981531],"name":"Modern Times Rock 'N Roll","label":{"color":"#499894"},"itemStyle":{"color":"#499894"},"album":{"album":"Queen"}}],"name":"Queen","type":"scatter","symbol":null,"label":{"show":true,"formatter":"function(params) {return(params.name)}","fontSize":11},"symbolSize":0,"emphasis":{"disabled":true},"coordinateSystem":"cartesian2d","label.1":{"show":true,"formatter":"function(params) {return(params.name)}","fontSize":11},"symbolSize.1":3,"emphasis.1":{"disabled":true},"yAxisIndex":0,"xAxisIndex":0},{"data":[{"value":[-5.58731631738558,1.506358341225012],"name":"Procession","label":{"color":"#86BCB6"},"itemStyle":{"color":"#86BCB6"},"album":{"album":"Queen II"}},{"value":[-3.17357663488573,0.1867735589527556],"name":"Nevermore","label":{"color":"#86BCB6"},"itemStyle":{"color":"#86BCB6"},"album":{"album":"Queen II"}},{"value":[-3.001622078657993,-1.342857860802792],"name":"White Queen (As It Began)","label":{"color":"#86BCB6"},"itemStyle":{"color":"#86BCB6"},"album":{"album":"Queen II"}},{"value":[-1.134128498134003,0.287314140333561],"name":"Some Day One Day","label":{"color":"#86BCB6"},"itemStyle":{"color":"#86BCB6"},"album":{"album":"Queen II"}},{"value":[-0.5434397013762945,-2.503055899720465],"name":"Father To Son","label":{"color":"#86BCB6"},"itemStyle":{"color":"#86BCB6"},"album":{"album":"Queen II"}},{"value":[-0.03705004519539716,-2.08871882706853],"name":"Ogre Battle","label":{"color":"#86BCB6"},"itemStyle":{"color":"#86BCB6"},"album":{"album":"Queen II"}},{"value":[0.6971075127611748,-2.914781154803998],"name":"The March Of The Black\nQueen","label":{"color":"#86BCB6"},"itemStyle":{"color":"#86BCB6"},"album":{"album":"Queen II"}},{"value":[0.9345242660460032,0.5066774547152201],"name":"The Fairy Feller's\nMaster-Stroke","label":{"color":"#86BCB6"},"itemStyle":{"color":"#86BCB6"},"album":{"album":"Queen II"}},{"value":[1.098045847927527,-0.7778476428780882],"name":"Seven Seas Of Rhye","label":{"color":"#86BCB6"},"itemStyle":{"color":"#86BCB6"},"album":{"album":"Queen II"}},{"value":[1.311956015239844,-0.6359877839964378],"name":"Funny How Love Is","label":{"color":"#86BCB6"},"itemStyle":{"color":"#86BCB6"},"album":{"album":"Queen II"}},{"value":[1.581080558201686,-0.3242020584385906],"name":"The Loser In The End","label":{"color":"#86BCB6"},"itemStyle":{"color":"#86BCB6"},"album":{"album":"Queen II"}}],"name":"Queen II","type":"scatter","symbol":null,"label":{"show":true,"formatter":"function(params) {return(params.name)}","fontSize":11},"symbolSize":0,"emphasis":{"disabled":true},"coordinateSystem":"cartesian2d","label.1":{"show":true,"formatter":"function(params) {return(params.name)}","fontSize":11},"symbolSize.1":3,"emphasis.1":{"disabled":true},"yAxisIndex":0,"xAxisIndex":0},{"data":[{"value":[-4.31808531597295,1.220736529523778],"name":"Dear Friends","label":{"color":"#E15759"},"itemStyle":{"color":"#E15759"},"album":{"album":"Sheer Heart Attack"}},{"value":[-2.733112378276285,0.6862828383239872],"name":"Lily Of The Valley","label":{"color":"#E15759"},"itemStyle":{"color":"#E15759"},"album":{"album":"Sheer Heart Attack"}},{"value":[-1.158586738569666,-0.9368451062128978],"name":"In The Lap Of The Gods","label":{"color":"#E15759"},"itemStyle":{"color":"#E15759"},"album":{"album":"Sheer Heart Attack"}},{"value":[-0.6054480307394474,-0.0156233455503074],"name":"She Makes Me\n(Stormtrooper In\nStilettos)","label":{"color":"#E15759"},"itemStyle":{"color":"#E15759"},"album":{"album":"Sheer Heart Attack"}},{"value":[-0.4297273492400435,-0.2040287200885901],"name":"In The Lap Of The Gods...\nRevisited","label":{"color":"#E15759"},"itemStyle":{"color":"#E15759"},"album":{"album":"Sheer Heart Attack"}},{"value":[0.1204925888473454,1.223618787288442],"name":"Killer Queen","label":{"color":"#E15759"},"itemStyle":{"color":"#E15759"},"album":{"album":"Sheer Heart Attack"}},{"value":[0.3333156365521704,0.1360837320175909],"name":"Tenement Funster","label":{"color":"#E15759"},"itemStyle":{"color":"#E15759"},"album":{"album":"Sheer Heart Attack"}},{"value":[0.7105275128557327,2.312094264173803],"name":"Bring Back That Leroy\nBrown","label":{"color":"#E15759"},"itemStyle":{"color":"#E15759"},"album":{"album":"Sheer Heart Attack"}},{"value":[0.9419306093895843,0.1339589227420455],"name":"Now I'm Here","label":{"color":"#E15759"},"itemStyle":{"color":"#E15759"},"album":{"album":"Sheer Heart Attack"}},{"value":[1.070499069535791,0.147014943405834],"name":"Stone Cold Crazy","label":{"color":"#E15759"},"itemStyle":{"color":"#E15759"},"album":{"album":"Sheer Heart Attack"}},{"value":[1.405834284154939,-0.5066116472648851],"name":"Flick Of The Wrist","label":{"color":"#E15759"},"itemStyle":{"color":"#E15759"},"album":{"album":"Sheer Heart Attack"}},{"value":[1.62501828348238,1.764312752221029],"name":"Misfire","label":{"color":"#E15759"},"itemStyle":{"color":"#E15759"},"album":{"album":"Sheer Heart Attack"}},{"value":[2.288738668554718,-3.152530344078784],"name":"Brighton Rock","label":{"color":"#E15759"},"itemStyle":{"color":"#E15759"},"album":{"album":"Sheer Heart Attack"}}],"name":"Sheer Heart Attack","type":"scatter","symbol":null,"label":{"show":true,"formatter":"function(params) {return(params.name)}","fontSize":11},"symbolSize":0,"emphasis":{"disabled":true},"coordinateSystem":"cartesian2d","label.1":{"show":true,"formatter":"function(params) {return(params.name)}","fontSize":11},"symbolSize.1":3,"emphasis.1":{"disabled":true},"yAxisIndex":0,"xAxisIndex":0},{"data":[{"value":[-1.99223785451276,0.2669850194887746],"name":"Sail Away Sweet Sister","label":{"color":"#FF9D9A"},"itemStyle":{"color":"#FF9D9A"},"album":{"album":"The Game"}},{"value":[-1.022662175144359,0.7350363315457776],"name":"Save Me","label":{"color":"#FF9D9A"},"itemStyle":{"color":"#FF9D9A"},"album":{"album":"The Game"}},{"value":[-0.1870659333027445,2.13823692493089],"name":"Crazy Little Thing Called\nLove","label":{"color":"#FF9D9A"},"itemStyle":{"color":"#FF9D9A"},"album":{"album":"The Game"}},{"value":[-0.1400420202766823,-0.754266726820797],"name":"Play The Game","label":{"color":"#FF9D9A"},"itemStyle":{"color":"#FF9D9A"},"album":{"album":"The Game"}},{"value":[0.7584608784878288,2.0220684537043],"name":"Don't Try Suicide","label":{"color":"#FF9D9A"},"itemStyle":{"color":"#FF9D9A"},"album":{"album":"The Game"}},{"value":[0.9264233523014845,2.980144919589142],"name":"Another One Bites The\nDust","label":{"color":"#FF9D9A"},"itemStyle":{"color":"#FF9D9A"},"album":{"album":"The Game"}},{"value":[1.31027995090863,0.1370366960175019],"name":"Rock It (Prime Jive)","label":{"color":"#FF9D9A"},"itemStyle":{"color":"#FF9D9A"},"album":{"album":"The Game"}},{"value":[1.620980743515784,1.50886812434802],"name":"Need Your Loving Tonight","label":{"color":"#FF9D9A"},"itemStyle":{"color":"#FF9D9A"},"album":{"album":"The Game"}},{"value":[1.891680691910848,0.630246809223651],"name":"Dragon Attack","label":{"color":"#FF9D9A"},"itemStyle":{"color":"#FF9D9A"},"album":{"album":"The Game"}},{"value":[1.956552982303513,1.84022879705626],"name":"Coming Soon","label":{"color":"#FF9D9A"},"itemStyle":{"color":"#FF9D9A"},"album":{"album":"The Game"}}],"name":"The Game","type":"scatter","symbol":null,"label":{"show":true,"formatter":"function(params) {return(params.name)}","fontSize":11},"symbolSize":0,"emphasis":{"disabled":true},"coordinateSystem":"cartesian2d","label.1":{"show":true,"formatter":"function(params) {return(params.name)}","fontSize":11},"symbolSize.1":3,"emphasis.1":{"disabled":true},"yAxisIndex":0,"xAxisIndex":0},{"data":[{"value":[-0.3647740887186125,2.358931106932929],"name":"My Baby Does Me","label":{"color":"#79706E"},"itemStyle":{"color":"#79706E"},"album":{"album":"The Miracle"}},{"value":[0.902645768816227,-0.3329145812330967],"name":"The Miracle","label":{"color":"#79706E"},"itemStyle":{"color":"#79706E"},"album":{"album":"The Miracle"}},{"value":[0.9228317240183577,-2.801457241979865],"name":"Was It All Worth It","label":{"color":"#79706E"},"itemStyle":{"color":"#79706E"},"album":{"album":"The Miracle"}},{"value":[1.115040809053537,1.007798449210273],"name":"The Invisible Man","label":{"color":"#79706E"},"itemStyle":{"color":"#79706E"},"album":{"album":"The Miracle"}},{"value":[1.156846582266237,-0.5632180215357093],"name":"I Want It All","label":{"color":"#79706E"},"itemStyle":{"color":"#79706E"},"album":{"album":"The Miracle"}},{"value":[1.327341054193852,-0.1158971628918394],"name":"Breakthru","label":{"color":"#79706E"},"itemStyle":{"color":"#79706E"},"album":{"album":"The Miracle"}},{"value":[1.372324375477912,0.3566373550123028],"name":"Scandal","label":{"color":"#79706E"},"itemStyle":{"color":"#79706E"},"album":{"album":"The Miracle"}},{"value":[1.514886057593339,2.115552852374245],"name":"Rain Must Fall","label":{"color":"#79706E"},"itemStyle":{"color":"#79706E"},"album":{"album":"The Miracle"}},{"value":[1.554079158149331,-0.04873139181430675],"name":"Khashoggi's Ship","label":{"color":"#79706E"},"itemStyle":{"color":"#79706E"},"album":{"album":"The Miracle"}},{"value":[2.588228369869055,0.9151321341850507],"name":"Party","label":{"color":"#79706E"},"itemStyle":{"color":"#79706E"},"album":{"album":"The Miracle"}}],"name":"The Miracle","type":"scatter","symbol":null,"label":{"show":true,"formatter":"function(params) {return(params.name)}","fontSize":11},"symbolSize":0,"emphasis":{"disabled":true},"coordinateSystem":"cartesian2d","label.1":{"show":true,"formatter":"function(params) {return(params.name)}","fontSize":11},"symbolSize.1":3,"emphasis.1":{"disabled":true},"yAxisIndex":0,"xAxisIndex":0},{"data":[{"value":[-3.80851525977379,0.4423538049719791],"name":"Is This The World We\nCreated...?","label":{"color":"#BAB0AC"},"itemStyle":{"color":"#BAB0AC"},"album":{"album":"The Works"}},{"value":[-0.7208208680163065,0.04692747371572445],"name":"It's A Hard Life","label":{"color":"#BAB0AC"},"itemStyle":{"color":"#BAB0AC"},"album":{"album":"The Works"}},{"value":[-0.05775531597015725,3.442696743886589],"name":"I Want To Break Free","label":{"color":"#BAB0AC"},"itemStyle":{"color":"#BAB0AC"},"album":{"album":"The Works"}},{"value":[0.5214350766710053,1.762664842443233],"name":"Radio Ga Ga","label":{"color":"#BAB0AC"},"itemStyle":{"color":"#BAB0AC"},"album":{"album":"The Works"}},{"value":[0.7169097285640607,-0.06676336775826373],"name":"Tear It Up","label":{"color":"#BAB0AC"},"itemStyle":{"color":"#BAB0AC"},"album":{"album":"The Works"}},{"value":[0.9372624804854798,-0.312480657430051],"name":"Hammer To Fall","label":{"color":"#BAB0AC"},"itemStyle":{"color":"#BAB0AC"},"album":{"album":"The Works"}},{"value":[1.481357645481476,0.9378512698951684],"name":"Man On The Prowl","label":{"color":"#BAB0AC"},"itemStyle":{"color":"#BAB0AC"},"album":{"album":"The Works"}},{"value":[1.522088877473419,-0.1541973406332273],"name":"Keep Passing The Open\nWindows","label":{"color":"#BAB0AC"},"itemStyle":{"color":"#BAB0AC"},"album":{"album":"The Works"}},{"value":[1.824814298119632,-0.703330477428463],"name":"Machines (Or Back To\nHumans)","label":{"color":"#BAB0AC"},"itemStyle":{"color":"#BAB0AC"},"album":{"album":"The Works"}}],"name":"The Works","type":"scatter","symbol":null,"label":{"show":true,"formatter":"function(params) {return(params.name)}","fontSize":11},"symbolSize":0,"emphasis":{"disabled":true},"coordinateSystem":"cartesian2d","label.1":{"show":true,"formatter":"function(params) {return(params.name)}","fontSize":11},"symbolSize.1":3,"emphasis.1":{"disabled":true},"yAxisIndex":0,"xAxisIndex":0}],"tooltip":{"trigger":"item","formatter":"function(params) {\n       return(\n         '<strong>Cancion: <\/strong>' + params.name + '<br>' +\n         '<strong>Album: <\/strong>' + params.data.album.album + '<br>' +\n         '<strong>Dim.1: <\/strong>' + params.value[0].toFixed(2) + '<br>' +\n         '<strong>Dim.2: <\/strong>' + params.value[1].toFixed(2) + '<br>'\n       )\n     }"},"color":["#4E79A7","#A0CBE8","#F28E2B","#FFBE7D","#59A14F","#8CD17D","#B6992D","#F1CE63","#499894","#86BCB6","#E15759","#FF9D9A","#79706E","#BAB0AC","#D37295","#FABFD2","#B07AA1","#D4A6C8","#9D7660","#D7B5A6"],"title":[{"text":"Gráfico de los individuos en las dos primeras CP (echarts4r)"}]},"dispose":true},"evals":["opts.series.0.label.formatter","opts.series.0.label.formatter","opts.series.1.label.formatter","opts.series.1.label.formatter","opts.series.2.label.formatter","opts.series.2.label.formatter","opts.series.3.label.formatter","opts.series.3.label.formatter","opts.series.4.label.formatter","opts.series.4.label.formatter","opts.series.5.label.formatter","opts.series.5.label.formatter","opts.series.6.label.formatter","opts.series.6.label.formatter","opts.series.7.label.formatter","opts.series.7.label.formatter","opts.series.8.label.formatter","opts.series.8.label.formatter","opts.series.9.label.formatter","opts.series.9.label.formatter","opts.series.10.label.formatter","opts.series.10.label.formatter","opts.series.11.label.formatter","opts.series.11.label.formatter","opts.series.12.label.formatter","opts.series.12.label.formatter","opts.series.13.label.formatter","opts.series.13.label.formatter","opts.tooltip.formatter"],"jsHooks":[]}</script>
</div>
</div>
</section>
</section>
<section id="paso-i-preliminares" class="level2">
<h2 class="anchored" data-anchor-id="paso-i-preliminares">Paso I: Preliminares</h2>
<ul>
<li><p>Nuestro objetivo consiste en desarrollar una app que permita al usuario/a seleccionar:</p>
<ul>
<li>Qué álbum (o álbumes) incluir en el análisis de CP.</li>
<li>Cuáles componentes graficar.</li>
</ul></li>
<li><p>Ahora que ya tenemos un objetivo planteado, <strong>llegó el momento de construir una Shiny App desde cero</strong>. Una recomendación importante es guardar cada app en un directorio único, donde no haya aplicaciones creadas previamente ni otros archivos innecesarios.</p></li>
<li><p>En consecuencia, para empezar a armar la aplicación, comenzamos por crear un nuevo directorio y guardar allí dos archivos:</p>
<ol type="1">
<li><code>app.R</code> (por ahora vacío) con codificación UTF-8</li>
<li><code>queen.txt</code></li>
</ol></li>
</ul>
<p>
</p>
<ul>
<li>Lo primero que podemos hacer dentro de <code>app.R</code> es leer los datos, definir interfaz y servidor vacíos, y hacer un llamado a la función <code>shiny::shinyApp()</code>:</li>
</ul>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Importación de datos y ajuste CP</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>datos <span class="ot">&lt;-</span> readr<span class="sc">::</span><span class="fu">read_delim</span>(<span class="st">"queen.txt"</span>, <span class="at">delim =</span> <span class="st">"</span><span class="sc">\t</span><span class="st">"</span>)</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>cp <span class="ot">&lt;-</span> FactoMineR<span class="sc">::</span><span class="fu">PCA</span>(</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>  <span class="co"># matriz de datos: elegimos variables numericas</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">X =</span> dplyr<span class="sc">::</span><span class="fu">select</span>(datos, dplyr<span class="sc">::</span><span class="fu">where</span>(is.numeric)), </span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">ncp =</span> <span class="dv">11</span>, <span class="co"># cantidad de componentes a almacenar</span></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">graph =</span> <span class="cn">FALSE</span> <span class="co"># no mostrar los graficos</span></span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Esqueleto de la Web</span></span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a>MiInterfaz <span class="ot">&lt;-</span> bslib<span class="sc">::</span><span class="fu">page_fluid</span>()</span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a>MiServidor <span class="ot">&lt;-</span> <span class="cf">function</span>(input, output) {}</span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Lanzamiento de la app</span></span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a>shiny<span class="sc">::</span><span class="fu">shinyApp</span>(<span class="at">ui =</span> MiInterfaz, <span class="at">server =</span> MiServidor)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li>Al detectar la función <code>shiny::shinyApp()</code>, RStudio reconoce que nuestro archivo es una aplicación web y agregará la opción <strong>Run App</strong> en la barra de herramientas:</li>
</ul>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="../imagenes/unidad05/Run_App.png" class="lightbox" data-gallery="quarto-lightbox-gallery-5"><img src="../imagenes/unidad05/Run_App.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:90.0%"></a></p>
</figure>
</div>
</div>
</div>
</section>
<section id="paso-ii-interfaz" class="level2">
<h2 class="anchored" data-anchor-id="paso-ii-interfaz">Paso II: Interfaz</h2>
<ul>
<li><p>El segundo paso consiste en definir el aspecto de la página web. Algunas de las opciones disponibles en <code>bslib</code> son <code>bslib::page_fluid()</code>, <code>bslib::page_fixed()</code>, <code>bslib::page_fillable()</code>, <code>bslib::page_navbar()</code> y <code>bslib::page_sidebar()</code>, todas con diferentes estructuras predefinidas.</p></li>
<li><p>Comenzaremos utilizando <code>bslib::page_fluid()</code>, la cual permite una gran flexibilidad a la hora de diseñar la aplicación. Dado que estamos dando nuestros primeros pasos con Shiny, vamos a enfocarnos en construir una página web simple, conformada sólo por dos paneles; más adelante estudiaremos en mayor detalle diseños más complejos.</p></li>
<li><p>Por costumbre, en el panel más angosto (<em>sidebar</em>) ubicaremos los comandos que nos permiten controlar el <em>output</em>; a su vez, en el panel principal (<em>main panel</em>) vamos a situar los resultados que queremos visualizar.</p></li>
<li><p>Podemos armar la estructura recién descripta usando la función <code>bslib::layout_sidebar()</code> dentro de <code>bslib::page_fluid()</code>. El esquema de la interfaz luce así:</p></li>
</ul>
<div class="cell" data-layout-align="center">
<details class="code-fold">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Importación de datos y ajuste CP</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>datos <span class="ot">&lt;-</span> readr<span class="sc">::</span><span class="fu">read_delim</span>(<span class="st">"queen.txt"</span>, <span class="at">delim =</span> <span class="st">"</span><span class="sc">\t</span><span class="st">"</span>)</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>cp <span class="ot">&lt;-</span> FactoMineR<span class="sc">::</span><span class="fu">PCA</span>(</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>  <span class="co"># matriz de datos: elegimos variables numericas</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">X =</span> dplyr<span class="sc">::</span><span class="fu">select</span>(datos, dplyr<span class="sc">::</span><span class="fu">where</span>(is.numeric)),</span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">ncp =</span> <span class="dv">11</span>, <span class="co"># cantidad de componentes a almacenar</span></span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">graph =</span> <span class="cn">FALSE</span> <span class="co"># no mostrar los graficos</span></span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a><span class="co"># User Interface</span></span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a>MiInterfaz <span class="ot">&lt;-</span> bslib<span class="sc">::</span><span class="fu">page_fluid</span>( <span class="co"># Estructura general de la web</span></span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Título de la web</span></span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a>  shiny<span class="sc">::</span><span class="fu">titlePanel</span>(<span class="st">"Mi Primera Shiny App - ACP sobre Canciones de Queen"</span>), </span>
<span id="cb6-14"><a href="#cb6-14" aria-hidden="true" tabindex="-1"></a>  bslib<span class="sc">::</span><span class="fu">layout_sidebar</span>( <span class="co"># Función para crear paneles</span></span>
<span id="cb6-15"><a href="#cb6-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">sidebar =</span> bslib<span class="sc">::</span><span class="fu">sidebar</span>(), <span class="co"># Panel secundario</span></span>
<span id="cb6-16"><a href="#cb6-16" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Panel principal</span></span>
<span id="cb6-17"><a href="#cb6-17" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb6-18"><a href="#cb6-18" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb6-19"><a href="#cb6-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-20"><a href="#cb6-20" aria-hidden="true" tabindex="-1"></a><span class="co"># Servidor</span></span>
<span id="cb6-21"><a href="#cb6-21" aria-hidden="true" tabindex="-1"></a>MiServidor <span class="ot">&lt;-</span> <span class="cf">function</span>(input, output) {}</span>
<span id="cb6-22"><a href="#cb6-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-23"><a href="#cb6-23" aria-hidden="true" tabindex="-1"></a><span class="co"># Lanzamiento de la app</span></span>
<span id="cb6-24"><a href="#cb6-24" aria-hidden="true" tabindex="-1"></a>shiny<span class="sc">::</span><span class="fu">shinyApp</span>(<span class="at">ui =</span> MiInterfaz, <span class="at">server =</span> MiServidor)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="paso-iii-outputs" class="level2">
<h2 class="anchored" data-anchor-id="paso-iii-outputs">Paso III: Outputs</h2>
<ul>
<li><p>Ahora es el turno de definir lo que mostraremos en el panel principal. En general, cuando deseamos mostrar en Shiny algún elemento creado por nosotros/as, debemos utilizar alguna de las funciones de tipo <em>output</em>. Las más comunes son:</p>
<ul>
<li><code>shiny::textOutput()</code> para texto plano</li>
<li><code>shiny::htmlOutput()</code> para texto con formato HTML</li>
<li><code>shiny::tableOutput()</code> para tablas, matrices o conjuntos de datos</li>
<li><code>DT::DTOutput()</code> para tablas creadas con el paquete <code>DT</code></li>
<li><code>reactable::reactableOutput()</code> para tablas creadas con el paquete <code>reactable</code></li>
<li><code>shiny::plotOutput()</code> para gráficos creados con el paquete <code>ggplot2</code></li>
<li><code>plotly::plotlyOutput()</code> para gráficos creados con el paquete <code>plotly</code></li>
<li><code>echarts4r::echarts4rOutput()</code> para gráficos creados con el paquete <code>echarts4r</code></li>
<li><code>leaflet::leafletOutput()</code> para mapas creados con el paquete <code>leaflet</code></li>
</ul></li>
</ul>
<p>
</p>
<ul>
<li><p>En nuestro caso usaremos <code>DT::DTOutput()</code> y <code>reactable::reactableOutput()</code> para mostrar tablas con las cargas y autovalores del ACP respectivamente (observación: usamos ambos tipos de <em>Output</em> con fines didácticos; al momento de desarrollar una app deberán elegir uno u otro paquete) y <code>plotly::plotlyOutput()</code> para mostrar gráficos.</p></li>
<li><p>Mediante el siguiente código le avisamos a R que dentro del <em>panel principal</em> habrá 4 objetos llamados <em>tabla_cargas</em>, <em>tabla_pjevar</em>, <em>plot_scree</em> y <em>plot_indiv</em>:</p></li>
</ul>
<div class="cell" data-layout-align="center">
<details class="code-fold">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Importación de datos y ajuste CP</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>datos <span class="ot">&lt;-</span> readr<span class="sc">::</span><span class="fu">read_delim</span>(<span class="st">"queen.txt"</span>, <span class="at">delim =</span> <span class="st">"</span><span class="sc">\t</span><span class="st">"</span>)</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>cp <span class="ot">&lt;-</span> FactoMineR<span class="sc">::</span><span class="fu">PCA</span>(</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>  <span class="co"># matriz de datos: elegimos variables numericas</span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">X =</span> dplyr<span class="sc">::</span><span class="fu">select</span>(datos, dplyr<span class="sc">::</span><span class="fu">where</span>(is.numeric)), </span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">ncp =</span> <span class="dv">11</span>, <span class="co"># cantidad de componentes a almacenar</span></span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">graph =</span> <span class="cn">FALSE</span> <span class="co"># no mostrar los graficos</span></span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a><span class="co"># User Interface</span></span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a>MiInterfaz <span class="ot">&lt;-</span> bslib<span class="sc">::</span><span class="fu">page_fluid</span>(</span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a>  shiny<span class="sc">::</span><span class="fu">titlePanel</span>(<span class="st">"Mi Primera Shiny App - ACP sobre Canciones de Queen"</span>), </span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a>  bslib<span class="sc">::</span><span class="fu">layout_sidebar</span>(</span>
<span id="cb7-14"><a href="#cb7-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">sidebar =</span> bslib<span class="sc">::</span><span class="fu">sidebar</span>(), </span>
<span id="cb7-15"><a href="#cb7-15" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb7-16"><a href="#cb7-16" aria-hidden="true" tabindex="-1"></a>    DT<span class="sc">::</span><span class="fu">DTOutput</span>(<span class="st">"tabla_cargas"</span>),</span>
<span id="cb7-17"><a href="#cb7-17" aria-hidden="true" tabindex="-1"></a>    reactable<span class="sc">::</span><span class="fu">reactableOutput</span>(<span class="st">"tabla_pjevar"</span>),</span>
<span id="cb7-18"><a href="#cb7-18" aria-hidden="true" tabindex="-1"></a>    plotly<span class="sc">::</span><span class="fu">plotlyOutput</span>(<span class="st">"plot_scree"</span>),</span>
<span id="cb7-19"><a href="#cb7-19" aria-hidden="true" tabindex="-1"></a>    plotly<span class="sc">::</span><span class="fu">plotlyOutput</span>(<span class="st">"plot_indiv"</span>)</span>
<span id="cb7-20"><a href="#cb7-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-21"><a href="#cb7-21" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb7-22"><a href="#cb7-22" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb7-23"><a href="#cb7-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-24"><a href="#cb7-24" aria-hidden="true" tabindex="-1"></a><span class="co"># Servidor</span></span>
<span id="cb7-25"><a href="#cb7-25" aria-hidden="true" tabindex="-1"></a>MiServidor <span class="ot">&lt;-</span> <span class="cf">function</span>(input, output) {}</span>
<span id="cb7-26"><a href="#cb7-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-27"><a href="#cb7-27" aria-hidden="true" tabindex="-1"></a><span class="co"># Lanzamiento de la app</span></span>
<span id="cb7-28"><a href="#cb7-28" aria-hidden="true" tabindex="-1"></a>shiny<span class="sc">::</span><span class="fu">shinyApp</span>(<span class="at">ui =</span> MiInterfaz, <span class="at">server =</span> MiServidor)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="paso-iv-servidor" class="level2">
<h2 class="anchored" data-anchor-id="paso-iv-servidor">Paso IV: Servidor</h2>
<ul>
<li><p>Ahora podemos ocuparnos de definir la sección <em>server</em>. Este bloque estará constituido por una función con dos argumentos: <strong>input</strong> y <strong>output</strong>:</p>
<ol type="1">
<li><p>el argumento <strong>input</strong> es una lista donde se guardan los valores que pueden cambiar según el deseo del usuario/a, en este caso álbums incluidos y componentes a graficar.</p></li>
<li><p>el argumento <strong>output</strong> es una lista donde se almacenan los resultados que dependen de los valores elegidos en <strong>input</strong>, en este caso las tablas y gráficos.</p></li>
</ol></li>
</ul>
<p>
</p>
<ul>
<li>Por ahora no nos preocuparemos por el argumento <em>input</em>; únicamente colocaremos dentro de la función <code>MiServidor</code> el código necesario para generar los 4 objetos que deseamos mostrar:</li>
</ul>
<div class="cell" data-layout-align="center">
<details class="code-fold">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Importación de datos y ajuste CP</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>datos <span class="ot">&lt;-</span> readr<span class="sc">::</span><span class="fu">read_delim</span>(<span class="st">"queen.txt"</span>, <span class="at">delim =</span> <span class="st">"</span><span class="sc">\t</span><span class="st">"</span>)</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>cp <span class="ot">&lt;-</span> FactoMineR<span class="sc">::</span><span class="fu">PCA</span>(</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>  <span class="co"># matriz de datos: elegimos variables numericas</span></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">X =</span> dplyr<span class="sc">::</span><span class="fu">select</span>(datos, dplyr<span class="sc">::</span><span class="fu">where</span>(is.numeric)), </span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">ncp =</span> <span class="dv">11</span>, <span class="co"># cantidad de componentes a almacenar</span></span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">graph =</span> <span class="cn">FALSE</span> <span class="co"># no mostrar los graficos</span></span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a><span class="co"># User Interface</span></span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a>MiInterfaz <span class="ot">&lt;-</span> bslib<span class="sc">::</span><span class="fu">page_fluid</span>(</span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a>  shiny<span class="sc">::</span><span class="fu">titlePanel</span>(<span class="st">"Mi Primera Shiny App - ACP sobre Canciones de Queen"</span>), </span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a>  bslib<span class="sc">::</span><span class="fu">layout_sidebar</span>(</span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">sidebar =</span> bslib<span class="sc">::</span><span class="fu">sidebar</span>(), </span>
<span id="cb8-15"><a href="#cb8-15" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb8-16"><a href="#cb8-16" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Usamos bslib::card() para evitar superposición de las tablas</span></span>
<span id="cb8-17"><a href="#cb8-17" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Esto parece ser comportamiento inesperado de DT::DTOutput</span></span>
<span id="cb8-18"><a href="#cb8-18" aria-hidden="true" tabindex="-1"></a>    bslib<span class="sc">::</span><span class="fu">card</span>(DT<span class="sc">::</span><span class="fu">DTOutput</span>(<span class="st">"tabla_cargas"</span>), <span class="at">height =</span> <span class="st">"620px"</span>), </span>
<span id="cb8-19"><a href="#cb8-19" aria-hidden="true" tabindex="-1"></a>    reactable<span class="sc">::</span><span class="fu">reactableOutput</span>(<span class="st">"tabla_pjevar"</span>),</span>
<span id="cb8-20"><a href="#cb8-20" aria-hidden="true" tabindex="-1"></a>    plotly<span class="sc">::</span><span class="fu">plotlyOutput</span>(<span class="st">"plot_scree"</span>),</span>
<span id="cb8-21"><a href="#cb8-21" aria-hidden="true" tabindex="-1"></a>    plotly<span class="sc">::</span><span class="fu">plotlyOutput</span>(<span class="st">"plot_indiv"</span>)</span>
<span id="cb8-22"><a href="#cb8-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-23"><a href="#cb8-23" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb8-24"><a href="#cb8-24" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb8-25"><a href="#cb8-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-26"><a href="#cb8-26" aria-hidden="true" tabindex="-1"></a><span class="co"># Servidor</span></span>
<span id="cb8-27"><a href="#cb8-27" aria-hidden="true" tabindex="-1"></a>MiServidor <span class="ot">&lt;-</span> <span class="cf">function</span>(input, output) {</span>
<span id="cb8-28"><a href="#cb8-28" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb8-29"><a href="#cb8-29" aria-hidden="true" tabindex="-1"></a>  output<span class="sc">$</span>tabla_cargas <span class="ot">&lt;-</span> DT<span class="sc">::</span><span class="fu">renderDT</span>({</span>
<span id="cb8-30"><a href="#cb8-30" aria-hidden="true" tabindex="-1"></a>    cp<span class="sc">$</span>var<span class="sc">$</span>coord <span class="sc">|&gt;</span> </span>
<span id="cb8-31"><a href="#cb8-31" aria-hidden="true" tabindex="-1"></a>      DT<span class="sc">::</span><span class="fu">datatable</span>(<span class="at">options =</span> <span class="fu">list</span>(<span class="at">pageLength =</span> <span class="dv">11</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb8-32"><a href="#cb8-32" aria-hidden="true" tabindex="-1"></a>      DT<span class="sc">::</span><span class="fu">formatRound</span>(<span class="at">columns =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">11</span>, <span class="at">digits =</span> <span class="dv">4</span>)</span>
<span id="cb8-33"><a href="#cb8-33" aria-hidden="true" tabindex="-1"></a>  })</span>
<span id="cb8-34"><a href="#cb8-34" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb8-35"><a href="#cb8-35" aria-hidden="true" tabindex="-1"></a>  output<span class="sc">$</span>tabla_pjevar <span class="ot">&lt;-</span> reactable<span class="sc">::</span><span class="fu">renderReactable</span>({</span>
<span id="cb8-36"><a href="#cb8-36" aria-hidden="true" tabindex="-1"></a>    cp<span class="sc">$</span>eig <span class="sc">|&gt;</span> </span>
<span id="cb8-37"><a href="#cb8-37" aria-hidden="true" tabindex="-1"></a>      reactable<span class="sc">::</span><span class="fu">reactable</span>(</span>
<span id="cb8-38"><a href="#cb8-38" aria-hidden="true" tabindex="-1"></a>        <span class="at">pagination =</span> <span class="cn">FALSE</span>,</span>
<span id="cb8-39"><a href="#cb8-39" aria-hidden="true" tabindex="-1"></a>        <span class="at">defaultColDef =</span> reactable<span class="sc">::</span><span class="fu">colDef</span>(</span>
<span id="cb8-40"><a href="#cb8-40" aria-hidden="true" tabindex="-1"></a>          <span class="at">format =</span> reactable<span class="sc">::</span><span class="fu">colFormat</span>(<span class="at">digits =</span> <span class="dv">2</span>)</span>
<span id="cb8-41"><a href="#cb8-41" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb8-42"><a href="#cb8-42" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="cb8-43"><a href="#cb8-43" aria-hidden="true" tabindex="-1"></a>  })</span>
<span id="cb8-44"><a href="#cb8-44" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb8-45"><a href="#cb8-45" aria-hidden="true" tabindex="-1"></a>  output<span class="sc">$</span>plot_scree <span class="ot">&lt;-</span> plotly<span class="sc">::</span><span class="fu">renderPlotly</span>({</span>
<span id="cb8-46"><a href="#cb8-46" aria-hidden="true" tabindex="-1"></a>    gg_scree <span class="ot">&lt;-</span> tibble<span class="sc">::</span><span class="fu">tibble</span>(<span class="at">CP =</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(cp<span class="sc">$</span>eig),</span>
<span id="cb8-47"><a href="#cb8-47" aria-hidden="true" tabindex="-1"></a>                               <span class="at">PVE =</span> cp<span class="sc">$</span>eig[,<span class="dv">2</span>]) <span class="sc">|&gt;</span> </span>
<span id="cb8-48"><a href="#cb8-48" aria-hidden="true" tabindex="-1"></a>      ggplot2<span class="sc">::</span><span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb8-49"><a href="#cb8-49" aria-hidden="true" tabindex="-1"></a>      ggplot2<span class="sc">::</span><span class="fu">aes</span>(<span class="at">x =</span> CP, <span class="at">y =</span> PVE) <span class="sc">+</span></span>
<span id="cb8-50"><a href="#cb8-50" aria-hidden="true" tabindex="-1"></a>      ggplot2<span class="sc">::</span><span class="fu">geom_line</span>(<span class="at">linewidth =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb8-51"><a href="#cb8-51" aria-hidden="true" tabindex="-1"></a>      ggplot2<span class="sc">::</span><span class="fu">geom_point</span>(<span class="at">size =</span> <span class="dv">3</span>, <span class="at">color =</span> <span class="st">"red"</span>) <span class="sc">+</span></span>
<span id="cb8-52"><a href="#cb8-52" aria-hidden="true" tabindex="-1"></a>      ggplot2<span class="sc">::</span><span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(cp<span class="sc">$</span>eig)) <span class="sc">+</span></span>
<span id="cb8-53"><a href="#cb8-53" aria-hidden="true" tabindex="-1"></a>      ggplot2<span class="sc">::</span><span class="fu">scale_y_continuous</span>(<span class="at">name =</span> <span class="st">"% Variancia Explicada"</span>) <span class="sc">+</span></span>
<span id="cb8-54"><a href="#cb8-54" aria-hidden="true" tabindex="-1"></a>      ggplot2<span class="sc">::</span><span class="fu">ggtitle</span>(<span class="st">"Scree Plot"</span>) <span class="sc">+</span></span>
<span id="cb8-55"><a href="#cb8-55" aria-hidden="true" tabindex="-1"></a>      ggplot2<span class="sc">::</span><span class="fu">theme_bw</span>()</span>
<span id="cb8-56"><a href="#cb8-56" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb8-57"><a href="#cb8-57" aria-hidden="true" tabindex="-1"></a>    plotly<span class="sc">::</span><span class="fu">ggplotly</span>(gg_scree)</span>
<span id="cb8-58"><a href="#cb8-58" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb8-59"><a href="#cb8-59" aria-hidden="true" tabindex="-1"></a>  })</span>
<span id="cb8-60"><a href="#cb8-60" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb8-61"><a href="#cb8-61" aria-hidden="true" tabindex="-1"></a>  output<span class="sc">$</span>plot_indiv <span class="ot">&lt;-</span> plotly<span class="sc">::</span><span class="fu">renderPlotly</span>({</span>
<span id="cb8-62"><a href="#cb8-62" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb8-63"><a href="#cb8-63" aria-hidden="true" tabindex="-1"></a>    individuos <span class="ot">&lt;-</span> cp<span class="sc">$</span>ind<span class="sc">$</span>coord <span class="sc">|&gt;</span> </span>
<span id="cb8-64"><a href="#cb8-64" aria-hidden="true" tabindex="-1"></a>      dplyr<span class="sc">::</span><span class="fu">bind_cols</span>(datos) <span class="sc">|&gt;</span> </span>
<span id="cb8-65"><a href="#cb8-65" aria-hidden="true" tabindex="-1"></a>      dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">name =</span> stringr<span class="sc">::</span><span class="fu">str_wrap</span>(name, <span class="dv">25</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb8-66"><a href="#cb8-66" aria-hidden="true" tabindex="-1"></a>      ggplot2<span class="sc">::</span><span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb8-67"><a href="#cb8-67" aria-hidden="true" tabindex="-1"></a>      ggplot2<span class="sc">::</span><span class="fu">aes</span>(<span class="at">x =</span> Dim<span class="fl">.1</span>, <span class="at">y =</span> Dim<span class="fl">.2</span>, <span class="at">color =</span> album, <span class="at">label =</span> name) <span class="sc">+</span></span>
<span id="cb8-68"><a href="#cb8-68" aria-hidden="true" tabindex="-1"></a>      ggplot2<span class="sc">::</span><span class="fu">geom_hline</span>(<span class="at">yintercept =</span> <span class="dv">0</span>, <span class="at">linewidth =</span> <span class="fl">0.1</span>) <span class="sc">+</span></span>
<span id="cb8-69"><a href="#cb8-69" aria-hidden="true" tabindex="-1"></a>      ggplot2<span class="sc">::</span><span class="fu">geom_vline</span>(<span class="at">xintercept =</span> <span class="dv">0</span>, <span class="at">linewidth =</span> <span class="fl">0.1</span>) <span class="sc">+</span></span>
<span id="cb8-70"><a href="#cb8-70" aria-hidden="true" tabindex="-1"></a>      ggplot2<span class="sc">::</span><span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="dv">0</span>) <span class="sc">+</span></span>
<span id="cb8-71"><a href="#cb8-71" aria-hidden="true" tabindex="-1"></a>      ggplot2<span class="sc">::</span><span class="fu">geom_text</span>(<span class="at">size =</span> <span class="dv">2</span>, <span class="at">show.legend =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb8-72"><a href="#cb8-72" aria-hidden="true" tabindex="-1"></a>      ggplot2<span class="sc">::</span><span class="fu">ggtitle</span>(<span class="st">"Gráfico de los individuos en las CP seleccionadas"</span>) <span class="sc">+</span></span>
<span id="cb8-73"><a href="#cb8-73" aria-hidden="true" tabindex="-1"></a>      ggplot2<span class="sc">::</span><span class="fu">theme_bw</span>()</span>
<span id="cb8-74"><a href="#cb8-74" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-75"><a href="#cb8-75" aria-hidden="true" tabindex="-1"></a>    plotly<span class="sc">::</span><span class="fu">ggplotly</span>(individuos)</span>
<span id="cb8-76"><a href="#cb8-76" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-77"><a href="#cb8-77" aria-hidden="true" tabindex="-1"></a>  })</span>
<span id="cb8-78"><a href="#cb8-78" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb8-79"><a href="#cb8-79" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb8-80"><a href="#cb8-80" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-81"><a href="#cb8-81" aria-hidden="true" tabindex="-1"></a><span class="co"># Lanzamiento de la app</span></span>
<span id="cb8-82"><a href="#cb8-82" aria-hidden="true" tabindex="-1"></a>shiny<span class="sc">::</span><span class="fu">shinyApp</span>(<span class="at">ui =</span> MiInterfaz, <span class="at">server =</span> MiServidor)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="alert alert-success">
<p><strong>Importante: estructura del servidor</strong></p>
<ul>
<li><p>Estudiemos el formato de escritura empleado: dentro de la función que juega el rol de <strong>servidor</strong> debemos listar los elementos que deseamos que estén disponibles para ser incluidos en el resultado final de la app, siguiendo la estructura <code>output$NombreObjeto</code>.</p></li>
<li><p>Asociado a este nombre debe haber un llamado a una función de tipo <em>render</em>, las cuales son la contraparte de las funciones <em>output</em> mencionadas arriba. Ejemplos:</p>
<ul>
<li><code>plotly::plotlyOutput()</code> en la interfaz –&gt; <code>plotly::renderPlotly()</code> en el servidor</li>
<li><code>DT::DTOutput()</code> en la interfaz –&gt; <code>DT::renderDT()</code> en el servidor</li>
<li><code>reactable::reactableOutput()</code> en la interfaz –&gt; <code>reactable::renderReactable()</code> en el servidor</li>
</ul></li>
</ul>
</div>
</section>
<section id="paso-v-widgets" class="level2">
<h2 class="anchored" data-anchor-id="paso-v-widgets">Paso V: Widgets</h2>
<ul>
<li><p>Todavía no hemos otorgado a nuestra app la interactividad deseada: sólo muestra las primeras 2 componentes e incluye todos los álbums disponibles de Queen en la base, ya que así está programado en el código mostrado arriba.</p></li>
<li><p>Para lograr la interactividad será necesario incluir ciertos <strong>widgets</strong> (término traducido como “dispositivos” o “artilugios”) en nuestra app. Podemos pensar a un <em>widget</em> como un elemento prefabricado que nos da la posibilidad de transmitirle información a la app sobre lo que queremos. Los más comunes son:</p>
<ul>
<li><code>shiny::checkboxGroupInput()</code>: listado de opciones para marcar (<em>multiple choice</em>)</li>
<li><code>shiny::radioButtons()</code>: listado de opciones que admite una respuesta única</li>
<li><code>shiny::textInput()</code>: entrada manual de texto</li>
<li><code>shiny::numericInput()</code>: entrada de valores numéricos</li>
<li><code>shiny::dateInput()</code>: entrada de fechas</li>
<li><code>shiny::fileInput()</code>: permite subir un archivo desde mi PC para ser utilizado por la app</li>
<li><code>shiny::actionButton()</code>: botón de acción para activar o desactivar cierta opción</li>
<li><code>shiny::sliderInput()</code>: barra horizontal que permite elegir un valor numérico o un intervalo dentro de un rango determinado</li>
</ul></li>
</ul>
<p>
</p>
<ul>
<li><p>Shiny ofrece una variada lista de posibilidades, las cuales podemos consultar en esta <a href="https://shiny.rstudio.com/gallery/widget-gallery.html">galería de widgets</a>. Una alternativa recomendable es el paquete <code>shinyWidgets</code> el cual ofrece muchas otras opciones, las cuales vale la pena repasar en su <a href="http://shinyapps.dreamrs.fr/shinyWidgets/">página web</a>. Más adelante hablaremos más sobre este paquete.</p></li>
<li><p>Para continuar con el armado de nuestra app, existen dos <em>widgets</em> que serán particularmente útiles:</p>
<ul>
<li><code>shiny::checkboxGroupInput()</code> para poder elegir los discos de Queen a incluir en el ACP</li>
<li><code>shiny::numericInput()</code> para poder elegir las componentes a graficar (uno para cada eje)</li>
</ul></li>
</ul>
<p>
</p>
<ul>
<li><p>A cada <em>widget</em> que creamos debemos asignarle un <strong>ID</strong>, el cual luego podrá ser usado para hacer referencia a los valores que cada uno de ellos tomen en determinado momento.</p></li>
<li><p>El código para generar los <em>widgets</em> puede incluirse directamente dentro del <strong>sidebarPanel</strong> presente en la interfaz de nuestra aplicación:</p></li>
</ul>
<div class="cell" data-layout-align="center">
<details class="code-fold">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Datos</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>datos <span class="ot">&lt;-</span> readr<span class="sc">::</span><span class="fu">read_delim</span>(<span class="st">"queen.txt"</span>, <span class="at">delim =</span> <span class="st">"</span><span class="sc">\t</span><span class="st">"</span>)</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>cp <span class="ot">&lt;-</span> FactoMineR<span class="sc">::</span><span class="fu">PCA</span>(</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>  <span class="co"># matriz de datos: elegimos variables numericas</span></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">X =</span> dplyr<span class="sc">::</span><span class="fu">select</span>(datos, dplyr<span class="sc">::</span><span class="fu">where</span>(is.numeric)), </span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">ncp =</span> <span class="dv">11</span>, <span class="co"># cantidad de componentes a almacenar</span></span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">graph =</span> <span class="cn">FALSE</span> <span class="co"># no mostrar los graficos</span></span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a><span class="co"># User Interface</span></span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a>MiInterfaz <span class="ot">&lt;-</span> bslib<span class="sc">::</span><span class="fu">page_fluid</span>(</span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a>  shiny<span class="sc">::</span><span class="fu">titlePanel</span>(<span class="st">"Mi Primera Shiny App - ACP sobre Canciones de Queen"</span>), </span>
<span id="cb9-13"><a href="#cb9-13" aria-hidden="true" tabindex="-1"></a>  bslib<span class="sc">::</span><span class="fu">layout_sidebar</span>(</span>
<span id="cb9-14"><a href="#cb9-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">sidebar =</span> bslib<span class="sc">::</span><span class="fu">sidebar</span>(</span>
<span id="cb9-15"><a href="#cb9-15" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="cb9-16"><a href="#cb9-16" aria-hidden="true" tabindex="-1"></a>      <span class="co"># Listado de Albums</span></span>
<span id="cb9-17"><a href="#cb9-17" aria-hidden="true" tabindex="-1"></a>      shiny<span class="sc">::</span><span class="fu">checkboxGroupInput</span>(</span>
<span id="cb9-18"><a href="#cb9-18" aria-hidden="true" tabindex="-1"></a>        <span class="at">inputId =</span> <span class="st">"album"</span>, <span class="co"># ID del widget</span></span>
<span id="cb9-19"><a href="#cb9-19" aria-hidden="true" tabindex="-1"></a>        <span class="at">label =</span> <span class="st">"Álbums a incluir"</span>, <span class="co"># Título a mostrar en la app</span></span>
<span id="cb9-20"><a href="#cb9-20" aria-hidden="true" tabindex="-1"></a>        <span class="at">choices =</span> <span class="fu">sort</span>(<span class="fu">unique</span>(datos<span class="sc">$</span>album)), <span class="co"># Opciones disponibles</span></span>
<span id="cb9-21"><a href="#cb9-21" aria-hidden="true" tabindex="-1"></a>        <span class="at">selected =</span> <span class="fu">sort</span>(<span class="fu">unique</span>(datos<span class="sc">$</span>album))[<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>] <span class="co"># Opciones seleccionadas al inicio</span></span>
<span id="cb9-22"><a href="#cb9-22" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="cb9-23"><a href="#cb9-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-24"><a href="#cb9-24" aria-hidden="true" tabindex="-1"></a>      <span class="co"># Componente Eje X</span></span>
<span id="cb9-25"><a href="#cb9-25" aria-hidden="true" tabindex="-1"></a>      shiny<span class="sc">::</span><span class="fu">numericInput</span>(</span>
<span id="cb9-26"><a href="#cb9-26" aria-hidden="true" tabindex="-1"></a>        <span class="at">inputId =</span> <span class="st">"ejex"</span>, <span class="co"># ID del widget</span></span>
<span id="cb9-27"><a href="#cb9-27" aria-hidden="true" tabindex="-1"></a>        <span class="at">label =</span> <span class="st">"CP Eje X"</span>, <span class="co"># Título a mostrar en la app</span></span>
<span id="cb9-28"><a href="#cb9-28" aria-hidden="true" tabindex="-1"></a>        <span class="at">value =</span> <span class="dv">1</span>, <span class="co"># Valor seleccionado inicialmente</span></span>
<span id="cb9-29"><a href="#cb9-29" aria-hidden="true" tabindex="-1"></a>        <span class="at">min =</span> <span class="dv">1</span>, <span class="co"># Mínimo valor posible</span></span>
<span id="cb9-30"><a href="#cb9-30" aria-hidden="true" tabindex="-1"></a>        <span class="at">max =</span> <span class="dv">11</span> <span class="co"># Máximo valor posible</span></span>
<span id="cb9-31"><a href="#cb9-31" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="cb9-32"><a href="#cb9-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-33"><a href="#cb9-33" aria-hidden="true" tabindex="-1"></a>      <span class="co"># Componente Eje Y</span></span>
<span id="cb9-34"><a href="#cb9-34" aria-hidden="true" tabindex="-1"></a>      shiny<span class="sc">::</span><span class="fu">numericInput</span>(</span>
<span id="cb9-35"><a href="#cb9-35" aria-hidden="true" tabindex="-1"></a>        <span class="at">inputId =</span> <span class="st">"ejey"</span>, <span class="co"># ID del widget</span></span>
<span id="cb9-36"><a href="#cb9-36" aria-hidden="true" tabindex="-1"></a>        <span class="at">label =</span> <span class="st">"CP Eje Y"</span>, <span class="co"># Título a mostrar en la app</span></span>
<span id="cb9-37"><a href="#cb9-37" aria-hidden="true" tabindex="-1"></a>        <span class="at">value =</span> <span class="dv">2</span>, <span class="co"># Valor seleccionado inicialmente</span></span>
<span id="cb9-38"><a href="#cb9-38" aria-hidden="true" tabindex="-1"></a>        <span class="at">min =</span> <span class="dv">1</span>, <span class="co"># Mínimo valor posible</span></span>
<span id="cb9-39"><a href="#cb9-39" aria-hidden="true" tabindex="-1"></a>        <span class="at">max =</span> <span class="dv">11</span> <span class="co"># Máximo valor posible</span></span>
<span id="cb9-40"><a href="#cb9-40" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="cb9-41"><a href="#cb9-41" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="cb9-42"><a href="#cb9-42" aria-hidden="true" tabindex="-1"></a>    ), </span>
<span id="cb9-43"><a href="#cb9-43" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb9-44"><a href="#cb9-44" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Usamos bslib::card() para evitar superposición de las tablas</span></span>
<span id="cb9-45"><a href="#cb9-45" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Esto parece ser comportamiento inesperado de DT::DTOutput</span></span>
<span id="cb9-46"><a href="#cb9-46" aria-hidden="true" tabindex="-1"></a>    bslib<span class="sc">::</span><span class="fu">card</span>(DT<span class="sc">::</span><span class="fu">DTOutput</span>(<span class="st">"tabla_cargas"</span>), <span class="at">height =</span> <span class="st">"620px"</span>), </span>
<span id="cb9-47"><a href="#cb9-47" aria-hidden="true" tabindex="-1"></a>    reactable<span class="sc">::</span><span class="fu">reactableOutput</span>(<span class="st">"tabla_pjevar"</span>),</span>
<span id="cb9-48"><a href="#cb9-48" aria-hidden="true" tabindex="-1"></a>    plotly<span class="sc">::</span><span class="fu">plotlyOutput</span>(<span class="st">"plot_scree"</span>),</span>
<span id="cb9-49"><a href="#cb9-49" aria-hidden="true" tabindex="-1"></a>    plotly<span class="sc">::</span><span class="fu">plotlyOutput</span>(<span class="st">"plot_indiv"</span>)</span>
<span id="cb9-50"><a href="#cb9-50" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-51"><a href="#cb9-51" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb9-52"><a href="#cb9-52" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb9-53"><a href="#cb9-53" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-54"><a href="#cb9-54" aria-hidden="true" tabindex="-1"></a><span class="co"># Servidor</span></span>
<span id="cb9-55"><a href="#cb9-55" aria-hidden="true" tabindex="-1"></a>MiServidor <span class="ot">&lt;-</span> <span class="cf">function</span>(input, output) {</span>
<span id="cb9-56"><a href="#cb9-56" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb9-57"><a href="#cb9-57" aria-hidden="true" tabindex="-1"></a>  output<span class="sc">$</span>tabla_cargas <span class="ot">&lt;-</span> DT<span class="sc">::</span><span class="fu">renderDT</span>({</span>
<span id="cb9-58"><a href="#cb9-58" aria-hidden="true" tabindex="-1"></a>    cp<span class="sc">$</span>var<span class="sc">$</span>coord <span class="sc">|&gt;</span> </span>
<span id="cb9-59"><a href="#cb9-59" aria-hidden="true" tabindex="-1"></a>      DT<span class="sc">::</span><span class="fu">datatable</span>(<span class="at">options =</span> <span class="fu">list</span>(<span class="at">pageLength =</span> <span class="dv">11</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb9-60"><a href="#cb9-60" aria-hidden="true" tabindex="-1"></a>      DT<span class="sc">::</span><span class="fu">formatRound</span>(<span class="at">columns =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">11</span>, <span class="at">digits =</span> <span class="dv">4</span>)</span>
<span id="cb9-61"><a href="#cb9-61" aria-hidden="true" tabindex="-1"></a>  })</span>
<span id="cb9-62"><a href="#cb9-62" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb9-63"><a href="#cb9-63" aria-hidden="true" tabindex="-1"></a>  output<span class="sc">$</span>tabla_pjevar <span class="ot">&lt;-</span> reactable<span class="sc">::</span><span class="fu">renderReactable</span>({</span>
<span id="cb9-64"><a href="#cb9-64" aria-hidden="true" tabindex="-1"></a>    cp<span class="sc">$</span>eig <span class="sc">|&gt;</span> </span>
<span id="cb9-65"><a href="#cb9-65" aria-hidden="true" tabindex="-1"></a>      reactable<span class="sc">::</span><span class="fu">reactable</span>(</span>
<span id="cb9-66"><a href="#cb9-66" aria-hidden="true" tabindex="-1"></a>        <span class="at">pagination =</span> <span class="cn">FALSE</span>,</span>
<span id="cb9-67"><a href="#cb9-67" aria-hidden="true" tabindex="-1"></a>        <span class="at">defaultColDef =</span> reactable<span class="sc">::</span><span class="fu">colDef</span>(</span>
<span id="cb9-68"><a href="#cb9-68" aria-hidden="true" tabindex="-1"></a>          <span class="at">format =</span> reactable<span class="sc">::</span><span class="fu">colFormat</span>(<span class="at">digits =</span> <span class="dv">4</span>)</span>
<span id="cb9-69"><a href="#cb9-69" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb9-70"><a href="#cb9-70" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="cb9-71"><a href="#cb9-71" aria-hidden="true" tabindex="-1"></a>  })</span>
<span id="cb9-72"><a href="#cb9-72" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb9-73"><a href="#cb9-73" aria-hidden="true" tabindex="-1"></a>  output<span class="sc">$</span>plot_scree <span class="ot">&lt;-</span> plotly<span class="sc">::</span><span class="fu">renderPlotly</span>({</span>
<span id="cb9-74"><a href="#cb9-74" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb9-75"><a href="#cb9-75" aria-hidden="true" tabindex="-1"></a>    gg_scree <span class="ot">&lt;-</span> tibble<span class="sc">::</span><span class="fu">tibble</span>(<span class="at">CP =</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(cp<span class="sc">$</span>eig),</span>
<span id="cb9-76"><a href="#cb9-76" aria-hidden="true" tabindex="-1"></a>                               <span class="at">PVE =</span> cp<span class="sc">$</span>eig[,<span class="dv">2</span>]) <span class="sc">|&gt;</span> </span>
<span id="cb9-77"><a href="#cb9-77" aria-hidden="true" tabindex="-1"></a>      ggplot2<span class="sc">::</span><span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb9-78"><a href="#cb9-78" aria-hidden="true" tabindex="-1"></a>      ggplot2<span class="sc">::</span><span class="fu">aes</span>(<span class="at">x =</span> CP, <span class="at">y =</span> PVE) <span class="sc">+</span></span>
<span id="cb9-79"><a href="#cb9-79" aria-hidden="true" tabindex="-1"></a>      ggplot2<span class="sc">::</span><span class="fu">geom_line</span>(<span class="at">linewidth =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb9-80"><a href="#cb9-80" aria-hidden="true" tabindex="-1"></a>      ggplot2<span class="sc">::</span><span class="fu">geom_point</span>(<span class="at">size =</span> <span class="dv">3</span>, <span class="at">color =</span> <span class="st">"red"</span>) <span class="sc">+</span></span>
<span id="cb9-81"><a href="#cb9-81" aria-hidden="true" tabindex="-1"></a>      ggplot2<span class="sc">::</span><span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(cp<span class="sc">$</span>eig)) <span class="sc">+</span></span>
<span id="cb9-82"><a href="#cb9-82" aria-hidden="true" tabindex="-1"></a>      ggplot2<span class="sc">::</span><span class="fu">scale_y_continuous</span>(<span class="at">name =</span> <span class="st">"% Variancia Explicada"</span>) <span class="sc">+</span></span>
<span id="cb9-83"><a href="#cb9-83" aria-hidden="true" tabindex="-1"></a>      ggplot2<span class="sc">::</span><span class="fu">ggtitle</span>(<span class="st">"Scree Plot"</span>) <span class="sc">+</span></span>
<span id="cb9-84"><a href="#cb9-84" aria-hidden="true" tabindex="-1"></a>      ggplot2<span class="sc">::</span><span class="fu">theme_bw</span>()</span>
<span id="cb9-85"><a href="#cb9-85" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb9-86"><a href="#cb9-86" aria-hidden="true" tabindex="-1"></a>    plotly<span class="sc">::</span><span class="fu">ggplotly</span>(gg_scree)</span>
<span id="cb9-87"><a href="#cb9-87" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb9-88"><a href="#cb9-88" aria-hidden="true" tabindex="-1"></a>  })</span>
<span id="cb9-89"><a href="#cb9-89" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb9-90"><a href="#cb9-90" aria-hidden="true" tabindex="-1"></a>  output<span class="sc">$</span>plot_indiv <span class="ot">&lt;-</span> plotly<span class="sc">::</span><span class="fu">renderPlotly</span>({</span>
<span id="cb9-91"><a href="#cb9-91" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb9-92"><a href="#cb9-92" aria-hidden="true" tabindex="-1"></a>    individuos <span class="ot">&lt;-</span> cp<span class="sc">$</span>ind<span class="sc">$</span>coord <span class="sc">|&gt;</span> </span>
<span id="cb9-93"><a href="#cb9-93" aria-hidden="true" tabindex="-1"></a>      dplyr<span class="sc">::</span><span class="fu">bind_cols</span>(datos) <span class="sc">|&gt;</span> </span>
<span id="cb9-94"><a href="#cb9-94" aria-hidden="true" tabindex="-1"></a>      dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">name =</span> stringr<span class="sc">::</span><span class="fu">str_wrap</span>(name, <span class="dv">25</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb9-95"><a href="#cb9-95" aria-hidden="true" tabindex="-1"></a>      ggplot2<span class="sc">::</span><span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb9-96"><a href="#cb9-96" aria-hidden="true" tabindex="-1"></a>      ggplot2<span class="sc">::</span><span class="fu">aes</span>(<span class="at">x =</span> Dim<span class="fl">.1</span>, <span class="at">y =</span> Dim<span class="fl">.2</span>, <span class="at">color =</span> album, <span class="at">label =</span> name) <span class="sc">+</span></span>
<span id="cb9-97"><a href="#cb9-97" aria-hidden="true" tabindex="-1"></a>      ggplot2<span class="sc">::</span><span class="fu">geom_hline</span>(<span class="at">yintercept =</span> <span class="dv">0</span>, <span class="at">linewidth =</span> <span class="fl">0.1</span>) <span class="sc">+</span></span>
<span id="cb9-98"><a href="#cb9-98" aria-hidden="true" tabindex="-1"></a>      ggplot2<span class="sc">::</span><span class="fu">geom_vline</span>(<span class="at">xintercept =</span> <span class="dv">0</span>, <span class="at">linewidth =</span> <span class="fl">0.1</span>) <span class="sc">+</span></span>
<span id="cb9-99"><a href="#cb9-99" aria-hidden="true" tabindex="-1"></a>      ggplot2<span class="sc">::</span><span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="dv">0</span>) <span class="sc">+</span></span>
<span id="cb9-100"><a href="#cb9-100" aria-hidden="true" tabindex="-1"></a>      ggplot2<span class="sc">::</span><span class="fu">geom_text</span>(<span class="at">size =</span> <span class="dv">2</span>, <span class="at">show.legend =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb9-101"><a href="#cb9-101" aria-hidden="true" tabindex="-1"></a>      ggplot2<span class="sc">::</span><span class="fu">ggtitle</span>(<span class="st">"Gráfico de los individuos en las CP seleccionadas"</span>) <span class="sc">+</span></span>
<span id="cb9-102"><a href="#cb9-102" aria-hidden="true" tabindex="-1"></a>      ggplot2<span class="sc">::</span><span class="fu">theme_bw</span>()</span>
<span id="cb9-103"><a href="#cb9-103" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-104"><a href="#cb9-104" aria-hidden="true" tabindex="-1"></a>    plotly<span class="sc">::</span><span class="fu">ggplotly</span>(individuos)</span>
<span id="cb9-105"><a href="#cb9-105" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-106"><a href="#cb9-106" aria-hidden="true" tabindex="-1"></a>  })</span>
<span id="cb9-107"><a href="#cb9-107" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb9-108"><a href="#cb9-108" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb9-109"><a href="#cb9-109" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-110"><a href="#cb9-110" aria-hidden="true" tabindex="-1"></a><span class="co"># Lanzamiento de la app</span></span>
<span id="cb9-111"><a href="#cb9-111" aria-hidden="true" tabindex="-1"></a>shiny<span class="sc">::</span><span class="fu">shinyApp</span>(<span class="at">ui =</span> MiInterfaz, <span class="at">server =</span> MiServidor)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="paso-vi-reactividad" class="level2">
<h2 class="anchored" data-anchor-id="paso-vi-reactividad">Paso VI: Reactividad</h2>
<ul>
<li><p>Cada uno de los <em>widgets</em> comunica al <em>server</em> el valor seleccionado por el usuario a través de la lista <code>input</code>. Para acceder al valor definido por un usuario para un determinado <em>widget</em> usamos el <strong>input ID</strong>. En este caso, <code>input$album</code> nos permite acceder a los albumes seleccionados mientras que <code>input$ejex</code> e <code>input$ejey</code> nos permiten acceder al valor seleccionado para cada eje.</p></li>
<li><p>En esta sección utilizaremos <code>input$album</code> para filtrar el conjunto de datos original de acuerdo a los albumes seleccionados por el usuario, obtendremos las CP a partir de la base filtrada y luego armaremos el gráfico según los valores de <code>input$ejex</code> e <code>input$ejey</code>.</p></li>
<li><p>La base filtrada debe ser un <strong>elemento reactivo</strong>, es decir, un objeto de R cuyo valor no sea fijo, sino que se actualice de acuerdo a las opciones que seleccionemos en pantalla. Esto se logra mediante la función <code>shiny::reactive()</code>. Dentro de nuestra función servidor podemos incluir el siguiente código:</p></li>
</ul>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>base_filtrada <span class="ot">&lt;-</span> shiny<span class="sc">::</span><span class="fu">reactive</span>({</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(datos, album <span class="sc">%in%</span> input<span class="sc">$</span>album)</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>})</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li><p><strong>Importante:</strong> cuando estamos utilizando elementos reactivos debemos llamarlos agregando un par de paréntesis al final de su nombre, por ejemplo, <code>base_filtrada()</code> en vez de <code>base_filtrada</code>.</p></li>
<li><p>El elemento reactivo definido arriba permite R <strong>actualice su valor</strong> a medida que el usuario de la app elige diferentes albumes. La lógica es simple: si definimos <code>base_filtrada &lt;- dplyr::filter(datos, album %in% c("Innuendo", "Jazz"))</code>, luego la app usará siempre las canciones que pertenecen a los albumes <code>Innuendo</code> y <code>Jazz</code>; si definimos <code>base_filtrada &lt;- shiny::reactive({dplyr::filter(datos, album %in% input$album)})</code>, el valor cambiará siempre que el usuario modifique manualmente el input asociado.</p></li>
<li><p>Dado que <strong>los objetos de R que dependen de valores reactivos también son reactivos</strong>, el objeto donde guardamos el resultado del ACP también es reactivo (depende de la base de datos, que a su vez depende de los discos elegidos). Todos estos detalles requieren que modifiquemos el código original. Por ejemplo, lo que antes era:</p></li>
</ul>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>cp <span class="ot">&lt;-</span> FactoMineR<span class="sc">::</span><span class="fu">PCA</span>(</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">X =</span> dplyr<span class="sc">::</span><span class="fu">select</span>(datos, dplyr<span class="sc">::</span><span class="fu">where</span>(is.numeric)), </span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">ncp =</span> <span class="dv">11</span>, </span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">graph =</span> <span class="cn">FALSE</span> </span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>ahora se convierte en:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>cp <span class="ot">&lt;-</span> shiny<span class="sc">::</span><span class="fu">reactive</span>({</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>  FactoMineR<span class="sc">::</span><span class="fu">PCA</span>(</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">X =</span> dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="fu">base_filtrada</span>(), dplyr<span class="sc">::</span><span class="fu">where</span>(is.numeric)), </span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">ncp =</span> <span class="dv">11</span>, </span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">graph =</span> <span class="cn">FALSE</span> </span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a>})</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="alert alert-warning">
<p><strong>Aclaración:</strong> el concepto de <em>reactividad</em> es un tema complejo que requiere de cierto tiempo para ser comprendido plenamente. Si bien la reactividad es un elemento fundamental de cualquier aplicación Shiny, por una cuestión de tiempo disponible no profundizaremos demasiado en este tópico. Aquellas personas interesadas en aprender más sobre el tema pueden consultar el capítulo <strong>“Mastering reactivity”</strong> del ya mencionado libro <strong>Mastering Shiny</strong>.</p>
</div>
</section>
<section id="paso-vii-ejecución" class="level2">
<h2 class="anchored" data-anchor-id="paso-vii-ejecución">Paso VII: Ejecución</h2>
<ul>
<li>¡Llegamos al último paso! Una vez que ya tenemos listas la interfaz y el servidor, sólo falta agregar la sentencia que permite ejecutar la aplicación:</li>
</ul>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>shiny<span class="sc">::</span><span class="fu">shinyApp</span>(<span class="at">ui =</span> MiInterfaz, <span class="at">server =</span> MiServidor)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li><p>Esta línea de código debe figurar siempre dentro del archivo <em>app.R</em>, respetando los nombres asignados a la interfaz y al server.</p></li>
<li><p>Existen 3 maneras diferentes de lanzar la aplicación:</p>
<ol type="1">
<li><p>Apretar el botón <strong>Run App</strong> en la barra de herramientas de RStudio, donde podemos elegir si queremos ejecutarla dentro de RStudio o en un navegador externo.</p></li>
<li><p>Entrar a <code>app.R</code>, seleccionar todo el código y ejecutarlo.</p></li>
<li><p>Usar la función <code>shiny::runApp()</code> en la consola de RStudio, eligiendo la ruta donde está ubicado el directorio que contiene la app, por ejemplo <code>runApp("C:/Mis Documentos/MiApp")</code>.</p></li>
</ol></li>
</ul>
<p>
</p>
<ul>
<li>Uniendo el código presentado en cada paso, llegamos a este resultado final:</li>
</ul>
<div class="cell" data-layout-align="center">
<details class="code-fold">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Datos</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>datos <span class="ot">&lt;-</span> readr<span class="sc">::</span><span class="fu">read_delim</span>(<span class="st">"queen.txt"</span>, <span class="at">delim =</span> <span class="st">"</span><span class="sc">\t</span><span class="st">"</span>)</span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a><span class="co"># User Interface</span></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>MiInterfaz <span class="ot">&lt;-</span> bslib<span class="sc">::</span><span class="fu">page_fluid</span>(</span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>  shiny<span class="sc">::</span><span class="fu">titlePanel</span>(<span class="st">"Mi Primera Shiny App - ACP sobre Canciones de Queen"</span>), </span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a>  bslib<span class="sc">::</span><span class="fu">layout_sidebar</span>( </span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">sidebar =</span> bslib<span class="sc">::</span><span class="fu">sidebar</span>(</span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="cb14-10"><a href="#cb14-10" aria-hidden="true" tabindex="-1"></a>      <span class="co"># Listado de Albums</span></span>
<span id="cb14-11"><a href="#cb14-11" aria-hidden="true" tabindex="-1"></a>      shiny<span class="sc">::</span><span class="fu">checkboxGroupInput</span>(</span>
<span id="cb14-12"><a href="#cb14-12" aria-hidden="true" tabindex="-1"></a>        <span class="at">inputId =</span> <span class="st">"album"</span>, <span class="co"># ID del widget</span></span>
<span id="cb14-13"><a href="#cb14-13" aria-hidden="true" tabindex="-1"></a>        <span class="at">label =</span> <span class="st">"Álbums a incluir"</span>, <span class="co"># Título a mostrar en la app</span></span>
<span id="cb14-14"><a href="#cb14-14" aria-hidden="true" tabindex="-1"></a>        <span class="at">choices =</span> <span class="fu">sort</span>(<span class="fu">unique</span>(datos<span class="sc">$</span>album)), <span class="co"># Opciones disponibles</span></span>
<span id="cb14-15"><a href="#cb14-15" aria-hidden="true" tabindex="-1"></a>        <span class="at">selected =</span> <span class="fu">sort</span>(<span class="fu">unique</span>(datos<span class="sc">$</span>album))[<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>] <span class="co"># Opciones seleccionadas al inicio</span></span>
<span id="cb14-16"><a href="#cb14-16" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="cb14-17"><a href="#cb14-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-18"><a href="#cb14-18" aria-hidden="true" tabindex="-1"></a>      <span class="co"># Componente Eje X</span></span>
<span id="cb14-19"><a href="#cb14-19" aria-hidden="true" tabindex="-1"></a>      shiny<span class="sc">::</span><span class="fu">numericInput</span>(</span>
<span id="cb14-20"><a href="#cb14-20" aria-hidden="true" tabindex="-1"></a>        <span class="at">inputId =</span> <span class="st">"ejex"</span>, <span class="co"># ID del widget</span></span>
<span id="cb14-21"><a href="#cb14-21" aria-hidden="true" tabindex="-1"></a>        <span class="at">label =</span> <span class="st">"CP Eje X"</span>, <span class="co"># Título a mostrar en la app</span></span>
<span id="cb14-22"><a href="#cb14-22" aria-hidden="true" tabindex="-1"></a>        <span class="at">value =</span> <span class="dv">1</span>, <span class="co"># Valor seleccionado inicialmente</span></span>
<span id="cb14-23"><a href="#cb14-23" aria-hidden="true" tabindex="-1"></a>        <span class="at">min =</span> <span class="dv">1</span>, <span class="co"># Mínimo valor posible</span></span>
<span id="cb14-24"><a href="#cb14-24" aria-hidden="true" tabindex="-1"></a>        <span class="at">max =</span> <span class="dv">11</span> <span class="co"># Máximo valor posible</span></span>
<span id="cb14-25"><a href="#cb14-25" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="cb14-26"><a href="#cb14-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-27"><a href="#cb14-27" aria-hidden="true" tabindex="-1"></a>      <span class="co"># Componente Eje Y</span></span>
<span id="cb14-28"><a href="#cb14-28" aria-hidden="true" tabindex="-1"></a>      shiny<span class="sc">::</span><span class="fu">numericInput</span>(</span>
<span id="cb14-29"><a href="#cb14-29" aria-hidden="true" tabindex="-1"></a>        <span class="at">inputId =</span> <span class="st">"ejey"</span>, <span class="co"># ID del widget</span></span>
<span id="cb14-30"><a href="#cb14-30" aria-hidden="true" tabindex="-1"></a>        <span class="at">label =</span> <span class="st">"CP Eje Y"</span>, <span class="co"># Título a mostrar en la app</span></span>
<span id="cb14-31"><a href="#cb14-31" aria-hidden="true" tabindex="-1"></a>        <span class="at">value =</span> <span class="dv">2</span>, <span class="co"># Valor seleccionado inicialmente</span></span>
<span id="cb14-32"><a href="#cb14-32" aria-hidden="true" tabindex="-1"></a>        <span class="at">min =</span> <span class="dv">1</span>, <span class="co"># Mínimo valor posible</span></span>
<span id="cb14-33"><a href="#cb14-33" aria-hidden="true" tabindex="-1"></a>        <span class="at">max =</span> <span class="dv">11</span> <span class="co"># Máximo valor posible</span></span>
<span id="cb14-34"><a href="#cb14-34" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="cb14-35"><a href="#cb14-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-36"><a href="#cb14-36" aria-hidden="true" tabindex="-1"></a>    ), </span>
<span id="cb14-37"><a href="#cb14-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-38"><a href="#cb14-38" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Usamos bslib::card() para evitar superposición de las tablas</span></span>
<span id="cb14-39"><a href="#cb14-39" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Esto parece ser comportamiento inesperado de DT::DTOutput</span></span>
<span id="cb14-40"><a href="#cb14-40" aria-hidden="true" tabindex="-1"></a>    bslib<span class="sc">::</span><span class="fu">card</span>(DT<span class="sc">::</span><span class="fu">DTOutput</span>(<span class="st">"tabla_cargas"</span>), <span class="at">height =</span> <span class="st">"620px"</span>), </span>
<span id="cb14-41"><a href="#cb14-41" aria-hidden="true" tabindex="-1"></a>    reactable<span class="sc">::</span><span class="fu">reactableOutput</span>(<span class="st">"tabla_pjevar"</span>),</span>
<span id="cb14-42"><a href="#cb14-42" aria-hidden="true" tabindex="-1"></a>    plotly<span class="sc">::</span><span class="fu">plotlyOutput</span>(<span class="st">"plot_scree"</span>),</span>
<span id="cb14-43"><a href="#cb14-43" aria-hidden="true" tabindex="-1"></a>    plotly<span class="sc">::</span><span class="fu">plotlyOutput</span>(<span class="st">"plot_indiv"</span>)</span>
<span id="cb14-44"><a href="#cb14-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-45"><a href="#cb14-45" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb14-46"><a href="#cb14-46" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb14-47"><a href="#cb14-47" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-48"><a href="#cb14-48" aria-hidden="true" tabindex="-1"></a><span class="co">#Servidor</span></span>
<span id="cb14-49"><a href="#cb14-49" aria-hidden="true" tabindex="-1"></a>MiServidor <span class="ot">&lt;-</span> <span class="cf">function</span>(input, output) {</span>
<span id="cb14-50"><a href="#cb14-50" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb14-51"><a href="#cb14-51" aria-hidden="true" tabindex="-1"></a>  base_filtrada <span class="ot">&lt;-</span> shiny<span class="sc">::</span><span class="fu">reactive</span>({</span>
<span id="cb14-52"><a href="#cb14-52" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">filter</span>(datos, album <span class="sc">%in%</span> input<span class="sc">$</span>album)</span>
<span id="cb14-53"><a href="#cb14-53" aria-hidden="true" tabindex="-1"></a>  })</span>
<span id="cb14-54"><a href="#cb14-54" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb14-55"><a href="#cb14-55" aria-hidden="true" tabindex="-1"></a>  cp <span class="ot">&lt;-</span> shiny<span class="sc">::</span><span class="fu">reactive</span>({</span>
<span id="cb14-56"><a href="#cb14-56" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb14-57"><a href="#cb14-57" aria-hidden="true" tabindex="-1"></a>    FactoMineR<span class="sc">::</span><span class="fu">PCA</span>(</span>
<span id="cb14-58"><a href="#cb14-58" aria-hidden="true" tabindex="-1"></a>      <span class="co"># matriz de datos: elegimos variables numericas</span></span>
<span id="cb14-59"><a href="#cb14-59" aria-hidden="true" tabindex="-1"></a>      <span class="at">X =</span> dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="fu">base_filtrada</span>(), dplyr<span class="sc">::</span><span class="fu">where</span>(is.numeric)), </span>
<span id="cb14-60"><a href="#cb14-60" aria-hidden="true" tabindex="-1"></a>      <span class="at">ncp =</span> <span class="dv">11</span>, <span class="co"># cantidad de componentes a almacenar</span></span>
<span id="cb14-61"><a href="#cb14-61" aria-hidden="true" tabindex="-1"></a>      <span class="at">graph =</span> <span class="cn">FALSE</span> <span class="co"># no mostrar los graficos</span></span>
<span id="cb14-62"><a href="#cb14-62" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb14-63"><a href="#cb14-63" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb14-64"><a href="#cb14-64" aria-hidden="true" tabindex="-1"></a>  })</span>
<span id="cb14-65"><a href="#cb14-65" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb14-66"><a href="#cb14-66" aria-hidden="true" tabindex="-1"></a>  output<span class="sc">$</span>tabla_cargas <span class="ot">&lt;-</span> DT<span class="sc">::</span><span class="fu">renderDT</span>({</span>
<span id="cb14-67"><a href="#cb14-67" aria-hidden="true" tabindex="-1"></a>    <span class="fu">cp</span>()<span class="sc">$</span>var<span class="sc">$</span>coord <span class="sc">|&gt;</span> </span>
<span id="cb14-68"><a href="#cb14-68" aria-hidden="true" tabindex="-1"></a>      DT<span class="sc">::</span><span class="fu">datatable</span>(<span class="at">options =</span> <span class="fu">list</span>(<span class="at">pageLength =</span> <span class="dv">11</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb14-69"><a href="#cb14-69" aria-hidden="true" tabindex="-1"></a>      DT<span class="sc">::</span><span class="fu">formatRound</span>(<span class="at">columns =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">11</span>, <span class="at">digits =</span> <span class="dv">4</span>)</span>
<span id="cb14-70"><a href="#cb14-70" aria-hidden="true" tabindex="-1"></a>  })</span>
<span id="cb14-71"><a href="#cb14-71" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb14-72"><a href="#cb14-72" aria-hidden="true" tabindex="-1"></a>  output<span class="sc">$</span>tabla_pjevar <span class="ot">&lt;-</span> reactable<span class="sc">::</span><span class="fu">renderReactable</span>({</span>
<span id="cb14-73"><a href="#cb14-73" aria-hidden="true" tabindex="-1"></a>    <span class="fu">cp</span>()<span class="sc">$</span>eig <span class="sc">|&gt;</span> </span>
<span id="cb14-74"><a href="#cb14-74" aria-hidden="true" tabindex="-1"></a>      reactable<span class="sc">::</span><span class="fu">reactable</span>(</span>
<span id="cb14-75"><a href="#cb14-75" aria-hidden="true" tabindex="-1"></a>        <span class="at">pagination =</span> <span class="cn">FALSE</span>,</span>
<span id="cb14-76"><a href="#cb14-76" aria-hidden="true" tabindex="-1"></a>        <span class="at">defaultColDef =</span> reactable<span class="sc">::</span><span class="fu">colDef</span>(</span>
<span id="cb14-77"><a href="#cb14-77" aria-hidden="true" tabindex="-1"></a>          <span class="at">format =</span> reactable<span class="sc">::</span><span class="fu">colFormat</span>(<span class="at">digits =</span> <span class="dv">4</span>)</span>
<span id="cb14-78"><a href="#cb14-78" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb14-79"><a href="#cb14-79" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="cb14-80"><a href="#cb14-80" aria-hidden="true" tabindex="-1"></a>  })</span>
<span id="cb14-81"><a href="#cb14-81" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb14-82"><a href="#cb14-82" aria-hidden="true" tabindex="-1"></a>  output<span class="sc">$</span>plot_scree <span class="ot">&lt;-</span> plotly<span class="sc">::</span><span class="fu">renderPlotly</span>({</span>
<span id="cb14-83"><a href="#cb14-83" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb14-84"><a href="#cb14-84" aria-hidden="true" tabindex="-1"></a>    gg_scree <span class="ot">&lt;-</span> tibble<span class="sc">::</span><span class="fu">tibble</span>(<span class="at">CP =</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(<span class="fu">cp</span>()<span class="sc">$</span>eig),</span>
<span id="cb14-85"><a href="#cb14-85" aria-hidden="true" tabindex="-1"></a>                               <span class="at">PVE =</span> <span class="fu">cp</span>()<span class="sc">$</span>eig[,<span class="dv">2</span>]) <span class="sc">|&gt;</span> </span>
<span id="cb14-86"><a href="#cb14-86" aria-hidden="true" tabindex="-1"></a>      ggplot2<span class="sc">::</span><span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb14-87"><a href="#cb14-87" aria-hidden="true" tabindex="-1"></a>      ggplot2<span class="sc">::</span><span class="fu">aes</span>(<span class="at">x =</span> CP, <span class="at">y =</span> PVE) <span class="sc">+</span></span>
<span id="cb14-88"><a href="#cb14-88" aria-hidden="true" tabindex="-1"></a>      ggplot2<span class="sc">::</span><span class="fu">geom_line</span>(<span class="at">linewidth =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb14-89"><a href="#cb14-89" aria-hidden="true" tabindex="-1"></a>      ggplot2<span class="sc">::</span><span class="fu">geom_point</span>(<span class="at">size =</span> <span class="dv">3</span>, <span class="at">color =</span> <span class="st">"red"</span>) <span class="sc">+</span></span>
<span id="cb14-90"><a href="#cb14-90" aria-hidden="true" tabindex="-1"></a>      ggplot2<span class="sc">::</span><span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(<span class="fu">cp</span>()<span class="sc">$</span>eig)) <span class="sc">+</span></span>
<span id="cb14-91"><a href="#cb14-91" aria-hidden="true" tabindex="-1"></a>      ggplot2<span class="sc">::</span><span class="fu">scale_y_continuous</span>(<span class="at">name =</span> <span class="st">"% Variancia Explicada"</span>) <span class="sc">+</span></span>
<span id="cb14-92"><a href="#cb14-92" aria-hidden="true" tabindex="-1"></a>      ggplot2<span class="sc">::</span><span class="fu">ggtitle</span>(<span class="st">"Scree Plot"</span>) <span class="sc">+</span></span>
<span id="cb14-93"><a href="#cb14-93" aria-hidden="true" tabindex="-1"></a>      ggplot2<span class="sc">::</span><span class="fu">theme_bw</span>()</span>
<span id="cb14-94"><a href="#cb14-94" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb14-95"><a href="#cb14-95" aria-hidden="true" tabindex="-1"></a>    plotly<span class="sc">::</span><span class="fu">ggplotly</span>(gg_scree)</span>
<span id="cb14-96"><a href="#cb14-96" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb14-97"><a href="#cb14-97" aria-hidden="true" tabindex="-1"></a>  })</span>
<span id="cb14-98"><a href="#cb14-98" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb14-99"><a href="#cb14-99" aria-hidden="true" tabindex="-1"></a>  output<span class="sc">$</span>plot_indiv <span class="ot">&lt;-</span> plotly<span class="sc">::</span><span class="fu">renderPlotly</span>({</span>
<span id="cb14-100"><a href="#cb14-100" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb14-101"><a href="#cb14-101" aria-hidden="true" tabindex="-1"></a>    individuos <span class="ot">&lt;-</span> <span class="fu">cp</span>()<span class="sc">$</span>ind<span class="sc">$</span>coord <span class="sc">|&gt;</span> </span>
<span id="cb14-102"><a href="#cb14-102" aria-hidden="true" tabindex="-1"></a>      dplyr<span class="sc">::</span><span class="fu">bind_cols</span>(<span class="fu">base_filtrada</span>()) <span class="sc">|&gt;</span> </span>
<span id="cb14-103"><a href="#cb14-103" aria-hidden="true" tabindex="-1"></a>      dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">name =</span> stringr<span class="sc">::</span><span class="fu">str_wrap</span>(name, <span class="dv">25</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb14-104"><a href="#cb14-104" aria-hidden="true" tabindex="-1"></a>      dplyr<span class="sc">::</span><span class="fu">select</span>(album,</span>
<span id="cb14-105"><a href="#cb14-105" aria-hidden="true" tabindex="-1"></a>                    name, </span>
<span id="cb14-106"><a href="#cb14-106" aria-hidden="true" tabindex="-1"></a>                    <span class="at">x =</span> <span class="fu">paste0</span>(<span class="st">"Dim."</span>, input<span class="sc">$</span>ejex), </span>
<span id="cb14-107"><a href="#cb14-107" aria-hidden="true" tabindex="-1"></a>                    <span class="at">y =</span> <span class="fu">paste0</span>(<span class="st">"Dim."</span>, input<span class="sc">$</span>ejey)) <span class="sc">|&gt;</span> </span>
<span id="cb14-108"><a href="#cb14-108" aria-hidden="true" tabindex="-1"></a>      ggplot2<span class="sc">::</span><span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb14-109"><a href="#cb14-109" aria-hidden="true" tabindex="-1"></a>      ggplot2<span class="sc">::</span><span class="fu">aes</span>(<span class="at">x =</span> x, <span class="at">y =</span> y, <span class="at">color =</span> album, <span class="at">label =</span> name) <span class="sc">+</span></span>
<span id="cb14-110"><a href="#cb14-110" aria-hidden="true" tabindex="-1"></a>      ggplot2<span class="sc">::</span><span class="fu">geom_hline</span>(<span class="at">yintercept =</span> <span class="dv">0</span>, <span class="at">linewidth =</span> <span class="fl">0.1</span>) <span class="sc">+</span></span>
<span id="cb14-111"><a href="#cb14-111" aria-hidden="true" tabindex="-1"></a>      ggplot2<span class="sc">::</span><span class="fu">geom_vline</span>(<span class="at">xintercept =</span> <span class="dv">0</span>, <span class="at">linewidth =</span> <span class="fl">0.1</span>) <span class="sc">+</span></span>
<span id="cb14-112"><a href="#cb14-112" aria-hidden="true" tabindex="-1"></a>      ggplot2<span class="sc">::</span><span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="dv">0</span>) <span class="sc">+</span></span>
<span id="cb14-113"><a href="#cb14-113" aria-hidden="true" tabindex="-1"></a>      ggplot2<span class="sc">::</span><span class="fu">geom_text</span>(<span class="at">size =</span> <span class="dv">2</span>, <span class="at">show.legend =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb14-114"><a href="#cb14-114" aria-hidden="true" tabindex="-1"></a>      ggplot2<span class="sc">::</span><span class="fu">ggtitle</span>(<span class="st">"Gráfico de los individuos en las CP seleccionadas"</span>) <span class="sc">+</span></span>
<span id="cb14-115"><a href="#cb14-115" aria-hidden="true" tabindex="-1"></a>      ggplot2<span class="sc">::</span><span class="fu">labs</span>(<span class="at">x =</span> <span class="fu">paste0</span>(<span class="st">"CP"</span>, input<span class="sc">$</span>ejex), <span class="at">y =</span> <span class="fu">paste0</span>(<span class="st">"CP"</span>, input<span class="sc">$</span>ejey)) <span class="sc">+</span></span>
<span id="cb14-116"><a href="#cb14-116" aria-hidden="true" tabindex="-1"></a>      ggplot2<span class="sc">::</span><span class="fu">theme_bw</span>()</span>
<span id="cb14-117"><a href="#cb14-117" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-118"><a href="#cb14-118" aria-hidden="true" tabindex="-1"></a>    plotly<span class="sc">::</span><span class="fu">ggplotly</span>(individuos)</span>
<span id="cb14-119"><a href="#cb14-119" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-120"><a href="#cb14-120" aria-hidden="true" tabindex="-1"></a>  })</span>
<span id="cb14-121"><a href="#cb14-121" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb14-122"><a href="#cb14-122" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb14-123"><a href="#cb14-123" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-124"><a href="#cb14-124" aria-hidden="true" tabindex="-1"></a><span class="co"># Lanzamiento de la app</span></span>
<span id="cb14-125"><a href="#cb14-125" aria-hidden="true" tabindex="-1"></a>shiny<span class="sc">::</span><span class="fu">shinyApp</span>(<span class="at">ui =</span> MiInterfaz, <span class="at">server =</span> MiServidor)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<ul>
<li>Es interesante notar que se implementaron algunos cambios en el servidor, para adaptarnos a la reactividad definida en el paso anterior; prestemos especial atención al proceso de selección de componentes dentro del código del gráfico de individuos:</li>
</ul>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>dplyr<span class="sc">::</span><span class="fu">select</span>(</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>  album, </span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>  name, </span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">x =</span> <span class="fu">paste0</span>(<span class="st">"Dim."</span>, input<span class="sc">$</span>ejex), </span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">y =</span> <span class="fu">paste0</span>(<span class="st">"Dim."</span>, input<span class="sc">$</span>ejey)</span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Datos Importantes
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li><p>Si lanzamos la app desde RStudio, es necesario detenerla para poder seguir utilizando R. Esto se logra apretando el botón rojo “STOP” ubicado en el sector superior derecho de la consola.</p></li>
<li><p>En la versión final del código de la app, algunas sentencias se incorporan dentro de la función server y otras fuera de ella. La recomendación a seguir es <strong>incluir en el server sólo los outputs y aquellos objetos que sean reactivos (o que dependan de objetos reactivos)</strong>, y dejar fuera cualquier otro. Gracias a esto evitamos sobrecargar y/o enlentecer la app, ya que los objetos definidos fuera del server se evalúan una única vez, mientras que aquellos definidos dentro del server son re-evaluados constantemente.</p></li>
<li><p>Se recomienda crear un <strong>esquema</strong> que replique la estructura principal de la app, ya que esto ayuda a comprender mejor su funcionamiento. En nuestro caso, el esquema está compuesto por tres inputs (<em>album</em>, <em>ejex</em> y <em>ejey</em>) y cuatro outputs (<em>tabla_cargas</em>, <em>tabla_pjevar</em>, <em>plot_scree</em> y <em>plot_indiv</em>).</p></li>
</ul>
</div>
</div>
<ul>
<li><p>El orden de los pasos seguidos en este tutorial no es necesariamente fijo, y dependerá en gran medida de las características de la app que estemos desarrollando. Algunas apps simples quizás no necesiten reactividad, widgets o gráficos, mientras que aquellas apps más complejas seguramente requieran de un ida y vuelta retroalimentado entre los pasos 2 a 6, hasta que alcancemos el resultado deseado.</p></li>
<li><p>Una vez que hayamos adquirido cierta experiencia en la construcción de apps, resulta una buena idea construir en primer lugar la interfaz con sus widgets incluidos (pasos 2 y 5), para luego dedicarle tiempo al servidor y el contenido (pasos 3, 4 y 6). Obviamente esta es sólo una sugerencia, y el proceso de creación de una app debe responder a las necesidades y gustos de su respectivo/a autor/a.</p></li>
</ul>
</section>
<section id="trabajo-en-equipo" class="level2">
<h2 class="anchored" data-anchor-id="trabajo-en-equipo">Trabajo en Equipo</h2>
<ul>
<li><p>Intentar replicar la siguiente app, en la cual se muestra un histograma para alguna de las variables numéricas presentes en la base.</p></li>
<li><p>Detalles a considerar:</p>
<ul>
<li>Se pueden elegir múltiples álbums</li>
<li>El título del gráfico debe mostrar los nombres de los álbums seleccionados</li>
<li>El histograma utiliza siempre 10 barras</li>
</ul></li>
</ul>
<p>
</p>
<ul>
<li><strong>Ayuda:</strong> el <em>widget</em> empleado en ambos casos es <code>pickerInput()</code> del paquete <code>shinyWidgets</code>, el cual permite agregar una barra de búsqueda (<em>liveSearch</em>) en su argumento <code>options</code>.</li>
</ul>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="../imagenes/unidad05/app_ejercicio.png" class="lightbox" data-gallery="quarto-lightbox-gallery-6"><img src="../imagenes/unidad05/app_ejercicio.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:90.0%"></a></p>
</figure>
</div>
</div>
</div>


</section>

</main> <!-- /main -->
<script>

/* update total correct if #webex-total_correct exists */
update_total_correct = function() {
  console.log("webex: update total_correct");

  var t = document.getElementsByClassName("webex-total_correct");
  for (var i = 0; i < t.length; i++) {
    p = t[i].parentElement;
    var correct = p.getElementsByClassName("webex-correct").length;
    var solvemes = p.getElementsByClassName("webex-solveme").length;
    var radiogroups = p.getElementsByClassName("webex-radiogroup").length;
    var selects = p.getElementsByClassName("webex-select").length;

    t[i].innerHTML = correct + " of " + (solvemes + radiogroups + selects) + " correct";
  }
}

/* webex-solution button toggling function */
b_func = function() {
  console.log("webex: toggle hide");

  var cl = this.parentElement.classList;
  if (cl.contains('open')) {
    cl.remove("open");
  } else {
    cl.add("open");
  }
}

/* check answers */
check_func = function() {
  console.log("webex: check answers");

  var cl = this.parentElement.classList;
  if (cl.contains('unchecked')) {
    cl.remove("unchecked");
    this.innerHTML = "Hide Answers";
  } else {
    cl.add("unchecked");
    this.innerHTML = "Show Answers";
  }
}

/* function for checking solveme answers */
solveme_func = function(e) {
  console.log("webex: check solveme");

  var real_answers = JSON.parse(this.dataset.answer);
  var my_answer = this.value;
  var cl = this.classList;
  if (cl.contains("ignorecase")) {
    my_answer = my_answer.toLowerCase();
  }
  if (cl.contains("nospaces")) {
    my_answer = my_answer.replace(/ /g, "")
  }

  if (my_answer == "") {
    cl.remove("webex-correct");
    cl.remove("webex-incorrect");
  } else if (real_answers.includes(my_answer)) {
    cl.add("webex-correct");
    cl.remove("webex-incorrect");
  } else {
    cl.add("webex-incorrect");
    cl.remove("webex-correct");
  }

  // match numeric answers within a specified tolerance
  if(this.dataset.tol > 0){
    var tol = JSON.parse(this.dataset.tol);
    var matches = real_answers.map(x => Math.abs(x - my_answer) < tol)
    if (matches.reduce((a, b) => a + b, 0) > 0) {
      cl.add("webex-correct");
    } else {
      cl.remove("webex-correct");
    }
  }

  // added regex bit
  if (cl.contains("regex")){
    answer_regex = RegExp(real_answers.join("|"))
    if (answer_regex.test(my_answer)) {
      cl.add("webex-correct");
    }
  }

  update_total_correct();
}

/* function for checking select answers */
select_func = function(e) {
  console.log("webex: check select");

  var cl = this.classList

  /* add style */
  cl.remove("webex-incorrect");
  cl.remove("webex-correct");
  if (this.value == "answer") {
    cl.add("webex-correct");
  } else if (this.value != "blank") {
    cl.add("webex-incorrect");
  }

  update_total_correct();
}

/* function for checking radiogroups answers */
radiogroups_func = function(e) {
  console.log("webex: check radiogroups");

  var checked_button = document.querySelector('input[name=' + this.id + ']:checked');
  var cl = checked_button.parentElement.classList;
  var labels = checked_button.parentElement.parentElement.children;

  /* get rid of styles */
  for (i = 0; i < labels.length; i++) {
    labels[i].classList.remove("webex-incorrect");
    labels[i].classList.remove("webex-correct");
  }

  /* add style */
  if (checked_button.value == "answer") {
    cl.add("webex-correct");
  } else {
    cl.add("webex-incorrect");
  }

  update_total_correct();
}

window.onload = function() {
  console.log("webex onload");
  /* set up solution buttons */
  var buttons = document.getElementsByTagName("button");

  for (var i = 0; i < buttons.length; i++) {
    if (buttons[i].parentElement.classList.contains('webex-solution')) {
      buttons[i].onclick = b_func;
    }
  }

  var check_sections = document.getElementsByClassName("webex-check");
  console.log("check:", check_sections.length);
  for (var i = 0; i < check_sections.length; i++) {
    check_sections[i].classList.add("unchecked");

    let btn = document.createElement("button");
    btn.innerHTML = "Show Answers";
    btn.classList.add("webex-check-button");
    btn.onclick = check_func;
    check_sections[i].appendChild(btn);

    let spn = document.createElement("span");
    spn.classList.add("webex-total_correct");
    check_sections[i].appendChild(spn);
  }

  /* set up webex-solveme inputs */
  var solveme = document.getElementsByClassName("webex-solveme");

  for (var i = 0; i < solveme.length; i++) {
    /* make sure input boxes don't auto-anything */
    solveme[i].setAttribute("autocomplete","off");
    solveme[i].setAttribute("autocorrect", "off");
    solveme[i].setAttribute("autocapitalize", "off");
    solveme[i].setAttribute("spellcheck", "false");
    solveme[i].value = "";

    /* adjust answer for ignorecase or nospaces */
    var cl = solveme[i].classList;
    var real_answer = solveme[i].dataset.answer;
    if (cl.contains("ignorecase")) {
      real_answer = real_answer.toLowerCase();
    }
    if (cl.contains("nospaces")) {
      real_answer = real_answer.replace(/ /g, "");
    }
    solveme[i].dataset.answer = real_answer;

    /* attach checking function */
    solveme[i].onkeyup = solveme_func;
    solveme[i].onchange = solveme_func;

    solveme[i].insertAdjacentHTML("afterend", " <span class='webex-icon'></span>")
  }

  /* set up radiogroups */
  var radiogroups = document.getElementsByClassName("webex-radiogroup");
  for (var i = 0; i < radiogroups.length; i++) {
    radiogroups[i].onchange = radiogroups_func;
  }

  /* set up selects */
  var selects = document.getElementsByClassName("webex-select");
  for (var i = 0; i < selects.length; i++) {
    selects[i].onchange = select_func;
    selects[i].insertAdjacentHTML("afterend", " <span class='webex-icon'></span>")
  }

  update_total_correct();
}

</script>
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
    const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
    const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
    let newTheme = '';
    if(darkModeDefault) {
      newTheme = isAlternate ? baseTheme : alternateTheme;
    } else {
      newTheme = isAlternate ? alternateTheme : baseTheme;
    }
    const changeGiscusTheme = () => {
      // From: https://github.com/giscus/giscus/issues/336
      const sendMessage = (message) => {
        const iframe = document.querySelector('iframe.giscus-frame');
        if (!iframe) return;
        iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
      }
      sendMessage({
        setConfig: {
          theme: newTheme
        }
      });
    }
    const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
    if (isGiscussLoaded) {
      changeGiscusTheme();
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  const darkModeDefault = false;
  let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
    toggleGiscusIfUsed(toAlternate, darkModeDefault);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copiado");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copiado");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="../capitulos/05.html" class="pagination-link" aria-label="Unidad 5. Shiny">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">Unidad 5. Shiny</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="../capitulos/05_tableros.html" class="pagination-link" aria-label="Tableros">
        <span class="nav-page-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Tableros</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
      &nbsp;
    </div>   
    <div class="nav-footer-center">
<p>Developed by Diego Marfetán Molina and Ivan Millanes</p>
<div class="toc-actions d-sm-block d-md-none"><ul><li><a href="https://github.com/ee-unr/aed/edit/main/capitulos/05_shiny.qmd" class="toc-action"><i class="bi bi-github"></i>Editar esta página</a></li><li><a href="https://github.com/ee-unr/aed/issues/new" class="toc-action"><i class="bi empty"></i>Informar de un problema</a></li><li><a href="https://github.com/ee-unr/aed/blob/main/capitulos/05_shiny.qmd" class="toc-action"><i class="bi empty"></i>Ver el código</a></li></ul></div></div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>
<script>var lightboxQuarto = GLightbox({"closeEffect":"zoom","descPosition":"bottom","loop":false,"openEffect":"zoom","selector":".lightbox"});
(function() {
  let previousOnload = window.onload;
  window.onload = () => {
    if (previousOnload) {
      previousOnload();
    }
    lightboxQuarto.on('slide_before_load', (data) => {
      const { slideIndex, slideNode, slideConfig, player, trigger } = data;
      const href = trigger.getAttribute('href');
      if (href !== null) {
        const imgEl = window.document.querySelector(`a[href="${href}"] img`);
        if (imgEl !== null) {
          const srcAttr = imgEl.getAttribute("src");
          if (srcAttr && srcAttr.startsWith("data:")) {
            slideConfig.href = srcAttr;
          }
        }
      } 
    });
  
    lightboxQuarto.on('slide_after_load', (data) => {
      const { slideIndex, slideNode, slideConfig, player, trigger } = data;
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(slideNode);
      }
    });
  
  };
  
})();
          </script>




</body></html>